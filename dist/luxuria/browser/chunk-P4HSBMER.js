import{b as $t}from"./chunk-NYP5QJCG.js";import{c as st}from"./chunk-L5A4DJEA.js";import{e as Ot}from"./chunk-7PPEBWSN.js";import"./chunk-F5X5MWHG.js";import{a as it,b as nt,c as ot,d as Ce,e as at}from"./chunk-JJ34EKBD.js";import{a as Se,b as At,c as kt}from"./chunk-VQIKGAAO.js";import{b as Ct}from"./chunk-BZP27SCH.js";import{a as gt,b as xt,c as vt,d as bt,e as St,f as Mt,g as Dt,h as Et,i as yt,j as wt,l as Ft,m as Tt}from"./chunk-53CQG6LB.js";import{a as It,c as Nt}from"./chunk-674KBEP4.js";import{e as Me,f as De,g as Vt,h as Pt,i as Rt,j as Ee,k as qt}from"./chunk-HXXT5RSW.js";import{l as ee}from"./chunk-O5DE62TI.js";import{a as ve,g as ut}from"./chunk-GR7DAHDU.js";import{b as B,c as H}from"./chunk-XPOLCQDK.js";import{a as ae}from"./chunk-RK5RVTEM.js";import"./chunk-TAUST47P.js";import"./chunk-KV2HKO7R.js";import"./chunk-MS4AQ6UA.js";import"./chunk-3RK6DDJD.js";import{c as ht}from"./chunk-VNT5V4M3.js";import{E as P,J as R,K as q,L as O,N as $,O as xe,P as dt,Q as pt,R as ct,p as et,q as tt,s as A,t as z,w as ge,z as k}from"./chunk-XC6ZPLQX.js";import{b as _t,c as ft}from"./chunk-YJ3Z37TG.js";import{f as _e,g as fe,i as he,j as T,o as w,q as te,s as ie,t as be,v as ne,z as oe}from"./chunk-SE4BISY2.js";import{$a as b,Ab as V,C as Je,Ra as Ye,Ta as Ze,Wa as rt,Za as Q,cb as I,db as U,gb as lt,h as We,ib as mt,jb as W,kb as K,nb as X,ob as J,q as Ke,tb as Y,w as Xe,xb as Z,zb as N}from"./chunk-XJPX7IZZ.js";import"./chunk-27NP7QR4.js";import{$b as Ae,Ac as a,Bc as F,Cc as M,Eb as y,Gc as Ie,H as le,Hc as Ne,Ic as Ve,Kb as s,Kc as ue,Lc as ze,Rc as Qe,Tb as p,Tc as Ue,Ub as se,Wb as Fe,Yb as g,_b as Te,ac as ke,bc as t,cc as e,dc as _,ec as L,f as Be,fc as j,ha as Le,hc as E,lb as Ge,ma as je,mc as f,oc as u,q as He,qb as l,tc as me,uc as de,vc as pe,wb as v,xa as h,ya as C,zc as G}from"./chunk-YI4P4L32.js";import"./chunk-QDSGMOWV.js";function Ut(n,d){n&1&&(t(0,"mat-error"),a(1," Please enter a valid Name "),e())}function Wt(n,d){n&1&&(t(0,"mat-error"),a(1," Department Name is required "),e())}function Kt(n,d){n&1&&(t(0,"mat-error"),a(1," Please enter a valid mobile "),e())}function Xt(n,d){n&1&&(t(0,"mat-error"),a(1," Please enter a valid email totalStaff "),e())}function Jt(n,d){n&1&&(t(0,"mat-error"),a(1," Please enter a valid Staff amount "),e())}var Ht=(()=>{class n{constructor(i){this.fb=i,this.departmentForm=this.fb.group({hod:["",[b.required]],dName:["",[b.required]],mobile:["",[b.required]],email:["",[b.required]],totalStaff:["",[b.required]],note:[""]})}onSubmit(){console.log("Form Value",this.departmentForm.value)}static{this.\u0275fac=function(r){return new(r||n)(v(Z))}}static{this.\u0275cmp=y({type:n,selectors:[["app-add-department"]],decls:68,vars:14,consts:[[1,"row"],[1,"col-sm-12"],[1,"form-field-full",3,"formGroup"],[1,"row","m-b-24"],[1,"col-sm-6"],["appearance","outline","subscriptSizing","dynamic",1,"example-full-width"],["matInput","","formControlName","hod","required",""],["formControlName","dName","required",""],[3,"value"],["matInput","","formControlName","mobile","type","number"],["matInput","","formControlName","email","required",""],["matInput","","formControlName","totalStaff","type","number"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","note"],["mat-flat-button","","color","primary",1,"m-l-8","m-r-8",3,"disabled"],["type","button","mat-flat-button","","color","warn"]],template:function(r,o){if(r&1&&(_(0,"app-page-header"),t(1,"div",0)(2,"div",1)(3,"mat-card")(4,"mat-card-header")(5,"mat-card-subtitle"),a(6,"Add Department"),e()(),t(7,"mat-card-content")(8,"form",2)(9,"div",3)(10,"div",4)(11,"mat-form-field",5)(12,"mat-label"),a(13,"HOD"),e(),_(14,"input",6),s(15,Ut,2,0,"mat-error"),e()(),t(16,"div",4)(17,"mat-form-field",5)(18,"mat-label"),a(19,"Department Name"),e(),t(20,"mat-select",7)(21,"mat-option",8),a(22," Housekeeping "),e(),t(23,"mat-option",8),a(24," Food and Beverage "),e(),t(25,"mat-option",8),a(26," Kitchen "),e(),t(27,"mat-option",8),a(28," Accounts "),e(),t(29,"mat-option",8),a(30," Security "),e(),t(31,"mat-option",8),a(32," Transport "),e(),t(33,"mat-option",8),a(34," Purchase "),e()(),s(35,Wt,2,0,"mat-error"),e()()(),t(36,"div",3)(37,"div",4)(38,"mat-form-field",5)(39,"mat-label"),a(40,"Mobile"),e(),_(41,"input",9),s(42,Kt,2,0,"mat-error"),e()(),t(43,"div",4)(44,"mat-form-field",5)(45,"mat-label"),a(46,"Email"),e(),_(47,"input",10),s(48,Xt,2,0,"mat-error"),e()()(),t(49,"div",3)(50,"div",4)(51,"mat-form-field",5)(52,"mat-label"),a(53,"Total Staff"),e(),_(54,"input",11),s(55,Jt,2,0,"mat-error"),e()()(),t(56,"div",0)(57,"div",1)(58,"mat-form-field",12)(59,"mat-label"),a(60,"Note"),e(),_(61,"textarea",13),e()()(),t(62,"div",0)(63,"div",1)(64,"button",14),a(65,"Submit"),e(),t(66,"button",15),a(67,"Cancel"),e()()()()()()()()),r&2){let m,c,x,S,D;l(8),p("formGroup",o.departmentForm),l(7),g((m=o.departmentForm.get("hod"))!=null&&m.hasError("required")||(m=o.departmentForm.get("hod"))!=null&&m.touched?15:-1),l(6),p("value","Housekeeping"),l(2),p("value","Food and Beverage"),l(2),p("value","Kitchen"),l(2),p("value","Accounts"),l(2),p("value","Security"),l(2),p("value","Transport"),l(2),p("value","Purchase"),l(2),g((c=o.departmentForm.get("dName"))!=null&&c.hasError("required")||(c=o.departmentForm.get("dName"))!=null&&c.touched?35:-1),l(7),g((x=o.departmentForm.get("mobile"))!=null&&x.hasError("required")||(x=o.departmentForm.get("mobile"))!=null&&x.touched?42:-1),l(6),g((S=o.departmentForm.get("email"))!=null&&S.hasError("required")||(S=o.departmentForm.get("email"))!=null&&S.touched?48:-1),l(7),g((D=o.departmentForm.get("totalStaff"))!=null&&D.hasError("required")||(D=o.departmentForm.get("totalStaff"))!=null&&D.touched?55:-1),l(9),p("disabled",!o.departmentForm.valid)}},dependencies:[ae,N,W,Q,K,I,U,Y,oe,te,ie,ne,be,V,X,J,q,k,A,z,H,B,$,O,P,R,ee,w,T],encapsulation:2})}}return n})();function Yt(n,d){n&1&&(t(0,"mat-error"),a(1," Please enter a valid Name "),e())}function Zt(n,d){n&1&&(t(0,"mat-error"),a(1," Department Name is required "),e())}function ei(n,d){n&1&&(t(0,"mat-error"),a(1," Please enter a valid mobile "),e())}function ti(n,d){n&1&&(t(0,"mat-error"),a(1," Please enter a valid email totalStaff "),e())}function ii(n,d){n&1&&(t(0,"mat-error"),a(1," Please enter a valid Staff amount "),e())}var Lt=(()=>{class n{constructor(i){this.fb=i,this.formdata={hod:"Bertie Jones",dName:"Accounts",mobile:"123456789",email:"test@email.com",totalStaff:"22",note:"test commit"},this.departmentForm=this.createContactForm()}onSubmit(){console.log("Form Value",this.departmentForm.value)}createContactForm(){return this.fb.group({dName:[this.formdata.dName,[b.required]],hod:[this.formdata.hod,[b.required]],email:[this.formdata.email,[b.required]],mobile:[this.formdata.mobile,[b.required]],totalStaff:[this.formdata.totalStaff,[b.required]],note:[this.formdata.note]})}static{this.\u0275fac=function(r){return new(r||n)(v(Z))}}static{this.\u0275cmp=y({type:n,selectors:[["app-edit-department"]],decls:68,vars:14,consts:[[1,"row"],[1,"col-sm-12"],[1,"form-field-full",3,"formGroup"],[1,"row","m-b-24"],[1,"col-sm-6"],["appearance","outline","subscriptSizing","dynamic",1,"example-full-width"],["matInput","","formControlName","hod","required",""],["formControlName","dName","required",""],[3,"value"],["matInput","","formControlName","mobile","type","number"],["matInput","","formControlName","email","required",""],["matInput","","formControlName","totalStaff","type","number"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","note"],["mat-flat-button","","color","primary",1,"m-l-8","m-r-8",3,"disabled"],["type","button","mat-flat-button","","color","warn"]],template:function(r,o){if(r&1&&(_(0,"app-page-header"),t(1,"div",0)(2,"div",1)(3,"mat-card")(4,"mat-card-header")(5,"mat-card-subtitle"),a(6,"Edit Department"),e()(),t(7,"mat-card-content")(8,"form",2)(9,"div",3)(10,"div",4)(11,"mat-form-field",5)(12,"mat-label"),a(13,"HOD"),e(),_(14,"input",6),s(15,Yt,2,0,"mat-error"),e()(),t(16,"div",4)(17,"mat-form-field",5)(18,"mat-label"),a(19,"Department Name"),e(),t(20,"mat-select",7)(21,"mat-option",8),a(22," Housekeeping "),e(),t(23,"mat-option",8),a(24," Food and Beverage "),e(),t(25,"mat-option",8),a(26," Kitchen "),e(),t(27,"mat-option",8),a(28," Accounts "),e(),t(29,"mat-option",8),a(30," Security "),e(),t(31,"mat-option",8),a(32," Transport "),e(),t(33,"mat-option",8),a(34," Purchase "),e()(),s(35,Zt,2,0,"mat-error"),e()()(),t(36,"div",3)(37,"div",4)(38,"mat-form-field",5)(39,"mat-label"),a(40,"Mobile"),e(),_(41,"input",9),s(42,ei,2,0,"mat-error"),e()(),t(43,"div",4)(44,"mat-form-field",5)(45,"mat-label"),a(46,"Email"),e(),_(47,"input",10),s(48,ti,2,0,"mat-error"),e()()(),t(49,"div",3)(50,"div",4)(51,"mat-form-field",5)(52,"mat-label"),a(53,"Total Staff"),e(),_(54,"input",11),s(55,ii,2,0,"mat-error"),e()()(),t(56,"div",0)(57,"div",1)(58,"mat-form-field",12)(59,"mat-label"),a(60,"Note"),e(),_(61,"textarea",13),e()()(),t(62,"div",0)(63,"div",1)(64,"button",14),a(65,"Submit"),e(),t(66,"button",15),a(67,"Cancel"),e()()()()()()()()),r&2){let m,c,x,S,D;l(8),p("formGroup",o.departmentForm),l(7),g((m=o.departmentForm.get("hod"))!=null&&m.hasError("required")||(m=o.departmentForm.get("hod"))!=null&&m.touched?15:-1),l(6),p("value","Housekeeping"),l(2),p("value","Food and Beverage"),l(2),p("value","Kitchen"),l(2),p("value","Accounts"),l(2),p("value","Security"),l(2),p("value","Transport"),l(2),p("value","Purchase"),l(2),g((c=o.departmentForm.get("dName"))!=null&&c.hasError("required")||(c=o.departmentForm.get("dName"))!=null&&c.touched?35:-1),l(7),g((x=o.departmentForm.get("mobile"))!=null&&x.hasError("required")||(x=o.departmentForm.get("mobile"))!=null&&x.touched?42:-1),l(6),g((S=o.departmentForm.get("email"))!=null&&S.hasError("required")||(S=o.departmentForm.get("email"))!=null&&S.touched?48:-1),l(7),g((D=o.departmentForm.get("totalStaff"))!=null&&D.hasError("required")||(D=o.departmentForm.get("totalStaff"))!=null&&D.touched?55:-1),l(9),p("disabled",!o.departmentForm.valid)}},dependencies:[ae,N,W,Q,K,I,U,Y,oe,te,ie,ne,be,V,X,J,q,k,A,z,H,B,$,O,P,R,ee,w,T],encapsulation:2})}}return n})();var we=class{constructor(d){this.id=d.id||this.getRandomID(),this.img=d.img||"assets/images/avatars/avatar-1.jpg",this.dName=d.dName||"",this.hod=d.hod||"",this.mobile=d.mobile||"",this.email=d.email||"",this.totalStaff=d.totalStaff||""}getRandomID(){let d=()=>(1+Math.random())*65536|0;return d()+d()}};var re=(()=>{class n{constructor(i){this.httpClient=i,this.API_URL="assets/data/departments.json"}getAllDepartments(){return this.httpClient.get(this.API_URL).pipe(le(this.handleError))}addDepartment(i){return this.httpClient.post(this.API_URL,i).pipe(le(this.handleError))}updateDepartment(i){return this.httpClient.put(`${this.API_URL}/${i.id}`,i).pipe(le(this.handleError))}deleteDepartment(i){return this.httpClient.delete(`${this.API_URL}/${i}`).pipe(le(this.handleError))}handleError(i){return console.error("An error occurred:",i.message),He(()=>new Error("Something went wrong; please try again later."))}static{this.\u0275fac=function(r){return new(r||n)(je(Je))}}static{this.\u0275prov=Le({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function oi(n,d){n&1&&(t(0,"mat-error"),a(1," Please enter a valid name "),e())}function ai(n,d){n&1&&(t(0,"mat-error"),a(1," Department Name is required "),e())}function ri(n,d){n&1&&(t(0,"mat-error"),a(1," Please enter a valid email totalStaff "),e())}function li(n,d){n&1&&(t(0,"mat-error"),a(1," Mobile is required "),e())}function mi(n,d){n&1&&(t(0,"mat-error"),a(1," Total Staff is required "),e())}var Gt=(()=>{class n{constructor(i,r,o,m){if(this.dialogRef=i,this.data=r,this.allDepartmentService=o,this.fb=m,this.url=null,this.formControl=new lt("",[b.required]),this.action=r.action,this.action==="edit")this.dialogTitle=r.allDepartments.dName,this.allDepartments=r.allDepartments;else{this.dialogTitle="New Record";let c={};this.allDepartments=new we(c)}this.allDepartmentsForm=this.createContactForm()}getErrorMessage(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("name")?"Not a valid name":""}createContactForm(){return this.fb.group({id:[this.allDepartments.id],img:[this.allDepartments.img],hod:[this.allDepartments.hod,[b.required]],dName:[this.allDepartments.dName],email:[this.allDepartments.email],mobile:[this.allDepartments.mobile,[b.required]],totalStaff:[this.allDepartments.totalStaff]})}submit(){this.allDepartmentsForm.valid&&(this.action==="edit"?this.allDepartmentService.updateDepartment(this.allDepartmentsForm.getRawValue()):this.allDepartmentService.addDepartment(this.allDepartmentsForm.getRawValue()),this.dialogRef.close(this.allDepartmentsForm.getRawValue()))}onNoClick(){this.dialogRef.close()}onSelectFile(i){let r=i.target;if(r.files&&r.files[0]){let o=new FileReader;o.readAsDataURL(r.files[0]),o.onload=m=>{m.target&&(this.url=m.target.result)}}}static{this.\u0275fac=function(r){return new(r||n)(v(Me),v(De),v(re),v(Z))}}static{this.\u0275cmp=y({type:n,selectors:[["app-form-dialog"]],features:[ue([{provide:ve,useValue:"en-GB"}])],decls:74,vars:16,consts:[[1,"dialogContainer"],[1,"modalHeader"],[1,"avatarDetails"],["for","tableFileInput",1,"hoverable"],["alt","image",3,"src"],[1,"hover-text"],[1,"background"],["id","tableFileInput","type","file",3,"change"],[1,"modalTitle"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[1,"form-field-full",3,"formGroup"],[1,"row","m-b-24"],[1,"col-sm-6"],["appearance","outline","subscriptSizing","dynamic",1,"example-full-width"],["matInput","","formControlName","hod","required",""],["formControlName","dName","required",""],[3,"value"],[1,"col-sm-12"],["matInput","","formControlName","email","required",""],["matSuffix","",1,"material-icons-outlined","color-icon","p-3"],["matInput","","formControlName","mobile","type","number"],["matInput","","formControlName","totalStaff","type","number"],[1,"example-button-row"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-raised-button","","color","warn","tabindex","-1","type","button",3,"click"]],template:function(r,o){if(r&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),_(4,"img",4),t(5,"div",5),a(6,"Upload"),e(),_(7,"div",6),e(),t(8,"input",7),f("change",function(c){return o.onSelectFile(c)}),e(),t(9,"div",8),a(10),e()(),t(11,"button",9),f("click",function(){return o.dialogRef.close()}),t(12,"mat-icon"),a(13,"close"),e()()(),t(14,"div",10)(15,"form",11)(16,"div",12)(17,"div",13)(18,"mat-form-field",14)(19,"mat-label"),a(20,"HOD"),e(),_(21,"input",15),s(22,oi,2,0,"mat-error"),e()(),t(23,"div",13)(24,"mat-form-field",14)(25,"mat-label"),a(26,"Department Name"),e(),t(27,"mat-select",16)(28,"mat-option",17),a(29," Housekeeping "),e(),t(30,"mat-option",17),a(31," Food and Beverage "),e(),t(32,"mat-option",17),a(33," Kitchen "),e(),t(34,"mat-option",17),a(35," Accounts "),e(),t(36,"mat-option",17),a(37," Security "),e(),t(38,"mat-option",17),a(39," Transport "),e(),t(40,"mat-option",17),a(41," Purchase "),e()(),s(42,ai,2,0,"mat-error"),e()()(),t(43,"div",12)(44,"div",18)(45,"mat-form-field",14)(46,"mat-label"),a(47,"Email"),e(),_(48,"input",19),t(49,"mat-icon",20),a(50,"email"),e(),s(51,ri,2,0,"mat-error"),e()()(),t(52,"div",12)(53,"div",13)(54,"mat-form-field",14)(55,"mat-label"),a(56,"Mobile"),e(),_(57,"input",21),t(58,"mat-icon",20),a(59,"phone"),e(),s(60,li,2,0,"mat-error"),e()(),t(61,"div",13)(62,"mat-form-field",14)(63,"mat-label"),a(64,"Total Staff"),e(),_(65,"input",22),s(66,mi,2,0,"mat-error"),e()()(),t(67,"div",12)(68,"div",18)(69,"div",23)(70,"button",24),f("click",function(){return o.submit()}),a(71,"Save"),e(),t(72,"button",25),f("click",function(){return o.onNoClick()}),a(73,"Cancel"),e()()()()()()()),r&2){let m,c,x,S,D;l(4),p("src",o.url?o.url:o.allDepartments.img,Ge),l(6),M(" ",o.dialogTitle," "),l(5),p("formGroup",o.allDepartmentsForm),l(7),g((m=o.allDepartmentsForm.get("hod"))!=null&&m.hasError("required")||(m=o.allDepartmentsForm.get("hod"))!=null&&m.touched?22:-1),l(6),p("value","Housekeeping"),l(2),p("value","Food and Beverage"),l(2),p("value","Kitchen"),l(2),p("value","Accounts"),l(2),p("value","Security"),l(2),p("value","Transport"),l(2),p("value","Purchase"),l(2),g((c=o.allDepartmentsForm.get("dName"))!=null&&c.hasError("required")?42:-1),l(9),g((x=o.allDepartmentsForm.get("email"))!=null&&x.hasError("required")||(x=o.allDepartmentsForm.get("email"))!=null&&x.touched?51:-1),l(9),g((S=o.allDepartmentsForm.get("mobile"))!=null&&S.hasError("required")?60:-1),l(6),g((D=o.allDepartmentsForm.get("totalStaff"))!=null&&D.hasError("required")?66:-1),l(4),p("disabled",!o.allDepartmentsForm.valid)}},dependencies:[w,T,he,fe,_e,Ee,N,W,Q,K,I,U,Y,V,X,J,q,k,A,z,ge,H,B,st,ee,$,O,P,R,ut,$t],styles:[".hoverable[_ngcontent-%COMP%]{position:relative;display:block;cursor:pointer;height:36px;width:36px;border-radius:50%}.hoverable[_ngcontent-%COMP%]   .hover-text[_ngcontent-%COMP%]{position:absolute;display:none;top:50%;left:50%;font-size:10px;transform:translate(-50%,-50%);z-index:2}.hoverable[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{position:absolute;display:none;inset:0;background-color:#ffffff80;pointer-events:none;border-radius:50%;z-index:1}.hoverable[_ngcontent-%COMP%]:hover   .hover-text[_ngcontent-%COMP%], .hoverable[_ngcontent-%COMP%]:hover   .background[_ngcontent-%COMP%]{display:block}#tableFileInput[_ngcontent-%COMP%]{display:none}"]})}}return n})();var zt=(()=>{class n{constructor(i,r,o){this.dialogRef=i,this.data=r,this.allDepartmentService=o}onNoClick(){this.dialogRef.close()}confirmDelete(){this.allDepartmentService.deleteDepartment(this.data.id),this.dialogRef.close(this.data.id)}static{this.\u0275fac=function(r){return new(r||n)(v(Me),v(De),v(re))}}static{this.\u0275cmp=y({type:n,selectors:[["app-all-department-delete"]],decls:25,vars:4,consts:[[1,"dialogContainer"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"delete-list"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","warn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(r,o){r&1&&(t(0,"div",0)(1,"h3",1),a(2,"Are you sure?"),e(),t(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),a(8,"Department: "),e(),a(9),e()(),t(10,"li")(11,"p")(12,"span",4),a(13," HOD: "),e(),a(14),e()(),t(15,"li")(16,"p")(17,"span",4),a(18,"Mobile: "),e(),a(19),e()()()(),t(20,"div",5)(21,"button",6),f("click",function(){return o.confirmDelete()}),a(22," Delete "),e(),t(23,"button",7),f("click",function(){return o.onNoClick()}),a(24,"Cancel"),e()()()),r&2&&(l(9),M("",o.data.dName," "),l(5),F(o.data.hod),l(5),M("",o.data.mobile," "),l(2),p("mat-dialog-close",1))},dependencies:[Rt,Ee,qt,w,T,Pt],styles:[".delete-list[_ngcontent-%COMP%]{padding:0;list-style-type:none}"]})}}return n})();var di=["filter"],pi=()=>[5,10,25,100];function ci(n,d){if(n&1){let i=E();t(0,"div")(1,"mat-option")(2,"mat-checkbox",40),f("click",function(o){return h(i),C(o.stopPropagation())}),Ve("ngModelChange",function(o){let m=h(i).$implicit;return Ne(m.visible,o)||(m.visible=o),C(o)}),a(3),e()()()}if(n&2){let i=d.$implicit;l(2),Ie("ngModel",i.visible),l(),M(" ",i.label," ")}}function si(n,d){if(n&1){let i=E();t(0,"mat-header-cell",41)(1,"mat-checkbox",42),f("change",function(o){h(i);let m=u();return C(o?m.masterToggle():null)}),e()()}if(n&2){let i=u();p("ngClass","tbl-col-width-per-6"),l(),p("checked",i.selection.hasValue()&&i.isAllSelected())("indeterminate",i.selection.hasValue()&&!i.isAllSelected())("ngClass","tbl-checkbox")}}function ui(n,d){if(n&1){let i=E();t(0,"mat-cell",41)(1,"mat-checkbox",43),f("click",function(o){return h(i),C(o.stopPropagation())})("change",function(o){let m=h(i).$implicit,c=u();return C(o?c.selection.toggle(m):null)}),e()()}if(n&2){let i=d.$implicit,r=u();p("ngClass","tbl-col-width-per-6"),l(),p("checked",r.selection.isSelected(i))("ngClass","tbl-checkbox")}}function _i(n,d){}function fi(n,d){if(n&1&&(t(0,"mat-header-cell",47)(1,"span",48),a(2),e()()),n&2){let i=u(3).$implicit;l(2),F(i.label)}}function hi(n,d){if(n&1){let i=E();t(0,"mat-cell",49),f("contextmenu",function(o){let m=h(i).$implicit,c=u(4);return C(c.onContextMenu(o,m))}),t(1,"span",50),a(2),e(),t(3,"span",48),a(4),Qe(5,"date"),e()()}if(n&2){let i=d.$implicit,r=u(3).$implicit;l(2),M("",r.label,":"),l(2),M(" ",Ue(5,2,i[r.def],"MM/dd/yyyy")," ")}}function Ci(n,d){if(n&1&&(L(0,44),s(1,fi,3,1,"mat-header-cell",45)(2,hi,6,5,"mat-cell",46),j()),n&2){let i=u(2).$implicit;p("matColumnDef",i.def)}}function gi(n,d){if(n&1&&(t(0,"mat-header-cell",47)(1,"span",48),a(2),e()()),n&2){let i=u(4).$implicit;l(2),F(i.label)}}function xi(n,d){if(n&1){let i=E();t(0,"mat-cell",52),f("contextmenu",function(o){let m=h(i).$implicit,c=u(5);return C(c.onContextMenu(o,m))}),t(1,"span",50),a(2),e(),t(3,"mat-icon",53),a(4,"call"),e(),t(5,"span",48),a(6),e()()}if(n&2){let i=d.$implicit,r=u(4).$implicit;p("matTooltip",i[r.def]),l(2),M("",r.label,":"),l(4),M(" ",i[r.def],"")}}function vi(n,d){if(n&1&&(L(0,44),s(1,gi,3,1,"mat-header-cell",45)(2,xi,7,3,"mat-cell",51),j()),n&2){let i=u(3).$implicit;p("matColumnDef",i.def)}}function bi(n,d){if(n&1&&(t(0,"mat-header-cell",47)(1,"span",48),a(2),e()()),n&2){let i=u(5).$implicit;l(2),F(i.label)}}function Si(n,d){if(n&1){let i=E();t(0,"mat-cell",52),f("contextmenu",function(o){let m=h(i).$implicit,c=u(6);return C(c.onContextMenu(o,m))}),t(1,"span",50),a(2),e(),t(3,"mat-icon",54),a(4,"mail"),e(),t(5,"span",48),a(6),e()()}if(n&2){let i=d.$implicit,r=u(5).$implicit;p("matTooltip",i[r.def]),l(2),M("",r.label,":"),l(4),M(" ",i[r.def],"")}}function Mi(n,d){if(n&1&&(L(0,44),s(1,bi,3,1,"mat-header-cell",45)(2,Si,7,3,"mat-cell",51),j()),n&2){let i=u(4).$implicit;p("matColumnDef",i.def)}}function Di(n,d){if(n&1&&(t(0,"mat-header-cell",47)(1,"span",48),a(2),e()()),n&2){let i=u(5).$implicit;l(2),F(i.label)}}function Ei(n,d){if(n&1){let i=E();t(0,"mat-cell",49),f("contextmenu",function(o){let m=h(i).$implicit,c=u(6);return C(c.onContextMenu(o,m))}),t(1,"span",50),a(2),e(),t(3,"span",48),a(4),e()()}if(n&2){let i=d.$implicit,r=u(5).$implicit;l(2),M("",r.label,":"),l(2),F(i[r.def])}}function yi(n,d){if(n&1&&(L(0,44),s(1,Di,3,1,"mat-header-cell",45)(2,Ei,5,2,"mat-cell",46),j()),n&2){let i=u(4).$implicit;p("matColumnDef",i.def)}}function wi(n,d){if(n&1&&s(0,Mi,3,1,"ng-container",44)(1,yi,3,1,"ng-container",44),n&2){let i=u(3).$implicit;g(i.type==="email"?0:1)}}function Fi(n,d){if(n&1&&s(0,vi,3,1,"ng-container",44)(1,wi,2,1),n&2){let i=u(2).$implicit;g(i.type==="phone"?0:1)}}function Ti(n,d){if(n&1&&s(0,Ci,3,1,"ng-container",44)(1,Fi,2,1),n&2){let i=u().$implicit;g(i.type==="date"?0:1)}}function Ai(n,d){if(n&1&&s(0,_i,0,0)(1,Ti,2,1),n&2){let i=d.$implicit;g(i.type==="check"||i.type==="actionBtn"?0:1)}}function ki(n,d){n&1&&(t(0,"mat-header-cell",55),a(1,"Actions"),e())}function Ii(n,d){if(n&1){let i=E();t(0,"mat-cell",55)(1,"button",56),f("click",function(o){return h(i),C(o.stopPropagation())})("click",function(){let o=h(i).$implicit,m=u();return C(m.editCall(o))}),_(2,"app-feather-icons",57),e(),t(3,"button",56),f("click",function(o){return h(i),C(o.stopPropagation())})("click",function(){let o=h(i).$implicit,m=u();return C(m.deleteItem(o))}),_(4,"app-feather-icons",57),e()()}n&2&&(l(2),Fe("tbl-fav-edit"),p("icon","edit"),l(2),Fe("tbl-fav-delete"),p("icon","trash-2"))}function Ni(n,d){n&1&&_(0,"mat-header-row")}function Vi(n,d){if(n&1){let i=E();t(0,"mat-row",58),f("click",function(){let o=h(i).$implicit,m=u();return C(m.editCall(o))}),e()}n&2&&(se("cursor","pointer"),p("@rowsAnimation",void 0))}function Pi(n,d){n&1&&(t(0,"div",34),_(1,"mat-progress-spinner",59),e()),n&2&&(l(),p("diameter",40))}function Ri(n,d){if(n&1){let i=E();t(0,"button",60),f("click",function(){h(i);let o=u();return C(o.addNew())}),t(1,"mat-icon"),a(2,"add_circle_outline"),e(),t(3,"span"),a(4,"Add Record"),e()(),t(5,"button",60),f("click",function(){let o=h(i).item,m=u();return C(m.editCall(o))}),t(6,"mat-icon",22),a(7,"mode_edit"),e(),t(8,"span"),a(9,"Edit Record"),e()(),t(10,"button",60),f("click",function(){let o=h(i).item,m=u();return C(m.deleteItem(o))}),t(11,"mat-icon"),a(12,"delete_outline"),e(),t(13,"span"),a(14,"Delete Record"),e()(),t(15,"button",60),f("click",function(){h(i);let o=u();return C(o.refresh())}),t(16,"mat-icon"),a(17,"refresh"),e(),t(18,"span"),a(19,"Refresh Record"),e()(),t(20,"button",61)(21,"mat-icon"),a(22,"visibility_off"),e(),t(23,"span"),a(24,"Disable"),e()(),t(25,"button",62)(26,"mat-icon"),a(27,"settings_ethernet"),e(),t(28,"span"),a(29," Nested Menu"),e()()}if(n&2){u();let i=G(58);l(25),p("matMenuTriggerFor",i)}}function qi(n,d){if(n&1&&(t(0,"div",63),a(1," No results "),e()),n&2){let i=u();se("display",i.dataSource.data.length===0?"":"none")}}var Qt=(()=>{class n{constructor(i,r,o){this.dialog=i,this.allDepartmentService=r,this.snackBar=o,this.columnDefinitions=[{def:"select",label:"Checkbox",type:"check",visible:!0},{def:"dName",label:"Department Name",type:"text",visible:!0},{def:"hod",label:"HOD",type:"text",visible:!0},{def:"mobile",label:"Mobile",type:"phone",visible:!0},{def:"email",label:"Email",type:"email",visible:!0},{def:"totalStaff",label:"Total Staff",type:"number",visible:!0},{def:"actions",label:"Actions",type:"actionBtn",visible:!0}],this.dataSource=new Tt([]),this.selection=new rt(!0,[]),this.destroy$=new Be,this.contextMenuPosition={x:"0px",y:"0px"},this.isLoading=!0}ngOnInit(){this.loadData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}refresh(){this.loadData()}getDisplayedColumns(){return this.columnDefinitions.filter(i=>i.visible).map(i=>i.def)}editCall(i){this.openDialog("edit",i)}addNew(){this.openDialog("add")}openDialog(i,r){this.dialog.open(Gt,{width:"60vw",maxWidth:"100vw",data:{allDepartments:r,action:i},autoFocus:!1}).afterClosed().subscribe(m=>{m&&(i==="add"?this.dataSource.data=[m,...this.dataSource.data]:this.updateRecord(m),this.refreshTable(),this.showNotification(i==="add"?"snackbar-success":"black",`${i==="add"?"Add":"Edit"} Record Successfully...!!!`,"bottom","center"))})}updateRecord(i){let r=this.dataSource.data.findIndex(o=>o.id===i.id);r!==-1&&(this.dataSource.data[r]=i,this.dataSource._updateChangeSubscription())}deleteItem(i){this.dialog.open(zt,{data:i}).afterClosed().subscribe(o=>{o&&(this.dataSource.data=this.dataSource.data.filter(m=>m.id!==i.id),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))})}refreshTable(){this.paginator.pageIndex=0,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(i){let r=i.target.value.trim().toLowerCase();this.dataSource.filter=r}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(i=>this.selection.select(i))}removeSelectedRows(){let i=this.selection.selected.length;this.dataSource.data=this.dataSource.data.filter(r=>!this.selection.selected.includes(r)),this.selection.clear(),this.showNotification("snackbar-danger",`${i} Record(s) Deleted Successfully...!!!`,"bottom","center")}loadData(){this.allDepartmentService.getAllDepartments().subscribe({next:i=>{this.dataSource.data=i,this.isLoading=!1,this.refreshTable(),this.dataSource.filterPredicate=(r,o)=>Object.values(r).some(m=>m.toString().toLowerCase().includes(o))},error:i=>console.error(i)})}showNotification(i,r,o,m){this.snackBar.open(r,"",{duration:2e3,verticalPosition:o,horizontalPosition:m,panelClass:i})}exportExcel(){let i=this.dataSource.filteredData.map(r=>({"Department Name":r.dName,HOD:r.hod,Mobile:r.mobile,Email:r.email,"Total Staff":r.totalStaff}));pt.exportToExcel(i,"excel")}onContextMenu(i,r){i.preventDefault(),this.contextMenuPosition={x:`${i.clientX}px`,y:`${i.clientY}px`},this.contextMenu&&(this.contextMenu.menuData={item:r},this.contextMenu.menu?.focusFirstItem("mouse"),this.contextMenu.openMenu())}static{this.\u0275fac=function(r){return new(r||n)(v(Vt),v(re),v(Ot))}}static{this.\u0275cmp=y({type:n,selectors:[["app-all-department"]],viewQuery:function(r,o){if(r&1&&(me(xe,5),me(Se,5),me(di,5),me(Ce,5)),r&2){let m;de(m=pe())&&(o.paginator=m.first),de(m=pe())&&(o.sort=m.first),de(m=pe())&&(o.filter=m.first),de(m=pe())&&(o.contextMenu=m.first)}},features:[ue([{provide:ve,useValue:"en-GB"}])],decls:77,vars:17,consts:[["filter",""],["select",""],["contextMenu","matMenu"],["nestedmenu","matMenu"],["paginator",""],[1,"table-header-toolbar"],[1,"row"],[1,"col-sm-8"],[1,"table-header"],["appearance","outline",1,"search-box"],[1,"search-label"],["matInput","","type","text",3,"keyup"],["matSuffix",""],[1,"col-sm-4"],[1,"right-side-btn"],["mat-icon-button","","matTooltip","Delete",1,"tbl-header-btn","text-red",3,"click","hidden"],["mat-icon-button","","matTooltip","Show/Hide Column",1,"text-indigo",3,"click"],[1,"column-filter",2,"width","200px","display","table",3,"ngModelChange","ngModel"],[1,"table-column-label"],["mat-icon-button","","matTooltip","Add",1,"tbl-header-btn","text-green",3,"click"],["mat-icon-button","","matTooltip","Refresh",1,"tbl-header-btn","text-dark-grey",3,"click"],["mat-icon-button","","matTooltip","Xlsx Download",1,"tbl-header-btn","text-blue",3,"click"],[1,"material-icons-outlined"],[1,"overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["matMenuContent",""],["mat-menu-item",""],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["color","primary",3,"click","ngModelChange","ngModel"],[3,"ngClass"],["color","primary",3,"change","checked","indeterminate","ngClass"],["color","primary",3,"click","change","checked","ngClass"],[3,"matColumnDef"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"contextmenu",4,"matCellDef"],["mat-sort-header",""],[1,"truncate-text"],[3,"contextmenu"],[1,"mobile-label"],[3,"matTooltip","contextmenu",4,"matCellDef"],[3,"contextmenu","matTooltip"],[1,"tbl-icon","material-icons-outlined","col-green"],[1,"tbl-icon","material-icons-outlined","col-red"],[1,"pr-0"],["mat-icon-button","","color","accent",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],["color","primary","mode","indeterminate",3,"diameter"],["mat-menu-item","",3,"click"],["mat-menu-item","","disabled",""],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"no-results"]],template:function(r,o){if(r&1){let m=E();_(0,"app-page-header"),t(1,"mat-card")(2,"mat-card-header")(3,"div",5)(4,"div",6)(5,"div",7)(6,"span",8),a(7,"All Departments"),e(),t(8,"mat-form-field",9)(9,"mat-label",10),a(10,"Search..."),e(),t(11,"input",11,0),f("keyup",function(x){return h(m),C(o.applyFilter(x))}),e(),t(13,"mat-icon",12),a(14,"search"),e()()(),t(15,"div",13)(16,"div",14)(17,"button",15),f("click",function(){return h(m),C(o.removeSelectedRows())}),t(18,"mat-icon"),a(19,"delete_outline"),e()(),t(20,"button",16),f("click",function(){h(m);let x=G(24);return C(x.open())}),t(21,"mat-icon"),a(22,"filter_list"),e(),t(23,"mat-select",17,1),Ve("ngModelChange",function(x){h(m);let S=G(12);return Ne(S.value,x)||(S.value=x),C(x)}),t(25,"span",18),a(26,"Show/Hide Column"),e(),Ae(27,ci,4,2,"div",null,Te),e()(),t(29,"button",19),f("click",function(){return h(m),C(o.addNew())}),t(30,"mat-icon"),a(31,"add_circle_outline"),e()(),t(32,"button",20),f("click",function(){return h(m),C(o.refresh())}),t(33,"mat-icon"),a(34,"refresh"),e()(),t(35,"button",21),f("click",function(){return h(m),C(o.exportExcel())}),t(36,"mat-icon",22),a(37,"file_download"),e()()()()()()(),t(38,"mat-card-content")(39,"div",23)(40,"div",24)(41,"table",25),L(42,26),s(43,si,2,4,"mat-header-cell",27)(44,ui,2,3,"mat-cell",28),j(),Ae(45,Ai,2,1,null,null,Te),L(47,29),s(48,ki,2,0,"mat-header-cell",30)(49,Ii,5,6,"mat-cell",31),j(),s(50,Ni,1,0,"mat-header-row",32)(51,Vi,1,3,"mat-row",33),e()(),s(52,Pi,2,1,"div",34),_(53,"div",35),t(54,"mat-menu",null,2),s(56,Ri,30,1,"ng-template",36),e(),t(57,"mat-menu",null,3)(59,"button",37)(60,"mat-icon"),a(61,"mail_outline"),e(),t(62,"span"),a(63,"Item 1"),e()(),t(64,"button",37)(65,"mat-icon"),a(66,"turned_in_not"),e(),t(67,"span"),a(68,"Item 2"),e()(),t(69,"button",37)(70,"mat-icon",22),a(71,"sms"),e(),t(72,"span"),a(73,"Item 3"),e()()(),s(74,qi,2,2,"div",38),_(75,"mat-paginator",39,4),e()()()}if(r&2){let m=G(12),c=G(55);l(17),p("hidden",!o.selection.hasValue()),l(6),Ie("ngModel",m.value),l(4),ke(o.columnDefinitions),l(14),p("dataSource",o.dataSource),l(4),ke(o.columnDefinitions),l(5),p("matHeaderRowDef",o.getDisplayedColumns()),l(),p("matRowDefColumns",o.getDisplayedColumns()),l(),g(o.isLoading?52:-1),l(),se("left",o.contextMenuPosition.x)("top",o.contextMenuPosition.y),p("matMenuTriggerFor",c),l(21),g(o.isLoading?74:-1),l(),p("length",o.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",ze(16,pi))}},dependencies:[ae,oe,te,ie,ne,q,k,A,ge,H,B,fe,_e,w,he,tt,et,$,O,P,V,I,N,mt,Xe,We,Ke,R,ft,_t,Ft,gt,vt,Dt,bt,xt,Et,St,Mt,yt,wt,kt,Se,At,ht,Ze,Ye,Nt,It,at,ot,it,nt,Ce,dt,xe],styles:["[_nghost-%COMP%]     .search-box .mat-mdc-text-field-wrapper{height:40px!important}[_nghost-%COMP%]     .search-box .mat-mdc-form-field-flex{margin-top:-7px!important}[_nghost-%COMP%]     .search-box .mat-mdc-floating-label{height:32px}[_nghost-%COMP%]     .search-box .mat-mdc-input-element{font-size:13px!important}[_nghost-%COMP%]     .search-box .search-label{font-size:13px;top:-4px;position:relative}[_nghost-%COMP%]     .column-filter .mat-mdc-select-arrow{display:none}[_nghost-%COMP%]     .advance-table .mat-mdc-header-cell{font-weight:500}"],data:{animation:[ct]}})}}return n})();var so=[{path:"",redirectTo:"all-departments",pathMatch:"full"},{path:"all-departments",component:Qt},{path:"add-department",component:Ht},{path:"edit-department",component:Lt},{path:"**",component:Ct}];export{so as DEPAERMENTS_ROUTE};
