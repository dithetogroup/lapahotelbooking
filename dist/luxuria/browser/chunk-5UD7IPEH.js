import{b as Et}from"./chunk-NYP5QJCG.js";import{c as Ye}from"./chunk-L5A4DJEA.js";import{e as wt}from"./chunk-7PPEBWSN.js";import"./chunk-F5X5MWHG.js";import{a as Be,b as Pe,c as Ne,d as $,e as Ae}from"./chunk-JJ34EKBD.js";import{a as ie,b as At,c as $t}from"./chunk-VQIKGAAO.js";import{b as Jt}from"./chunk-BZP27SCH.js";import{a as mt,b as ct,c as st,d as dt,e as pt,f as ut,g as _t,h as ft,i as vt,j as Ct,l as ht,m as gt}from"./chunk-53CQG6LB.js";import{a as xt,c as yt}from"./chunk-674KBEP4.js";import{e as Z,f as ee,g as bt,h as St,i as Mt,j as te,k as Tt}from"./chunk-HXXT5RSW.js";import{a as Xt,b as Yt,d as Kt,l as Ze}from"./chunk-O5DE62TI.js";import{a as Ke,g as Je}from"./chunk-GR7DAHDU.js";import{b as K,c as J}from"./chunk-XPOLCQDK.js";import{a as rt}from"./chunk-RK5RVTEM.js";import"./chunk-TAUST47P.js";import"./chunk-KV2HKO7R.js";import"./chunk-MS4AQ6UA.js";import"./chunk-3RK6DDJD.js";import{c as lt}from"./chunk-VNT5V4M3.js";import{E as Q,J as G,K as W,L as X,N as Y,O as fe,Q as Nt,p as qe,q as Ve,s as O,t as $e,w as ve,z as j}from"./chunk-XC6ZPLQX.js";import{b as et,c as tt}from"./chunk-YJ3Z37TG.js";import{f as B,g as P,i as N,j as A,o as R,q as it,s as nt,v as at,z as ot}from"./chunk-SE4BISY2.js";import{$a as D,Ab as z,C as ke,Ra as Fe,Ta as Ie,Wa as Oe,Za as je,cb as H,db as He,g as ge,gb as Bt,h as De,ib as Ue,jb as ze,kb as Pt,nb as Qe,ob as Ge,q as Le,tb as We,w as Re,xb as Xe,zb as U}from"./chunk-XJPX7IZZ.js";import"./chunk-27NP7QR4.js";import{$b as se,Ac as l,Bc as S,Cc as y,Eb as L,Gc as pe,H as k,Hc as ue,Ic as _e,Kb as v,Kc as Me,Lc as Te,Rc as we,Tb as d,Tc as Ee,Ub as V,Wb as me,Yb as h,_b as ce,ac as de,bc as a,cc as i,dc as C,ec as T,f as xe,fc as w,ha as be,hc as b,lb as ae,ma as Se,mc as p,oc as s,q as ye,qb as c,tc as F,uc as I,vc as q,wb as x,xa as u,ya as _,zc as E}from"./chunk-YI4P4L32.js";import"./chunk-QDSGMOWV.js";var Ot=class{constructor(m={}){this.id=m.id||this.getRandomID(),this.employeeId=m.employeeId||"",this.img=m.img||"assets/images/avatars/avatar.jpg",this.name=m.name||"",this.department=m.department||"",this.designation=m.designation||"",this.contact=m.contact||"",this.type=m.type||"",this.from=m.from||ge(new Date,"yyyy-MM-dd","en"),this.leaveTo=m.leaveTo||ge(new Date,"yyyy-MM-dd","en"),this.noOfDays=m.noOfDays||"",this.status=m.status||"",this.approvedBy=m.approvedBy||"",this.submissionDate=m.submissionDate||ge(new Date,"yyyy-MM-dd","en"),this.returnDate=m.returnDate||"",this.substitute=m.substitute||"",this.reason=m.reason||"",this.note=m.note||""}getRandomID(){let m=()=>(1+Math.random())*65536|0;return m().toString(16)+m().toString(16)}};var Dt=(()=>{class t{constructor(e){this.httpClient=e,this.API_URL="assets/data/leaves.json"}getAllLeaves(){return this.httpClient.get(this.API_URL).pipe(k(this.handleError))}addLeaves(e){return this.httpClient.post(this.API_URL,e).pipe(k(this.handleError))}updateLeaves(e){return this.httpClient.put(`${this.API_URL}/${e.id}`,e).pipe(k(this.handleError))}deleteLeaves(e){return this.httpClient.delete(`${this.API_URL}/${e}`).pipe(k(this.handleError))}handleError(e){return console.error("An error occurred:",e.message),ye(()=>new Error("Something went wrong; please try again later."))}static{this.\u0275fac=function(o){return new(o||t)(Se(ke))}}static{this.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function hi(t,m){t&1&&(a(0,"mat-error"),l(1," Employee name is required "),i())}function gi(t,m){t&1&&(a(0,"mat-error"),l(1," Department is required "),i())}function xi(t,m){t&1&&(a(0,"mat-error"),l(1," Leave type is required "),i())}function yi(t,m){t&1&&(a(0,"mat-error"),l(1," Status is required "),i())}function bi(t,m){t&1&&(a(0,"mat-error"),l(1," Start date is required "),i())}function Si(t,m){t&1&&(a(0,"mat-error"),l(1," End date is required "),i())}function Mi(t,m){t&1&&(a(0,"mat-error"),l(1," No of days is required "),i())}var ei=(()=>{class t{constructor(e,o,n,r){this.dialogRef=e,this.data=o,this.leaveRequestService=n,this.fb=r,this.url=null,this.formControl=new Bt("",[D.required]),this.action=o.action,this.action==="edit"?(this.dialogTitle="Leave Request #"+o.leaveRequest.id,this.leaveRequest=o.leaveRequest):(this.dialogTitle="New Leave Request",this.leaveRequest=new Ot),this.leaveRequestForm=this.createLeaveRequestForm()}getErrorMessage(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("custom")?"Not a valid input":""}createLeaveRequestForm(){return this.fb.group({id:[this.leaveRequest.id],employeeId:[this.leaveRequest.employeeId],img:[this.leaveRequest.img],name:[this.leaveRequest.name,[D.required]],department:[this.leaveRequest.department,[D.required]],designation:[this.leaveRequest.designation],contact:[this.leaveRequest.contact],type:[this.leaveRequest.type,[D.required]],from:[this.leaveRequest.from,[D.required]],leaveTo:[this.leaveRequest.leaveTo,[D.required]],noOfDays:[this.leaveRequest.noOfDays],status:[this.leaveRequest.status],approvedBy:[this.leaveRequest.approvedBy],submissionDate:[this.leaveRequest.submissionDate],returnDate:[this.leaveRequest.returnDate],substitute:[this.leaveRequest.substitute],reason:[this.leaveRequest.reason,[D.required]],note:[this.leaveRequest.note]})}submit(){this.leaveRequestForm.valid&&(this.action==="edit"?this.leaveRequestService.updateLeaves(this.leaveRequestForm.getRawValue()):this.leaveRequestService.addLeaves(this.leaveRequestForm.getRawValue()),this.dialogRef.close(this.leaveRequestForm.getRawValue()))}onNoClick(){this.dialogRef.close()}onSelectFile(e){let o=e.target;if(o.files&&o.files[0]){let n=new FileReader;n.readAsDataURL(o.files[0]),n.onload=r=>{r.target&&(this.url=r.target.result)}}}static{this.\u0275fac=function(o){return new(o||t)(x(Z),x(ee),x(Dt),x(Xe))}}static{this.\u0275cmp=L({type:t,selectors:[["app-leave-request-form-dialog"]],features:[Me([{provide:Ke,useValue:"en-GB"}])],decls:110,vars:27,consts:[["startPicker",""],["endPicker",""],[1,"dialogContainer"],[1,"modalHeader"],[1,"avatarDetails"],["for","tableFileInput",1,"hoverable"],["alt","image",3,"src"],[1,"hover-text"],[1,"background"],["id","tableFileInput","type","file",3,"change"],[1,"modalTitle"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[1,"form-field-full",3,"formGroup"],[1,"row","m-b-24"],[1,"col-sm-6"],["appearance","outline","subscriptSizing","dynamic",1,"example-full-width"],["matInput","","formControlName","name","required",""],["formControlName","department","required",""],[3,"value"],["formControlName","type","required",""],["formControlName","status","required",""],["matInput","","formControlName","from","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","leaveTo","required","",3,"matDatepicker"],["matInput","","formControlName","noOfDays","type","number","required",""],["matInput","","formControlName","approvedBy","type","text"],[1,"col-sm-12"],["matInput","","formControlName","reason","rows","4"],[1,"example-button-row"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-raised-button","","color","warn","tabindex","-1","type","button",3,"click"]],template:function(o,n){if(o&1){let r=b();a(0,"div",2)(1,"div",3)(2,"div",4)(3,"label",5),C(4,"img",6),a(5,"div",7),l(6,"Upload"),i(),C(7,"div",8),i(),a(8,"input",9),p("change",function(g){return u(r),_(n.onSelectFile(g))}),i(),a(9,"div",10),l(10),i()(),a(11,"button",11),p("click",function(){return u(r),_(n.dialogRef.close())}),a(12,"mat-icon"),l(13,"close"),i()()(),a(14,"div",12)(15,"form",13)(16,"div",14)(17,"div",15)(18,"mat-form-field",16)(19,"mat-label"),l(20,"Employee Name"),i(),C(21,"input",17),v(22,hi,2,0,"mat-error"),i()(),a(23,"div",15)(24,"mat-form-field",16)(25,"mat-label"),l(26,"Department"),i(),a(27,"mat-select",18)(28,"mat-option",19),l(29,"HR"),i(),a(30,"mat-option",19),l(31,"Finance"),i(),a(32,"mat-option",19),l(33,"House Keeping"),i(),a(34,"mat-option",19),l(35,"Sales"),i(),a(36,"mat-option",19),l(37,"Marketing"),i()(),v(38,gi,2,0,"mat-error"),i()()(),a(39,"div",14)(40,"div",15)(41,"mat-form-field",16)(42,"mat-label"),l(43,"Leave Type"),i(),a(44,"mat-select",20)(45,"mat-option",19),l(46,"Personal Leave"),i(),a(47,"mat-option",19),l(48,"Sick Leave"),i(),a(49,"mat-option",19),l(50,"Annual Leave"),i(),a(51,"mat-option",19),l(52,"Medical Leave"),i()(),v(53,xi,2,0,"mat-error"),i()(),a(54,"div",15)(55,"mat-form-field",16)(56,"mat-label"),l(57,"Status"),i(),a(58,"mat-select",21)(59,"mat-option",19),l(60,"Approved"),i(),a(61,"mat-option",19),l(62,"Pending"),i(),a(63,"mat-option",19),l(64,"Rejected"),i()(),v(65,yi,2,0,"mat-error"),i()()(),a(66,"div",14)(67,"div",15)(68,"mat-form-field",16)(69,"mat-label"),l(70,"Start Date"),i(),C(71,"input",22)(72,"mat-datepicker-toggle",23)(73,"mat-datepicker",null,0),v(75,bi,2,0,"mat-error"),i()(),a(76,"div",15)(77,"mat-form-field",16)(78,"mat-label"),l(79,"End Date"),i(),C(80,"input",24)(81,"mat-datepicker-toggle",23)(82,"mat-datepicker",null,1),v(84,Si,2,0,"mat-error"),i()()(),a(85,"div",14)(86,"div",15)(87,"mat-form-field",16)(88,"mat-label"),l(89,"No of days"),i(),C(90,"input",25),v(91,Mi,2,0,"mat-error"),i()(),a(92,"div",15)(93,"mat-form-field",16)(94,"mat-label"),l(95,"Approved By"),i(),C(96,"input",26),i()()(),a(97,"div",14)(98,"div",27)(99,"mat-form-field",16)(100,"mat-label"),l(101,"Reason"),i(),C(102,"textarea",28),i()()(),a(103,"div",14)(104,"div",27)(105,"div",29)(106,"button",30),p("click",function(){return u(r),_(n.submit())}),l(107,"Save"),i(),a(108,"button",31),p("click",function(){return u(r),_(n.onNoClick())}),l(109,"Cancel"),i()()()()()()()}if(o&2){let r,f,g,M,oe,le,re,Gt=E(74),Wt=E(83);c(4),d("src",n.url?n.url:n.leaveRequest.img,ae),c(6),y(" ",n.dialogTitle," "),c(5),d("formGroup",n.leaveRequestForm),c(7),h((r=n.leaveRequestForm.get("name"))!=null&&r.hasError("required")&&((r=n.leaveRequestForm.get("name"))!=null&&r.touched)?22:-1),c(6),d("value","HR"),c(2),d("value","Finance"),c(2),d("value","House Keeping"),c(2),d("value","Sales"),c(2),d("value","Marketing"),c(2),h((f=n.leaveRequestForm.get("department"))!=null&&f.hasError("required")&&((f=n.leaveRequestForm.get("department"))!=null&&f.touched)?38:-1),c(7),d("value","Personal Leave"),c(2),d("value","Sick Leave"),c(2),d("value","Annual Leave"),c(2),d("value","Medical Leave"),c(2),h((g=n.leaveRequestForm.get("type"))!=null&&g.hasError("required")&&((g=n.leaveRequestForm.get("type"))!=null&&g.touched)?53:-1),c(6),d("value","Approved"),c(2),d("value","Pending"),c(2),d("value","Rejected"),c(2),h((M=n.leaveRequestForm.get("status"))!=null&&M.hasError("required")&&((M=n.leaveRequestForm.get("status"))!=null&&M.touched)?65:-1),c(6),d("matDatepicker",Gt),c(),d("for",Gt),c(3),h((oe=n.leaveRequestForm.get("from"))!=null&&oe.hasError("required")&&((oe=n.leaveRequestForm.get("from"))!=null&&oe.touched)?75:-1),c(5),d("matDatepicker",Wt),c(),d("for",Wt),c(3),h((le=n.leaveRequestForm.get("leaveTo"))!=null&&le.hasError("required")&&((le=n.leaveRequestForm.get("leaveTo"))!=null&&le.touched)?84:-1),c(7),h((re=n.leaveRequestForm.get("noOfDays"))!=null&&re.hasError("required")&&((re=n.leaveRequestForm.get("noOfDays"))!=null&&re.touched)?91:-1),c(15),d("disabled",!n.leaveRequestForm.valid)}},dependencies:[R,A,N,P,B,te,U,ze,je,Pt,H,He,We,z,Qe,Ge,W,j,O,$e,ve,J,K,Ye,Ze,Xt,Yt,Kt,Y,X,Q,G,Je,Et],styles:[".hoverable[_ngcontent-%COMP%]{position:relative;display:block;cursor:pointer;height:36px;width:36px;border-radius:50%}.hoverable[_ngcontent-%COMP%]   .hover-text[_ngcontent-%COMP%]{position:absolute;display:none;top:50%;left:50%;font-size:10px;transform:translate(-50%,-50%);z-index:2}.hoverable[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{position:absolute;display:none;inset:0;background-color:#ffffff80;pointer-events:none;border-radius:50%;z-index:1}.hoverable[_ngcontent-%COMP%]:hover   .hover-text[_ngcontent-%COMP%], .hoverable[_ngcontent-%COMP%]:hover   .background[_ngcontent-%COMP%]{display:block}#tableFileInput[_ngcontent-%COMP%]{display:none}"]})}}return t})();var ti=(()=>{class t{constructor(e,o,n){this.dialogRef=e,this.data=o,this.leaveRequestService=n}onNoClick(){this.dialogRef.close()}confirmDelete(){this.leaveRequestService.deleteLeaves(this.data.id),this.dialogRef.close(this.data.id)}static{this.\u0275fac=function(o){return new(o||t)(x(Z),x(ee),x(Dt))}}static{this.\u0275cmp=L({type:t,selectors:[["app-leave-request-delete"]],decls:25,vars:4,consts:[[1,"dialogContainer"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"delete-list"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","warn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(o,n){o&1&&(a(0,"div",0)(1,"h3",1),l(2,"Are you sure?"),i(),a(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),l(8," Employee Name: "),i(),l(9),i()(),a(10,"li")(11,"p")(12,"span",4),l(13,"Department: "),i(),l(14),i()(),a(15,"li")(16,"p")(17,"span",4),l(18,"Status: "),i(),l(19),i()()()(),a(20,"div",5)(21,"button",6),p("click",function(){return n.confirmDelete()}),l(22," Delete "),i(),a(23,"button",7),p("click",function(){return n.onNoClick()}),l(24,"Cancel"),i()()()),o&2&&(c(9),S(n.data.name),c(5),y("",n.data.department," "),c(5),y("",n.data.status," "),c(2),d("mat-dialog-close",1))},dependencies:[Mt,te,Tt,R,A,St],styles:[".delete-list[_ngcontent-%COMP%]{padding:0;list-style-type:none}"]})}}return t})();var wi=["filter"],Ei=()=>[5,10,25,100];function Di(t,m){if(t&1){let e=b();a(0,"mat-option")(1,"mat-checkbox",41),p("click",function(n){return u(e),_(n.stopPropagation())}),_e("ngModelChange",function(n){let r=u(e).$implicit;return ue(r.visible,n)||(r.visible=n),_(n)}),l(2),i()()}if(t&2){let e=m.$implicit;c(),pe("ngModel",e.visible),c(),y(" ",e.label," ")}}function Li(t,m){if(t&1){let e=b();a(0,"mat-header-cell",42)(1,"mat-checkbox",43),p("change",function(n){u(e);let r=s();return _(n?r.masterToggle():null)}),i()()}if(t&2){let e=s();d("ngClass","tbl-col-width-per-6"),c(),d("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("ngClass","tbl-checkbox")}}function Ri(t,m){if(t&1){let e=b();a(0,"mat-cell",42)(1,"mat-checkbox",44),p("click",function(n){return u(e),_(n.stopPropagation())})("change",function(n){let r=u(e).$implicit,f=s();return _(n?f.selection.toggle(r):null)}),i()()}if(t&2){let e=m.$implicit,o=s();d("ngClass","tbl-col-width-per-6"),c(),d("checked",o.selection.isSelected(e))("ngClass","tbl-checkbox")}}function ki(t,m){}function Fi(t,m){if(t&1&&(a(0,"mat-header-cell",48)(1,"span",49),l(2),i()()),t&2){let e=s(3).$implicit;c(2),S(e.label)}}function Ii(t,m){if(t&1){let e=b();a(0,"mat-cell",50),p("contextmenu",function(n){let r=u(e).$implicit,f=s(4);return _(f.onContextMenu(n,r))}),a(1,"span",51),l(2),i(),C(3,"img",52),a(4,"span",49),l(5),i()()}if(t&2){let e=m.$implicit,o=s(3).$implicit;d("matTooltip",e[o.def]),c(2),y("",o.label,":"),c(),d("src",e.img,ae),c(2),y(" ",e[o.def],"")}}function qi(t,m){if(t&1&&(T(0,45),v(1,Fi,3,1,"mat-header-cell",46)(2,Ii,6,4,"mat-cell",47),w()),t&2){let e=s(2).$implicit;d("matColumnDef",e.def)}}function Vi(t,m){if(t&1&&(a(0,"mat-header-cell",48)(1,"span",49),l(2),i()()),t&2){let e=s(4).$implicit;c(2),S(e.label)}}function Bi(t,m){if(t&1){let e=b();a(0,"mat-cell",54),p("contextmenu",function(n){let r=u(e).$implicit,f=s(5);return _(f.onContextMenu(n,r))}),a(1,"span",51),l(2),i(),a(3,"span",49),l(4),we(5,"date"),i()()}if(t&2){let e=m.$implicit,o=s(4).$implicit;c(2),y("",o.label,":"),c(2),y(" ",Ee(5,2,e[o.def],"MM/dd/yyyy"),"")}}function Pi(t,m){if(t&1&&(T(0,45),v(1,Vi,3,1,"mat-header-cell",46)(2,Bi,6,5,"mat-cell",53),w()),t&2){let e=s(3).$implicit;d("matColumnDef",e.def)}}function Ni(t,m){if(t&1&&(a(0,"mat-header-cell",48)(1,"span",49),l(2),i()()),t&2){let e=s(5).$implicit;c(2),S(e.label)}}function Ai(t,m){if(t&1&&(a(0,"div")(1,"span",55),l(2),i()()),t&2){let e=s().$implicit;c(2),S(e.status)}}function $i(t,m){if(t&1&&(a(0,"div")(1,"span",56),l(2),i()()),t&2){let e=s().$implicit;c(2),S(e.status)}}function Oi(t,m){if(t&1&&(a(0,"div")(1,"span",57),l(2),i()()),t&2){let e=s().$implicit;c(2),S(e.status)}}function ji(t,m){if(t&1){let e=b();a(0,"mat-cell",54),p("contextmenu",function(n){let r=u(e).$implicit,f=s(6);return _(f.onContextMenu(n,r))}),a(1,"span",51),l(2),i(),a(3,"div"),v(4,Ai,3,1,"div")(5,$i,3,1,"div")(6,Oi,3,1,"div"),i()()}if(t&2){let e,o=m.$implicit,n=s(5).$implicit;c(2),y("",n.label,":"),c(2),h((e=o.status)==="Approved"?4:e==="Pending"?5:e==="Rejected"?6:-1)}}function Hi(t,m){if(t&1&&(T(0,45),v(1,Ni,3,1,"mat-header-cell",46)(2,ji,7,2,"mat-cell",53),w()),t&2){let e=s(4).$implicit;d("matColumnDef",e.def)}}function Ui(t,m){if(t&1&&(a(0,"mat-header-cell",48)(1,"span",49),l(2),i()()),t&2){let e=s(5).$implicit;c(2),S(e.label)}}function zi(t,m){if(t&1){let e=b();a(0,"mat-cell",54),p("contextmenu",function(n){let r=u(e).$implicit,f=s(6);return _(f.onContextMenu(n,r))}),a(1,"span",51),l(2),i(),a(3,"span",49),l(4),i()()}if(t&2){let e=m.$implicit,o=s(5).$implicit;c(2),y("",o.label,":"),c(2),y(" ",e[o.def],"")}}function Qi(t,m){if(t&1&&(T(0,45),v(1,Ui,3,1,"mat-header-cell",46)(2,zi,5,2,"mat-cell",53),w()),t&2){let e=s(4).$implicit;d("matColumnDef",e.def)}}function Gi(t,m){if(t&1&&v(0,Hi,3,1,"ng-container",45)(1,Qi,3,1,"ng-container",45),t&2){let e=s(3).$implicit;h(e.def==="status"?0:1)}}function Wi(t,m){if(t&1&&v(0,Pi,3,1,"ng-container",45)(1,Gi,2,1),t&2){let e=s(2).$implicit;h(e.type==="date"?0:1)}}function Xi(t,m){if(t&1&&v(0,qi,3,1,"ng-container",45)(1,Wi,2,1),t&2){let e=s().$implicit;h(e.def==="name"?0:1)}}function Yi(t,m){if(t&1&&v(0,ki,0,0)(1,Xi,2,1),t&2){let e=m.$implicit;h(e.type==="checkBox"||e.type==="actionBtn"?0:1)}}function Ki(t,m){t&1&&(a(0,"mat-header-cell",58),l(1,"Actions"),i())}function Ji(t,m){if(t&1){let e=b();a(0,"mat-cell",58)(1,"button",59),p("click",function(n){return u(e),_(n.stopPropagation())})("click",function(){let n=u(e).$implicit,r=s();return _(r.editCall(n))}),C(2,"app-feather-icons",60),i(),a(3,"button",59),p("click",function(n){return u(e),_(n.stopPropagation())})("click",function(){let n=u(e).$implicit,r=s();return _(r.deleteItem(n))}),C(4,"app-feather-icons",60),i()()}t&2&&(c(2),me("tbl-fav-edit"),d("icon","edit"),c(2),me("tbl-fav-delete"),d("icon","trash-2"))}function Zi(t,m){t&1&&C(0,"mat-header-row")}function en(t,m){if(t&1){let e=b();a(0,"mat-row",61),p("click",function(){let n=u(e).$implicit,r=s();return _(r.editCall(n))}),i()}t&2&&V("cursor","pointer")}function tn(t,m){t&1&&(a(0,"div",35),C(1,"mat-progress-spinner",62),i()),t&2&&(c(),d("diameter",40))}function nn(t,m){if(t&1){let e=b();a(0,"button",63),p("click",function(){u(e);let n=s();return _(n.addNew())}),a(1,"mat-icon"),l(2,"add_circle_outline"),i(),a(3,"span"),l(4,"Add Record"),i()(),a(5,"button",63),p("click",function(){let n=u(e).item,r=s();return _(r.editCall(n))}),a(6,"mat-icon",23),l(7,"mode_edit"),i(),a(8,"span"),l(9,"Edit Record"),i()(),a(10,"button",63),p("click",function(){let n=u(e).item,r=s();return _(r.deleteItem(n))}),a(11,"mat-icon"),l(12,"delete_outline"),i(),a(13,"span"),l(14,"Delete Record"),i()(),a(15,"button",63),p("click",function(){u(e);let n=s();return _(n.refresh())}),a(16,"mat-icon"),l(17,"refresh"),i(),a(18,"span"),l(19,"Refresh Record"),i()(),a(20,"button",64)(21,"mat-icon"),l(22,"visibility_off"),i(),a(23,"span"),l(24,"Disable"),i()(),a(25,"button",65)(26,"mat-icon"),l(27,"settings_ethernet"),i(),a(28,"span"),l(29," Nested Menu"),i()()}if(t&2){s();let e=E(59);c(25),d("matMenuTriggerFor",e)}}function an(t,m){if(t&1&&(a(0,"div",66),l(1," No results "),i()),t&2){let e=s();V("display",e.dataSource.data.length===0?"":"none")}}var di=(()=>{class t{constructor(e,o,n){this.dialog=e,this.leaveRequestService=o,this.snackBar=n,this.columnDefinitions=[{def:"select",label:"Select",type:"checkBox",visible:!0},{def:"id",label:"ID",type:"text",visible:!1},{def:"employeeId",label:"Emp ID",type:"text",visible:!1},{def:"name",label:"Name",type:"text",visible:!0},{def:"department",label:"Department",type:"text",visible:!0},{def:"designation",label:"Designation",type:"text",visible:!1},{def:"type",label:"Leave Type",type:"text",visible:!0},{def:"status",label:"Status",type:"text",visible:!0},{def:"from",label:"From",type:"date",visible:!0},{def:"leaveTo",label:"To",type:"date",visible:!0},{def:"noOfDays",label:"No of Days",type:"number",visible:!0},{def:"approvedBy",label:"Approved By",type:"text",visible:!0},{def:"submissionDate",label:"Submission Date",type:"date",visible:!1},{def:"returnDate",label:"Return Date",type:"date",visible:!1},{def:"substitute",label:"Substitute",type:"text",visible:!1},{def:"reason",label:"Reason",type:"text",visible:!1},{def:"note",label:"Note",type:"text",visible:!1},{def:"actions",label:"Actions",type:"actionBtn",visible:!0}],this.dataSource=new gt([]),this.selection=new Oe(!0,[]),this.destroy$=new xe,this.contextMenuPosition={x:"0px",y:"0px"},this.isLoading=!0}ngOnInit(){this.loadData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}refresh(){this.loadData()}getDisplayedColumns(){return this.columnDefinitions.filter(e=>e.visible).map(e=>e.def)}editCall(e){this.openDialog("edit",e)}addNew(){this.openDialog("add")}openDialog(e,o){this.dialog.open(ei,{width:"60vw",maxWidth:"100vw",data:{leaveRequest:o,action:e},autoFocus:!1}).afterClosed().subscribe(r=>{r&&(e==="add"?this.dataSource.data=[r,...this.dataSource.data]:this.updateRecord(r),this.refreshTable(),this.showNotification(e==="add"?"snackbar-success":"black",`${e==="add"?"Add":"Edit"} Record Successfully...!!!`,"bottom","center"))})}updateRecord(e){let o=this.dataSource.data.findIndex(n=>n.id===e.id);o!==-1&&(this.dataSource.data[o]=e,this.dataSource._updateChangeSubscription())}deleteItem(e){this.dialog.open(ti,{data:e}).afterClosed().subscribe(n=>{n&&(this.dataSource.data=this.dataSource.data.filter(r=>r.id!==e.id),this.refreshTable(),this.showNotification("snackbar-danger","Deleted Record Successfully...!!!","bottom","center"))})}refreshTable(){this.paginator.pageIndex=0,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(e){let o=e.target.value.trim().toLowerCase();this.dataSource.filter=o}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}removeSelectedRows(){let e=this.selection.selected.length;this.dataSource.data=this.dataSource.data.filter(o=>!this.selection.selected.includes(o)),this.selection.clear(),this.showNotification("snackbar-danger",`${e} Record(s) Deleted Successfully...!!!`,"bottom","center")}loadData(){this.leaveRequestService.getAllLeaves().subscribe({next:e=>{this.dataSource.data=e,this.isLoading=!1,this.refreshTable(),this.dataSource.filterPredicate=(o,n)=>Object.values(o).some(r=>r.toString().toLowerCase().includes(n))},error:e=>console.error(e)})}showNotification(e,o,n,r){this.snackBar.open(o,"",{duration:2e3,verticalPosition:n,horizontalPosition:r,panelClass:e})}exportExcel(){let e=this.dataSource.filteredData.map(o=>({ID:o.id,"Employee ID":o.employeeId,Name:o.name,Department:o.department,Designation:o.designation,"Leave Type":o.type,From:o.from,To:o.leaveTo,"No of Days":o.noOfDays,Status:o.status,"Approved By":o.approvedBy,"Submission Date":o.submissionDate,"Return Date":o.returnDate,Substitute:o.substitute,Reason:o.reason,Note:o.note}));Nt.exportToExcel(e,"leave_requests")}onContextMenu(e,o){e.preventDefault(),this.contextMenuPosition.x=`${e.clientX}px`,this.contextMenuPosition.y=`${e.clientY}px`,this.contextMenu?.menu&&(this.contextMenu.menuData={item:o},this.contextMenu.menu.focusFirstItem("mouse"),this.contextMenu.openMenu())}static{this.\u0275fac=function(o){return new(o||t)(x(bt),x(Dt),x(wt))}}static{this.\u0275cmp=L({type:t,selectors:[["app-leave-request"]],viewQuery:function(o,n){if(o&1&&(F(fe,5),F(ie,5),F(wi,5),F($,5)),o&2){let r;I(r=q())&&(n.paginator=r.first),I(r=q())&&(n.sort=r.first),I(r=q())&&(n.filter=r.first),I(r=q())&&(n.contextMenu=r.first)}},decls:78,vars:17,consts:[["filter",""],["select",""],["contextMenuTrigger","matMenuTrigger"],["contextMenu","matMenu"],["nestedmenu","matMenu"],["paginator",""],[1,"table-header-toolbar"],[1,"row"],[1,"col-sm-8"],[1,"table-header"],["appearance","outline",1,"search-box"],[1,"search-label"],["matInput","","type","text",3,"keyup"],["matSuffix",""],[1,"col-sm-4"],[1,"right-side-btn"],["mat-icon-button","","matTooltip","Delete",1,"tbl-header-btn","text-red",3,"click","hidden"],["mat-icon-button","","matTooltip","Show/Hide Column",1,"text-indigo",3,"click"],[1,"column-filter",2,"width","200px","display","table",3,"ngModelChange","ngModel"],[1,"table-column-label"],["mat-icon-button","","matTooltip","Add",1,"tbl-header-btn","text-green",3,"click"],["mat-icon-button","","matTooltip","Refresh",1,"tbl-header-btn","text-dark-grey",3,"click"],["mat-icon-button","","matTooltip","Xlsx Download",1,"tbl-header-btn","text-blue",3,"click"],[1,"material-icons-outlined"],[1,"overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["matMenuContent",""],["mat-menu-item",""],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["color","primary",3,"click","ngModelChange","ngModel"],[3,"ngClass"],["color","primary",3,"change","checked","indeterminate","ngClass"],["color","primary",3,"click","change","checked","ngClass"],[3,"matColumnDef"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"matTooltip","contextmenu",4,"matCellDef"],["mat-sort-header",""],[1,"truncate-text"],[3,"contextmenu","matTooltip"],[1,"mobile-label"],["alt","image",1,"table-img",3,"src"],[3,"contextmenu",4,"matCellDef"],[3,"contextmenu"],[1,"badge","badge-solid-green"],[1,"badge","badge-solid-orange"],[1,"badge","badge-solid-red"],[1,"pr-0"],["mat-icon-button","","color","accent",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],["color","primary","mode","indeterminate",3,"diameter"],["mat-menu-item","",3,"click"],["mat-menu-item","","disabled",""],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"no-results"]],template:function(o,n){if(o&1){let r=b();C(0,"app-page-header"),a(1,"mat-card")(2,"mat-card-header")(3,"div",6)(4,"div",7)(5,"div",8)(6,"span",9),l(7,"Leave Requests"),i(),a(8,"mat-form-field",10)(9,"mat-label",11),l(10,"Search..."),i(),a(11,"input",12,0),p("keyup",function(g){return u(r),_(n.applyFilter(g))}),i(),a(13,"mat-icon",13),l(14,"search"),i()()(),a(15,"div",14)(16,"div",15)(17,"button",16),p("click",function(){return u(r),_(n.removeSelectedRows())}),a(18,"mat-icon"),l(19,"delete_outline"),i()(),a(20,"button",17),p("click",function(){u(r);let g=E(24);return _(g.open())}),a(21,"mat-icon"),l(22,"filter_list"),i(),a(23,"mat-select",18,1),_e("ngModelChange",function(g){u(r);let M=E(12);return ue(M.value,g)||(M.value=g),_(g)}),a(25,"span",19),l(26,"Show/Hide Column"),i(),se(27,Di,3,2,"mat-option",null,ce),i()(),a(29,"button",20),p("click",function(){return u(r),_(n.addNew())}),a(30,"mat-icon"),l(31,"add_circle_outline"),i()(),a(32,"button",21),p("click",function(){return u(r),_(n.refresh())}),a(33,"mat-icon"),l(34,"refresh"),i()(),a(35,"button",22),p("click",function(){return u(r),_(n.exportExcel())}),a(36,"mat-icon",23),l(37,"file_download"),i()()()()()()(),a(38,"mat-card-content")(39,"div",24)(40,"div",25)(41,"table",26),T(42,27),v(43,Li,2,4,"mat-header-cell",28)(44,Ri,2,3,"mat-cell",29),w(),se(45,Yi,2,1,null,null,ce),T(47,30),v(48,Ki,2,0,"mat-header-cell",31)(49,Ji,5,6,"mat-cell",32),w(),v(50,Zi,1,0,"mat-header-row",33)(51,en,1,2,"mat-row",34),i()(),v(52,tn,2,1,"div",35),C(53,"div",36,2),a(55,"mat-menu",null,3),v(57,nn,30,1,"ng-template",37),i(),a(58,"mat-menu",null,4)(60,"button",38)(61,"mat-icon"),l(62,"mail_outline"),i(),a(63,"span"),l(64,"Item 1"),i()(),a(65,"button",38)(66,"mat-icon"),l(67,"turned_in_not"),i(),a(68,"span"),l(69,"Item 2"),i()(),a(70,"button",38)(71,"mat-icon",23),l(72,"sms"),i(),a(73,"span"),l(74,"Item 3"),i()()(),v(75,an,2,2,"div",39),C(76,"mat-paginator",40,5),i()()()}if(o&2){let r=E(12),f=E(56);c(17),d("hidden",!n.selection.hasValue()),c(6),pe("ngModel",r.value),c(4),de(n.columnDefinitions),c(14),d("dataSource",n.dataSource),c(4),de(n.columnDefinitions),c(5),d("matHeaderRowDef",n.getDisplayedColumns()),c(),d("matRowDefColumns",n.getDisplayedColumns()),c(),h(n.isLoading?52:-1),c(),V("left",n.contextMenuPosition.x)("top",n.contextMenuPosition.y),d("matMenuTriggerFor",f),c(22),h(n.isLoading?75:-1),c(),d("length",n.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",Te(16,Ei))}},dependencies:[rt,ot,it,nt,at,W,j,O,ve,J,K,P,B,R,N,Ve,qe,Y,X,Q,z,H,U,Ue,Re,De,Le,G,tt,et,ht,mt,st,_t,dt,ct,ft,pt,ut,vt,Ct,$t,ie,At,lt,Ie,Fe,yt,xt,Ae,Ne,Be,Pe,$,fe],styles:["[_nghost-%COMP%]     .search-box .mat-mdc-text-field-wrapper{height:40px!important}[_nghost-%COMP%]     .search-box .mat-mdc-form-field-flex{margin-top:-7px!important}[_nghost-%COMP%]     .search-box .mat-mdc-floating-label{height:32px}[_nghost-%COMP%]     .search-box .mat-mdc-input-element{font-size:13px!important}[_nghost-%COMP%]     .search-box .search-label{font-size:13px;top:-4px;position:relative}[_nghost-%COMP%]     .column-filter .mat-mdc-select-arrow{display:none}[_nghost-%COMP%]     .advance-table .mat-mdc-header-cell{font-weight:500}"]})}}return t})();var jt=class{constructor(m={}){this.employeeId=m.employeeId||"",this.employeeName=m.employeeName||"",this.department=m.department||"",this.designation=m.designation||"",this.leaveType=m.leaveType||"",this.totalEntitlement=m.totalEntitlement||"0 days",this.leaveTaken=m.leaveTaken||"0 days",this.leaveBalance=m.leaveBalance||"0 days",this.carryForward=m.carryForward||"0 days",this.accrualRate=m.accrualRate||"0 days/month",this.notes=m.notes||"",this.img=m.img||"assets/images/avatars/avatar.jpg"}getRandomID(){let m=()=>(1+Math.random())*65536|0;return m().toString(16)+m().toString(16)}};var Lt=(()=>{class t{constructor(e){this.httpClient=e,this.API_URL="assets/data/leaveBalances.json"}getAllLeaveBalances(){return this.httpClient.get(this.API_URL).pipe(k(this.handleError))}addLeaveBalance(e){return this.httpClient.post(this.API_URL,e).pipe(k(this.handleError))}updateLeaveBalance(e){return this.httpClient.put(`${this.API_URL}/${e.employeeId}`,e).pipe(k(this.handleError))}deleteLeaveBalance(e){return this.httpClient.delete(`${this.API_URL}/${e}`).pipe(k(this.handleError))}handleError(e){return console.error("An error occurred:",e.message),ye(()=>new Error("Something went wrong; please try again later."))}static{this.\u0275fac=function(o){return new(o||t)(Se(ke))}}static{this.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function on(t,m){t&1&&(a(0,"mat-error"),l(1," Employee ID is required "),i())}function ln(t,m){t&1&&(a(0,"mat-error"),l(1," Employee Name is required "),i())}function rn(t,m){t&1&&(a(0,"mat-error"),l(1," Department is required "),i())}function mn(t,m){t&1&&(a(0,"mat-error"),l(1," Leave Type is required "),i())}function cn(t,m){t&1&&(a(0,"mat-error"),l(1," Total Entitlement is required "),i())}function sn(t,m){t&1&&(a(0,"mat-error"),l(1," Leave Taken is required "),i())}function dn(t,m){t&1&&(a(0,"mat-error"),l(1," Leave Balance is required "),i())}var pi=(()=>{class t{constructor(e,o,n,r){this.dialogRef=e,this.data=o,this.leaveBalanceService=n,this.fb=r,this.url=null,this.formControl=new Bt("",[D.required]),this.action=o.action,this.action==="edit"?(this.dialogTitle="Leave Balance #"+o.leaveBalance.employeeName,this.leaveBalance=o.leaveBalance):(this.dialogTitle="New Leave Balance",this.leaveBalance=new jt),this.leaveBalanceForm=this.createLeaveBalanceForm()}getErrorMessage(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("custom")?"Not a valid input":""}createLeaveBalanceForm(){return this.fb.group({id:[this.leaveBalance.employeeId],employeeId:[this.leaveBalance.employeeId,[D.required]],employeeName:[this.leaveBalance.employeeName,[D.required]],department:[this.leaveBalance.department,[D.required]],designation:[this.leaveBalance.designation],leaveType:[this.leaveBalance.leaveType,[D.required]],totalEntitlement:[this.leaveBalance.totalEntitlement,[D.required]],leaveTaken:[this.leaveBalance.leaveTaken,[D.required]],leaveBalance:[this.leaveBalance.leaveBalance,[D.required]],carryForward:[this.leaveBalance.carryForward],accrualRate:[this.leaveBalance.accrualRate],notes:[this.leaveBalance.notes],img:[this.leaveBalance.img]})}submit(){this.leaveBalanceForm.valid&&(this.action==="edit"?this.leaveBalanceService.updateLeaveBalance(this.leaveBalanceForm.getRawValue()):this.leaveBalanceService.addLeaveBalance(this.leaveBalanceForm.getRawValue()),this.dialogRef.close(this.leaveBalanceForm.getRawValue()))}onNoClick(){this.dialogRef.close()}onSelectFile(e){let o=e.target;if(o.files&&o.files[0]){let n=new FileReader;n.readAsDataURL(o.files[0]),n.onload=r=>{r.target&&(this.url=r.target.result,this.leaveBalanceForm.patchValue({img:this.url}))}}}static{this.\u0275fac=function(o){return new(o||t)(x(Z),x(ee),x(Lt),x(Xe))}}static{this.\u0275cmp=L({type:t,selectors:[["app-leave-balance-form-dialog"]],features:[Me([{provide:Ke,useValue:"en-GB"}])],decls:99,vars:11,consts:[[1,"dialogContainer"],[1,"modalHeader"],[1,"avatarDetails"],["for","tableFileInput",1,"hoverable"],["alt","image",3,"src"],[1,"hover-text"],[1,"background"],["id","tableFileInput","type","file",3,"change"],[1,"modalTitle"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[1,"form-field-full",3,"formGroup"],[1,"row","m-b-24"],[1,"col-sm-6"],["appearance","outline","subscriptSizing","dynamic",1,"example-full-width"],["matInput","","formControlName","employeeId","required",""],["matInput","","formControlName","employeeName","required",""],["matInput","","formControlName","department","required",""],["matInput","","formControlName","designation"],["formControlName","leaveType","required",""],["value","Sick Leave"],["value","Annual Leave"],["value","Medical Leave"],["value","Personal Leave"],["matInput","","formControlName","totalEntitlement","required",""],["matInput","","formControlName","leaveTaken","required",""],["matInput","","formControlName","leaveBalance","required",""],["matInput","","formControlName","carryForward"],["matInput","","formControlName","accrualRate"],[1,"col-sm-12"],["matInput","","formControlName","notes","rows","4"],[1,"example-button-row"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-raised-button","","color","warn","tabindex","-1","type","button",3,"click"]],template:function(o,n){if(o&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"label",3),C(4,"img",4),a(5,"div",5),l(6,"Upload"),i(),C(7,"div",6),i(),a(8,"input",7),p("change",function(f){return n.onSelectFile(f)}),i(),a(9,"div",8),l(10),i()(),a(11,"button",9),p("click",function(){return n.dialogRef.close()}),a(12,"mat-icon"),l(13,"close"),i()()(),a(14,"div",10)(15,"form",11)(16,"div",12)(17,"div",13)(18,"mat-form-field",14)(19,"mat-label"),l(20,"Employee ID"),i(),C(21,"input",15),v(22,on,2,0,"mat-error"),i()(),a(23,"div",13)(24,"mat-form-field",14)(25,"mat-label"),l(26,"Employee Name"),i(),C(27,"input",16),v(28,ln,2,0,"mat-error"),i()()(),a(29,"div",12)(30,"div",13)(31,"mat-form-field",14)(32,"mat-label"),l(33,"Department"),i(),C(34,"input",17),v(35,rn,2,0,"mat-error"),i()(),a(36,"div",13)(37,"mat-form-field",14)(38,"mat-label"),l(39,"Designation"),i(),C(40,"input",18),i()()(),a(41,"div",12)(42,"div",13)(43,"mat-form-field",14)(44,"mat-label"),l(45,"Leave Type"),i(),a(46,"mat-select",19)(47,"mat-option",20),l(48,"Sick Leave"),i(),a(49,"mat-option",21),l(50,"Annual Leave"),i(),a(51,"mat-option",22),l(52,"Medical Leave"),i(),a(53,"mat-option",23),l(54,"Personal Leave"),i()(),v(55,mn,2,0,"mat-error"),i()(),a(56,"div",13)(57,"mat-form-field",14)(58,"mat-label"),l(59,"Total Entitlement"),i(),C(60,"input",24),v(61,cn,2,0,"mat-error"),i()()(),a(62,"div",12)(63,"div",13)(64,"mat-form-field",14)(65,"mat-label"),l(66,"Leave Taken"),i(),C(67,"input",25),v(68,sn,2,0,"mat-error"),i()(),a(69,"div",13)(70,"mat-form-field",14)(71,"mat-label"),l(72,"Leave Balance"),i(),C(73,"input",26),v(74,dn,2,0,"mat-error"),i()()(),a(75,"div",12)(76,"div",13)(77,"mat-form-field",14)(78,"mat-label"),l(79,"Carry Forward"),i(),C(80,"input",27),i()(),a(81,"div",13)(82,"mat-form-field",14)(83,"mat-label"),l(84,"Accrual Rate"),i(),C(85,"input",28),i()()(),a(86,"div",12)(87,"div",29)(88,"mat-form-field",14)(89,"mat-label"),l(90,"Notes"),i(),C(91,"textarea",30),i()()(),a(92,"div",12)(93,"div",29)(94,"div",31)(95,"button",32),p("click",function(){return n.submit()}),l(96,"Save"),i(),a(97,"button",33),p("click",function(){return n.onNoClick()}),l(98,"Cancel"),i()()()()()()()),o&2){let r,f,g,M,oe,le,re;c(4),d("src",n.url?n.url:n.leaveBalance.img,ae),c(6),y(" ",n.dialogTitle," "),c(5),d("formGroup",n.leaveBalanceForm),c(7),h((r=n.leaveBalanceForm.get("employeeId"))!=null&&r.hasError("required")&&((r=n.leaveBalanceForm.get("employeeId"))!=null&&r.touched)?22:-1),c(6),h((f=n.leaveBalanceForm.get("employeeName"))!=null&&f.hasError("required")&&((f=n.leaveBalanceForm.get("employeeName"))!=null&&f.touched)?28:-1),c(7),h((g=n.leaveBalanceForm.get("department"))!=null&&g.hasError("required")&&((g=n.leaveBalanceForm.get("department"))!=null&&g.touched)?35:-1),c(20),h((M=n.leaveBalanceForm.get("leaveType"))!=null&&M.hasError("required")&&((M=n.leaveBalanceForm.get("leaveType"))!=null&&M.touched)?55:-1),c(6),h((oe=n.leaveBalanceForm.get("totalEntitlement"))!=null&&oe.hasError("required")&&((oe=n.leaveBalanceForm.get("totalEntitlement"))!=null&&oe.touched)?61:-1),c(7),h((le=n.leaveBalanceForm.get("leaveTaken"))!=null&&le.hasError("required")&&((le=n.leaveBalanceForm.get("leaveTaken"))!=null&&le.touched)?68:-1),c(6),h((re=n.leaveBalanceForm.get("leaveBalance"))!=null&&re.hasError("required")&&((re=n.leaveBalanceForm.get("leaveBalance"))!=null&&re.touched)?74:-1),c(21),d("disabled",!n.leaveBalanceForm.valid)}},dependencies:[R,A,N,P,B,te,U,ze,je,H,He,We,z,Qe,Ge,W,j,O,$e,J,K,Ye,Ze,Y,X,Q,G,Je,Et],styles:[".hoverable[_ngcontent-%COMP%]{position:relative;display:block;cursor:pointer;height:36px;width:36px;border-radius:50%}.hoverable[_ngcontent-%COMP%]   .hover-text[_ngcontent-%COMP%]{position:absolute;display:none;top:50%;left:50%;font-size:10px;transform:translate(-50%,-50%);z-index:2}.hoverable[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{position:absolute;display:none;inset:0;background-color:#ffffff80;pointer-events:none;border-radius:50%;z-index:1}.hoverable[_ngcontent-%COMP%]:hover   .hover-text[_ngcontent-%COMP%], .hoverable[_ngcontent-%COMP%]:hover   .background[_ngcontent-%COMP%]{display:block}#tableFileInput[_ngcontent-%COMP%]{display:none}"]})}}return t})();var ui=(()=>{class t{constructor(e,o,n){this.dialogRef=e,this.data=o,this.leaveBalanceService=n}onNoClick(){this.dialogRef.close()}confirmDelete(){this.leaveBalanceService.deleteLeaveBalance(this.data.employeeId),this.dialogRef.close(this.data.employeeId)}static{this.\u0275fac=function(o){return new(o||t)(x(Z),x(ee),x(Lt))}}static{this.\u0275cmp=L({type:t,selectors:[["app-leave-balance-delete"]],decls:25,vars:4,consts:[[1,"dialogContainer"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"delete-list"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","warn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(o,n){o&1&&(a(0,"div",0)(1,"h3",1),l(2,"Are you sure?"),i(),a(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),l(8," Employee ID: "),i(),l(9),i()(),a(10,"li")(11,"p")(12,"span",4),l(13," Employee Name: "),i(),l(14),i()(),a(15,"li")(16,"p")(17,"span",4),l(18,"Department: "),i(),l(19),i()()()(),a(20,"div",5)(21,"button",6),p("click",function(){return n.confirmDelete()}),l(22," Delete "),i(),a(23,"button",7),p("click",function(){return n.onNoClick()}),l(24,"Cancel"),i()()()),o&2&&(c(9),S(n.data.employeeId),c(5),S(n.data.employeeName),c(5),y("",n.data.department," "),c(2),d("mat-dialog-close",1))},dependencies:[Mt,te,Tt,R,A,St],styles:[".delete-list[_ngcontent-%COMP%]{padding:0;list-style-type:none}"]})}}return t})();var pn=["filter"],un=()=>[5,10,25,100];function _n(t,m){if(t&1){let e=b();a(0,"mat-option")(1,"mat-checkbox",41),p("click",function(n){return u(e),_(n.stopPropagation())}),_e("ngModelChange",function(n){let r=u(e).$implicit;return ue(r.visible,n)||(r.visible=n),_(n)}),l(2),i()()}if(t&2){let e=m.$implicit;c(),pe("ngModel",e.visible),c(),y(" ",e.label," ")}}function fn(t,m){if(t&1){let e=b();a(0,"mat-header-cell",42)(1,"mat-checkbox",43),p("change",function(n){u(e);let r=s();return _(n?r.masterToggle():null)}),i()()}if(t&2){let e=s();d("ngClass","tbl-col-width-per-6"),c(),d("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("ngClass","tbl-checkbox")}}function vn(t,m){if(t&1){let e=b();a(0,"mat-cell",42)(1,"mat-checkbox",44),p("click",function(n){return u(e),_(n.stopPropagation())})("change",function(n){let r=u(e).$implicit,f=s();return _(n?f.selection.toggle(r):null)}),i()()}if(t&2){let e=m.$implicit,o=s();d("ngClass","tbl-col-width-per-6"),c(),d("checked",o.selection.isSelected(e))("ngClass","tbl-checkbox")}}function Cn(t,m){}function hn(t,m){if(t&1&&(a(0,"mat-header-cell",48)(1,"span",49),l(2),i()()),t&2){let e=s(3).$implicit;c(2),S(e.label)}}function gn(t,m){if(t&1){let e=b();a(0,"mat-cell",50),p("contextmenu",function(n){let r=u(e).$implicit,f=s(4);return _(f.onContextMenu(n,r))}),a(1,"span",51),l(2),i(),C(3,"img",52),a(4,"span",49),l(5),i()()}if(t&2){let e=m.$implicit,o=s(3).$implicit;d("matTooltip",e[o.def]),c(2),y("",o.label,":"),c(),d("src",e.img,ae),c(2),y(" ",e[o.def],"")}}function xn(t,m){if(t&1&&(T(0,45),v(1,hn,3,1,"mat-header-cell",46)(2,gn,6,4,"mat-cell",47),w()),t&2){let e=s(2).$implicit;d("matColumnDef",e.def)}}function yn(t,m){if(t&1&&(a(0,"mat-header-cell",48)(1,"span",49),l(2),i()()),t&2){let e=s(4).$implicit;c(2),S(e.label)}}function bn(t,m){if(t&1){let e=b();a(0,"mat-cell",54),p("contextmenu",function(n){let r=u(e).$implicit,f=s(5);return _(f.onContextMenu(n,r))}),a(1,"span",51),l(2),i(),a(3,"span",49),l(4),we(5,"date"),i()()}if(t&2){let e=m.$implicit,o=s(4).$implicit;c(2),y("",o.label,":"),c(2),y(" ",Ee(5,2,e[o.def],"MM/dd/yyyy")," ")}}function Sn(t,m){if(t&1&&(T(0,45),v(1,yn,3,1,"mat-header-cell",46)(2,bn,6,5,"mat-cell",53),w()),t&2){let e=s(3).$implicit;d("matColumnDef",e.def)}}function Mn(t,m){if(t&1&&(a(0,"mat-header-cell",48)(1,"span",49),l(2),i()()),t&2){let e=s(5).$implicit;c(2),S(e.label)}}function Tn(t,m){if(t&1&&(a(0,"div")(1,"span",55),l(2),i()()),t&2){let e=s().$implicit,o=s(5).$implicit;c(2),S(e[o.def])}}function wn(t,m){if(t&1&&(a(0,"div")(1,"span",56),l(2),i()()),t&2){let e=s().$implicit,o=s(5).$implicit;c(2),S(e[o.def])}}function En(t,m){if(t&1&&(a(0,"div")(1,"span",57),l(2),i()()),t&2){let e=s().$implicit,o=s(5).$implicit;c(2),S(e[o.def])}}function Dn(t,m){if(t&1){let e=b();a(0,"mat-cell",54),p("contextmenu",function(n){let r=u(e).$implicit,f=s(6);return _(f.onContextMenu(n,r))}),a(1,"span",51),l(2),i(),a(3,"div"),v(4,Tn,3,1,"div")(5,wn,3,1,"div")(6,En,3,1,"div"),i()()}if(t&2){let e,o=m.$implicit,n=s(5).$implicit;c(2),y("",n.label,":"),c(2),h((e=o[n.def])==="Approved"?4:e==="Pending"?5:e==="Rejected"?6:-1)}}function Ln(t,m){if(t&1&&(T(0,45),v(1,Mn,3,1,"mat-header-cell",46)(2,Dn,7,2,"mat-cell",53),w()),t&2){let e=s(4).$implicit;d("matColumnDef",e.def)}}function Rn(t,m){if(t&1&&(a(0,"mat-header-cell",48)(1,"span",49),l(2),i()()),t&2){let e=s(5).$implicit;c(2),S(e.label)}}function kn(t,m){if(t&1){let e=b();a(0,"mat-cell",54),p("contextmenu",function(n){let r=u(e).$implicit,f=s(6);return _(f.onContextMenu(n,r))}),a(1,"span",51),l(2),i(),a(3,"span",49),l(4),i()()}if(t&2){let e=m.$implicit,o=s(5).$implicit;c(2),y("",o.label,":"),c(2),S(e[o.def])}}function Fn(t,m){if(t&1&&(T(0,45),v(1,Rn,3,1,"mat-header-cell",46)(2,kn,5,2,"mat-cell",53),w()),t&2){let e=s(4).$implicit;d("matColumnDef",e.def)}}function In(t,m){if(t&1&&v(0,Ln,3,1,"ng-container",45)(1,Fn,3,1,"ng-container",45),t&2){let e=s(3).$implicit;h(e.def==="status"?0:1)}}function qn(t,m){if(t&1&&v(0,Sn,3,1,"ng-container",45)(1,In,2,1),t&2){let e=s(2).$implicit;h(e.type==="date"?0:1)}}function Vn(t,m){if(t&1&&v(0,xn,3,1,"ng-container",45)(1,qn,2,1),t&2){let e=s().$implicit;h(e.def==="employeeName"?0:1)}}function Bn(t,m){if(t&1&&v(0,Cn,0,0)(1,Vn,2,1),t&2){let e=m.$implicit;h(e.type==="checkBox"||e.type==="actionBtn"?0:1)}}function Pn(t,m){t&1&&(a(0,"mat-header-cell",58),l(1,"Actions"),i())}function Nn(t,m){if(t&1){let e=b();a(0,"mat-cell",58)(1,"button",59),p("click",function(n){return u(e),_(n.stopPropagation())})("click",function(){let n=u(e).$implicit,r=s();return _(r.editCall(n))}),C(2,"app-feather-icons",60),i(),a(3,"button",59),p("click",function(n){return u(e),_(n.stopPropagation())})("click",function(){let n=u(e).$implicit,r=s();return _(r.deleteItem(n))}),C(4,"app-feather-icons",60),i()()}t&2&&(c(2),me("tbl-fav-edit"),d("icon","edit"),c(2),me("tbl-fav-delete"),d("icon","trash-2"))}function An(t,m){t&1&&C(0,"mat-header-row")}function $n(t,m){if(t&1){let e=b();a(0,"mat-row",61),p("click",function(){let n=u(e).$implicit,r=s();return _(r.editCall(n))}),i()}t&2&&V("cursor","pointer")}function On(t,m){t&1&&(a(0,"div",35),C(1,"mat-progress-spinner",62),i()),t&2&&(c(),d("diameter",40))}function jn(t,m){if(t&1){let e=b();a(0,"button",63),p("click",function(){u(e);let n=s();return _(n.addNew())}),a(1,"mat-icon"),l(2,"add_circle_outline"),i(),a(3,"span"),l(4,"Add Record"),i()(),a(5,"button",63),p("click",function(){let n=u(e).item,r=s();return _(r.editCall(n))}),a(6,"mat-icon",23),l(7,"mode_edit"),i(),a(8,"span"),l(9,"Edit Record"),i()(),a(10,"button",63),p("click",function(){let n=u(e).item,r=s();return _(r.deleteItem(n))}),a(11,"mat-icon"),l(12,"delete_outline"),i(),a(13,"span"),l(14,"Delete Record"),i()(),a(15,"button",63),p("click",function(){u(e);let n=s();return _(n.refresh())}),a(16,"mat-icon"),l(17,"refresh"),i(),a(18,"span"),l(19,"Refresh Record"),i()(),a(20,"button",64)(21,"mat-icon"),l(22,"visibility_off"),i(),a(23,"span"),l(24,"Disable"),i()(),a(25,"button",65)(26,"mat-icon"),l(27,"settings_ethernet"),i(),a(28,"span"),l(29," Nested Menu"),i()()}if(t&2){s();let e=E(59);c(25),d("matMenuTriggerFor",e)}}function Hn(t,m){if(t&1&&(a(0,"div",66),l(1," No results "),i()),t&2){let e=s();V("display",e.dataSource.data.length===0?"":"none")}}var _i=(()=>{class t{constructor(e,o,n){this.dialog=e,this.leaveBalanceService=o,this.snackBar=n,this.columnDefinitions=[{def:"employeeId",label:"Emp ID",type:"text",visible:!0},{def:"employeeName",label:"Name",type:"text",visible:!0},{def:"department",label:"Department",type:"text",visible:!1},{def:"designation",label:"Designation",type:"text",visible:!0},{def:"leaveType",label:"Leave Type",type:"text",visible:!0},{def:"totalEntitlement",label:"Total Entitlement",type:"text",visible:!0},{def:"leaveTaken",label:"Leave Taken",type:"text",visible:!0},{def:"leaveBalance",label:"Leave Balance",type:"text",visible:!0},{def:"carryForward",label:"Carry Forward",type:"text",visible:!0},{def:"accrualRate",label:"Accrual Rate",type:"text",visible:!1},{def:"notes",label:"Notes",type:"text",visible:!0},{def:"actions",label:"Actions",type:"actionBtn",visible:!0}],this.dataSource=new gt([]),this.selection=new Oe(!0,[]),this.destroy$=new xe,this.contextMenuPosition={x:"0px",y:"0px"},this.isLoading=!0}ngOnInit(){this.loadData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}refresh(){this.loadData()}getDisplayedColumns(){return this.columnDefinitions.filter(e=>e.visible).map(e=>e.def)}editCall(e){this.openDialog("edit",e)}addNew(){this.openDialog("add")}openDialog(e,o){this.dialog.open(pi,{width:"60vw",maxWidth:"100vw",data:{leaveBalance:o,action:e},autoFocus:!1}).afterClosed().subscribe(r=>{r&&(e==="add"?this.dataSource.data=[r,...this.dataSource.data]:this.updateRecord(r),this.refreshTable(),this.showNotification(e==="add"?"snackbar-success":"black",`${e==="add"?"Add":"Edit"} Record Successfully...!!!`,"bottom","center"))})}updateRecord(e){let o=this.dataSource.data.findIndex(n=>n.employeeId===e.employeeId);o!==-1&&(this.dataSource.data[o]=e,this.dataSource._updateChangeSubscription())}deleteItem(e){this.dialog.open(ui,{data:e}).afterClosed().subscribe(n=>{n&&(this.dataSource.data=this.dataSource.data.filter(r=>r.employeeId!==e.employeeId),this.refreshTable(),this.showNotification("snackbar-danger","Deleted Record Successfully...!!!","bottom","center"))})}refreshTable(){this.paginator.pageIndex=0,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(e){let o=e.target.value.trim().toLowerCase();this.dataSource.filter=o}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}removeSelectedRows(){let e=this.selection.selected.length;this.dataSource.data=this.dataSource.data.filter(o=>!this.selection.selected.includes(o)),this.selection.clear(),this.showNotification("snackbar-danger",`${e} Record(s) Deleted Successfully...!!!`,"bottom","center")}loadData(){this.leaveBalanceService.getAllLeaveBalances().subscribe({next:e=>{this.dataSource.data=e,this.isLoading=!1,this.refreshTable(),this.dataSource.filterPredicate=(o,n)=>Object.values(o).some(r=>r.toString().toLowerCase().includes(n))},error:e=>console.error(e)})}showNotification(e,o,n,r){this.snackBar.open(o,"",{duration:2e3,verticalPosition:n,horizontalPosition:r,panelClass:e})}exportExcel(){let e=this.dataSource.filteredData.map(o=>({"Employee ID":o.employeeId,Name:o.employeeName,Department:o.department,Designation:o.designation,"Leave Type":o.leaveType,"Total Entitlement":o.totalEntitlement,"Leave Taken":o.leaveTaken,"Leave Balance":o.leaveBalance,"Carry Forward":o.carryForward,"Accrual Rate":o.accrualRate,Notes:o.notes}));Nt.exportToExcel(e,"leave_balances")}onContextMenu(e,o){e.preventDefault(),this.contextMenuPosition={x:`${e.clientX}px`,y:`${e.clientY}px`},this.contextMenu?.menu&&(this.contextMenu.menuData={item:o},this.contextMenu.menu.focusFirstItem("mouse"),this.contextMenu.openMenu())}static{this.\u0275fac=function(o){return new(o||t)(x(bt),x(Lt),x(wt))}}static{this.\u0275cmp=L({type:t,selectors:[["app-leave-balance"]],viewQuery:function(o,n){if(o&1&&(F(fe,5),F(ie,5),F(pn,5),F($,5)),o&2){let r;I(r=q())&&(n.paginator=r.first),I(r=q())&&(n.sort=r.first),I(r=q())&&(n.filter=r.first),I(r=q())&&(n.contextMenu=r.first)}},decls:78,vars:17,consts:[["filter",""],["select",""],["contextMenuTrigger","matMenuTrigger"],["contextMenu","matMenu"],["nestedmenu","matMenu"],["paginator",""],[1,"table-header-toolbar"],[1,"row"],[1,"col-sm-8"],[1,"table-header"],["appearance","outline",1,"search-box"],[1,"search-label"],["matInput","","type","text",3,"keyup"],["matSuffix",""],[1,"col-sm-4"],[1,"right-side-btn"],["mat-icon-button","","matTooltip","Delete",1,"tbl-header-btn","text-red",3,"click","hidden"],["mat-icon-button","","matTooltip","Show/Hide Column",1,"text-indigo",3,"click"],[1,"column-filter",2,"width","200px","display","table",3,"ngModelChange","ngModel"],[1,"table-column-label"],["mat-icon-button","","matTooltip","Add",1,"tbl-header-btn","text-green",3,"click"],["mat-icon-button","","matTooltip","Refresh",1,"tbl-header-btn","text-dark-grey",3,"click"],["mat-icon-button","","matTooltip","Xlsx Download",1,"tbl-header-btn","text-blue",3,"click"],[1,"material-icons-outlined"],[1,"overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["matMenuContent",""],["mat-menu-item",""],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["color","primary",3,"click","ngModelChange","ngModel"],[3,"ngClass"],["color","primary",3,"change","checked","indeterminate","ngClass"],["color","primary",3,"click","change","checked","ngClass"],[3,"matColumnDef"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"matTooltip","contextmenu",4,"matCellDef"],["mat-sort-header",""],[1,"truncate-text"],[3,"contextmenu","matTooltip"],[1,"mobile-label"],["alt","image",1,"table-img",3,"src"],[3,"contextmenu",4,"matCellDef"],[3,"contextmenu"],[1,"badge","badge-solid-green"],[1,"badge","badge-solid-orange"],[1,"badge","badge-solid-red"],[1,"pr-0"],["mat-icon-button","","color","accent",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],["color","primary","mode","indeterminate",3,"diameter"],["mat-menu-item","",3,"click"],["mat-menu-item","","disabled",""],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"no-results"]],template:function(o,n){if(o&1){let r=b();C(0,"app-page-header"),a(1,"mat-card")(2,"mat-card-header")(3,"div",6)(4,"div",7)(5,"div",8)(6,"span",9),l(7,"Leave Balances"),i(),a(8,"mat-form-field",10)(9,"mat-label",11),l(10,"Search..."),i(),a(11,"input",12,0),p("keyup",function(g){return u(r),_(n.applyFilter(g))}),i(),a(13,"mat-icon",13),l(14,"search"),i()()(),a(15,"div",14)(16,"div",15)(17,"button",16),p("click",function(){return u(r),_(n.removeSelectedRows())}),a(18,"mat-icon"),l(19,"delete_outline"),i()(),a(20,"button",17),p("click",function(){u(r);let g=E(24);return _(g.open())}),a(21,"mat-icon"),l(22,"filter_list"),i(),a(23,"mat-select",18,1),_e("ngModelChange",function(g){u(r);let M=E(12);return ue(M.value,g)||(M.value=g),_(g)}),a(25,"span",19),l(26,"Show/Hide Column"),i(),se(27,_n,3,2,"mat-option",null,ce),i()(),a(29,"button",20),p("click",function(){return u(r),_(n.addNew())}),a(30,"mat-icon"),l(31,"add_circle_outline"),i()(),a(32,"button",21),p("click",function(){return u(r),_(n.refresh())}),a(33,"mat-icon"),l(34,"refresh"),i()(),a(35,"button",22),p("click",function(){return u(r),_(n.exportExcel())}),a(36,"mat-icon",23),l(37,"file_download"),i()()()()()()(),a(38,"mat-card-content")(39,"div",24)(40,"div",25)(41,"table",26),T(42,27),v(43,fn,2,4,"mat-header-cell",28)(44,vn,2,3,"mat-cell",29),w(),se(45,Bn,2,1,null,null,ce),T(47,30),v(48,Pn,2,0,"mat-header-cell",31)(49,Nn,5,6,"mat-cell",32),w(),v(50,An,1,0,"mat-header-row",33)(51,$n,1,2,"mat-row",34),i()(),v(52,On,2,1,"div",35),C(53,"div",36,2),a(55,"mat-menu",null,3),v(57,jn,30,1,"ng-template",37),i(),a(58,"mat-menu",null,4)(60,"button",38)(61,"mat-icon"),l(62,"mail_outline"),i(),a(63,"span"),l(64,"Item 1"),i()(),a(65,"button",38)(66,"mat-icon"),l(67,"turned_in_not"),i(),a(68,"span"),l(69,"Item 2"),i()(),a(70,"button",38)(71,"mat-icon",23),l(72,"sms"),i(),a(73,"span"),l(74,"Item 3"),i()()(),v(75,Hn,2,2,"div",39),C(76,"mat-paginator",40,5),i()()()}if(o&2){let r=E(12),f=E(56);c(17),d("hidden",!n.selection.hasValue()),c(6),pe("ngModel",r.value),c(4),de(n.columnDefinitions),c(14),d("dataSource",n.dataSource),c(4),de(n.columnDefinitions),c(5),d("matHeaderRowDef",n.getDisplayedColumns()),c(),d("matRowDefColumns",n.getDisplayedColumns()),c(),h(n.isLoading?52:-1),c(),V("left",n.contextMenuPosition.x)("top",n.contextMenuPosition.y),d("matMenuTriggerFor",f),c(22),h(n.isLoading?75:-1),c(),d("length",n.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",Te(16,un))}},dependencies:[rt,ot,it,nt,at,W,j,O,ve,J,K,P,B,R,N,Ve,qe,Y,X,Q,z,H,U,Ue,Re,De,Le,G,tt,et,ht,mt,st,_t,dt,ct,ft,pt,ut,vt,Ct,ie,lt,Ie,Fe,yt,xt,Ae,Ne,Be,Pe,$,fe],styles:["[_nghost-%COMP%]     .search-box .mat-mdc-text-field-wrapper{height:40px!important}[_nghost-%COMP%]     .search-box .mat-mdc-form-field-flex{margin-top:-7px!important}[_nghost-%COMP%]     .search-box .mat-mdc-floating-label{height:32px}[_nghost-%COMP%]     .search-box .mat-mdc-input-element{font-size:13px!important}[_nghost-%COMP%]     .search-box .search-label{font-size:13px;top:-4px;position:relative}[_nghost-%COMP%]     .column-filter .mat-mdc-select-arrow{display:none}[_nghost-%COMP%]     .advance-table .mat-mdc-header-cell{font-weight:500}"]})}}return t})();var Ht=class{constructor(m={}){this.id=m.id||this.getRandomID(),this.leaveName=m.leaveName||"",this.leaveUnit=m.leaveUnit||"Days",this.type=m.type||"Paid",this.status=m.status||"Active",this.note=m.note||"",this.createdAt=m.createdAt||ge(new Date,"yyyy-MM-dd","en"),this.updatedAt=m.updatedAt||ge(new Date,"yyyy-MM-dd","en"),this.minimumDays=m.minimumDays||1,this.maximumDays=m.maximumDays||30,this.accrualRate=m.accrualRate||"Yearly",this.carryOverLimit=m.carryOverLimit||0,this.approvalRequired=m.approvalRequired||!1,this.eligibilityCriteria=m.eligibilityCriteria||"",this.requestPeriod=m.requestPeriod||"",this.departmentRestrictions=m.departmentRestrictions||"None",this.balance=m.balance||null,this.policyDocument=m.policyDocument||"",this.holidayImpact=m.holidayImpact||"No impact",this.sickLeaveIncluded=m.sickLeaveIncluded||!1,this.integration=m.integration||"HRMS"}getRandomID(){let m=()=>(1+Math.random())*65536|0;return m().toString(16)+m().toString(16)}};var Rt=(()=>{class t{constructor(e){this.httpClient=e,this.API_URL="assets/data/leaveTypes.json",this.isTblLoading=!0}getAllLeaveTypes(){return this.httpClient.get(this.API_URL).pipe(k(this.handleError))}addLeaveType(e){return this.httpClient.post(this.API_URL,e).pipe(k(this.handleError))}updateLeaveType(e){return this.httpClient.put(`${this.API_URL}/${e.id}`,e).pipe(k(this.handleError))}deleteLeaveType(e){return this.httpClient.delete(`${this.API_URL}/${e}`).pipe(k(this.handleError))}handleError(e){return console.error("An error occurred:",e.message),ye(()=>new Error("Something went wrong; please try again later."))}static{this.\u0275fac=function(o){return new(o||t)(Se(ke))}}static{this.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Un(t,m){t&1&&(a(0,"mat-error"),l(1," Leave name is required "),i())}function zn(t,m){t&1&&(a(0,"mat-error"),l(1," Leave unit is required "),i())}function Qn(t,m){t&1&&(a(0,"mat-error"),l(1," Type is required "),i())}function Gn(t,m){t&1&&(a(0,"mat-error"),l(1," Status is required "),i())}var fi=(()=>{class t{constructor(e,o,n,r){this.dialogRef=e,this.data=o,this.leaveTypeService=n,this.fb=r,this.url=null,this.action=o.action,this.action==="edit"?(this.dialogTitle=o.leaveType.leaveName,this.leaveType=o.leaveType):(this.dialogTitle="New Leave Type",this.leaveType=new Ht),this.leaveTypeForm=this.createLeaveTypeForm()}createLeaveTypeForm(){return this.fb.group({id:[this.leaveType.id],leaveName:[this.leaveType.leaveName,[D.required]],leaveUnit:[this.leaveType.leaveUnit,[D.required]],type:[this.leaveType.type,[D.required]],status:[this.leaveType.status],note:[this.leaveType.note],createdAt:[this.leaveType.createdAt],updatedAt:[this.leaveType.updatedAt],minimumDays:[this.leaveType.minimumDays],maximumDays:[this.leaveType.maximumDays],accrualRate:[this.leaveType.accrualRate],carryOverLimit:[this.leaveType.carryOverLimit],approvalRequired:[this.leaveType.approvalRequired],eligibilityCriteria:[this.leaveType.eligibilityCriteria],requestPeriod:[this.leaveType.requestPeriod],departmentRestrictions:[this.leaveType.departmentRestrictions],balance:[this.leaveType.balance],policyDocument:[this.leaveType.policyDocument],holidayImpact:[this.leaveType.holidayImpact],sickLeaveIncluded:[this.leaveType.sickLeaveIncluded],integration:[this.leaveType.integration]})}submit(){this.leaveTypeForm.valid&&(this.action==="edit"?this.leaveTypeService.updateLeaveType(this.leaveTypeForm.getRawValue()):this.leaveTypeService.addLeaveType(this.leaveTypeForm.getRawValue()),this.dialogRef.close(this.leaveTypeForm.getRawValue()))}onNoClick(){this.dialogRef.close()}onSelectFile(e){let o=e.target;if(o.files&&o.files[0]){let n=new FileReader;n.readAsDataURL(o.files[0]),n.onload=r=>{r.target&&(this.url=r.target.result)}}}static{this.\u0275fac=function(o){return new(o||t)(x(Z),x(ee),x(Rt),x(Xe))}}static{this.\u0275cmp=L({type:t,selectors:[["app-leave-types-form-dialog"]],features:[Me([{provide:Ke,useValue:"en-GB"}])],decls:101,vars:13,consts:[[1,"dialogContainer"],[1,"modalHeader"],[1,"avatarDetails"],["id","tableFileInput","type","file",3,"change"],[1,"modalTitle"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[1,"form-field-full",3,"formGroup"],[1,"row","m-b-24"],[1,"col-sm-6"],["appearance","outline","subscriptSizing","dynamic",1,"example-full-width"],["matInput","","formControlName","leaveName","required",""],["formControlName","leaveUnit","required",""],[3,"value"],["formControlName","type","required",""],["formControlName","status","required",""],["matInput","","formControlName","minimumDays","type","number"],["matInput","","formControlName","maximumDays","type","number"],["matInput","","formControlName","departmentRestrictions","type","text"],["matInput","","formControlName","carryOverLimit","type","number"],["matInput","","formControlName","eligibilityCriteria","type","text"],["matInput","","formControlName","requestPeriod","type","text"],[1,"col-sm-12"],["matInput","","formControlName","policyDocument","type","text"],["matInput","","formControlName","note","rows","4"],[1,"example-button-row"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-raised-button","","color","warn","tabindex","-1","type","button",3,"click"]],template:function(o,n){if(o&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"input",3),p("change",function(f){return n.onSelectFile(f)}),i(),a(4,"div",4),l(5),i()(),a(6,"button",5),p("click",function(){return n.dialogRef.close()}),a(7,"mat-icon"),l(8,"close"),i()()(),a(9,"div",6)(10,"form",7)(11,"div",8)(12,"div",9)(13,"mat-form-field",10)(14,"mat-label"),l(15,"Leave Name"),i(),C(16,"input",11),v(17,Un,2,0,"mat-error"),i()(),a(18,"div",9)(19,"mat-form-field",10)(20,"mat-label"),l(21,"Leave Unit"),i(),a(22,"mat-select",12)(23,"mat-option",13),l(24,"Days"),i(),a(25,"mat-option",13),l(26,"Hours"),i()(),v(27,zn,2,0,"mat-error"),i()()(),a(28,"div",8)(29,"div",9)(30,"mat-form-field",10)(31,"mat-label"),l(32,"Type"),i(),a(33,"mat-select",14)(34,"mat-option",13),l(35,"Paid"),i(),a(36,"mat-option",13),l(37,"Unpaid"),i()(),v(38,Qn,2,0,"mat-error"),i()(),a(39,"div",9)(40,"mat-form-field",10)(41,"mat-label"),l(42,"Status"),i(),a(43,"mat-select",15)(44,"mat-option",13),l(45,"Active"),i(),a(46,"mat-option",13),l(47,"Inactive"),i()(),v(48,Gn,2,0,"mat-error"),i()()(),a(49,"div",8)(50,"div",9)(51,"mat-form-field",10)(52,"mat-label"),l(53,"Minimum Days"),i(),C(54,"input",16),i()(),a(55,"div",9)(56,"mat-form-field",10)(57,"mat-label"),l(58,"Maximum Days"),i(),C(59,"input",17),i()()(),a(60,"div",8)(61,"div",9)(62,"mat-form-field",10)(63,"mat-label"),l(64,"Department Restrictions"),i(),C(65,"input",18),i()(),a(66,"div",9)(67,"mat-form-field",10)(68,"mat-label"),l(69,"Carry Over Limit"),i(),C(70,"input",19),i()()(),a(71,"div",8)(72,"div",9)(73,"mat-form-field",10)(74,"mat-label"),l(75,"Eligibility Criteria"),i(),C(76,"input",20),i()(),a(77,"div",9)(78,"mat-form-field",10)(79,"mat-label"),l(80,"Request Period"),i(),C(81,"input",21),i()()(),a(82,"div",8)(83,"div",22)(84,"mat-form-field",10)(85,"mat-label"),l(86,"Policy Document"),i(),C(87,"input",23),i()()(),a(88,"div",8)(89,"div",22)(90,"mat-form-field",10)(91,"mat-label"),l(92,"Notes"),i(),C(93,"textarea",24),i()()(),a(94,"div",8)(95,"div",22)(96,"div",25)(97,"button",26),p("click",function(){return n.submit()}),l(98,"Save"),i(),a(99,"button",27),p("click",function(){return n.onNoClick()}),l(100,"Cancel"),i()()()()()()()),o&2){let r,f,g,M;c(5),y(" ",n.dialogTitle," "),c(5),d("formGroup",n.leaveTypeForm),c(7),h((r=n.leaveTypeForm.get("leaveName"))!=null&&r.hasError("required")&&((r=n.leaveTypeForm.get("leaveName"))!=null&&r.touched)?17:-1),c(6),d("value","Days"),c(2),d("value","Hours"),c(2),h((f=n.leaveTypeForm.get("leaveUnit"))!=null&&f.hasError("required")&&((f=n.leaveTypeForm.get("leaveUnit"))!=null&&f.touched)?27:-1),c(7),d("value","Paid"),c(2),d("value","Unpaid"),c(2),h((g=n.leaveTypeForm.get("type"))!=null&&g.hasError("required")&&((g=n.leaveTypeForm.get("type"))!=null&&g.touched)?38:-1),c(6),d("value","Active"),c(2),d("value","Inactive"),c(2),h((M=n.leaveTypeForm.get("status"))!=null&&M.hasError("required")&&((M=n.leaveTypeForm.get("status"))!=null&&M.touched)?48:-1),c(49),d("disabled",!n.leaveTypeForm.valid)}},dependencies:[R,A,N,P,B,te,U,ze,je,Pt,H,He,We,z,Qe,Ge,W,j,O,$e,J,K,Ye,Ze,Y,X,Q,G,Je,Et],styles:[".hoverable[_ngcontent-%COMP%]{position:relative;display:block;cursor:pointer;height:36px;width:36px;border-radius:50%}.hoverable[_ngcontent-%COMP%]   .hover-text[_ngcontent-%COMP%]{position:absolute;display:none;top:50%;left:50%;font-size:10px;transform:translate(-50%,-50%);z-index:2}.hoverable[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{position:absolute;display:none;inset:0;background-color:#ffffff80;pointer-events:none;border-radius:50%;z-index:1}.hoverable[_ngcontent-%COMP%]:hover   .hover-text[_ngcontent-%COMP%], .hoverable[_ngcontent-%COMP%]:hover   .background[_ngcontent-%COMP%]{display:block}#tableFileInput[_ngcontent-%COMP%]{display:none}"]})}}return t})();var vi=(()=>{class t{constructor(e,o,n){this.dialogRef=e,this.data=o,this.leaveTypesService=n}onNoClick(){this.dialogRef.close()}confirmDelete(){this.leaveTypesService.deleteLeaveType(this.data.id),this.dialogRef.close(this.data.id)}static{this.\u0275fac=function(o){return new(o||t)(x(Z),x(ee),x(Rt))}}static{this.\u0275cmp=L({type:t,selectors:[["app-leave-type-delete"]],decls:25,vars:4,consts:[[1,"dialogContainer"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"delete-list"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","warn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(o,n){o&1&&(a(0,"div",0)(1,"h3",1),l(2,"Are you sure?"),i(),a(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),l(8," Leave Name: "),i(),l(9),i()(),a(10,"li")(11,"p")(12,"span",4),l(13,"Leave Type: "),i(),l(14),i()(),a(15,"li")(16,"p")(17,"span",4),l(18,"Status: "),i(),l(19),i()()()(),a(20,"div",5)(21,"button",6),p("click",function(){return n.confirmDelete()}),l(22," Delete "),i(),a(23,"button",7),p("click",function(){return n.onNoClick()}),l(24,"Cancel"),i()()()),o&2&&(c(9),S(n.data.leaveName),c(5),y("",n.data.type," "),c(5),y("",n.data.status," "),c(2),d("mat-dialog-close",1))},dependencies:[Mt,te,Tt,R,A,St],styles:[".delete-list[_ngcontent-%COMP%]{padding:0;list-style-type:none}"]})}}return t})();var Wn=["filter"],Xn=()=>[5,10,25,100];function Yn(t,m){if(t&1){let e=b();a(0,"mat-option")(1,"mat-checkbox",40),p("click",function(n){return u(e),_(n.stopPropagation())}),_e("ngModelChange",function(n){let r=u(e).$implicit;return ue(r.visible,n)||(r.visible=n),_(n)}),l(2),i()()}if(t&2){let e=m.$implicit;c(),pe("ngModel",e.visible),c(),y(" ",e.label," ")}}function Kn(t,m){if(t&1){let e=b();a(0,"mat-header-cell",41)(1,"mat-checkbox",42),p("change",function(n){u(e);let r=s();return _(n?r.masterToggle():null)}),i()()}if(t&2){let e=s();d("ngClass","tbl-col-width-per-6"),c(),d("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("ngClass","tbl-checkbox")}}function Jn(t,m){if(t&1){let e=b();a(0,"mat-cell",41)(1,"mat-checkbox",43),p("click",function(n){return u(e),_(n.stopPropagation())})("change",function(n){let r=u(e).$implicit,f=s();return _(n?f.selection.toggle(r):null)}),i()()}if(t&2){let e=m.$implicit,o=s();d("ngClass","tbl-col-width-per-6"),c(),d("checked",o.selection.isSelected(e))("ngClass","tbl-checkbox")}}function Zn(t,m){}function ea(t,m){if(t&1&&(a(0,"mat-header-cell",47)(1,"span",48),l(2),i()()),t&2){let e=s(3).$implicit;c(2),S(e.label)}}function ta(t,m){if(t&1){let e=b();a(0,"mat-cell",49),p("contextmenu",function(n){let r=u(e).$implicit,f=s(4);return _(f.onContextMenu(n,r))}),a(1,"span",50),l(2),i(),C(3,"img",51),a(4,"span",48),l(5),i()()}if(t&2){let e=m.$implicit,o=s(3).$implicit;d("matTooltip",e[o.def]),c(2),y("",o.label,":"),c(),d("src",e.img,ae),c(2),y(" ",e[o.def],"")}}function ia(t,m){if(t&1&&(T(0,44),v(1,ea,3,1,"mat-header-cell",45)(2,ta,6,4,"mat-cell",46),w()),t&2){let e=s(2).$implicit;d("matColumnDef",e.def)}}function na(t,m){if(t&1&&(a(0,"mat-header-cell",47)(1,"span",48),l(2),i()()),t&2){let e=s(4).$implicit;c(2),S(e.label)}}function aa(t,m){if(t&1){let e=b();a(0,"mat-cell",53),p("contextmenu",function(n){let r=u(e).$implicit,f=s(5);return _(f.onContextMenu(n,r))}),a(1,"span",50),l(2),i(),a(3,"span",48),l(4),we(5,"date"),i()()}if(t&2){let e=m.$implicit,o=s(4).$implicit;c(2),y("",o.label,":"),c(2),y(" ",Ee(5,2,e[o.def],"MM/dd/yyyy")," ")}}function oa(t,m){if(t&1&&(T(0,44),v(1,na,3,1,"mat-header-cell",45)(2,aa,6,5,"mat-cell",52),w()),t&2){let e=s(3).$implicit;d("matColumnDef",e.def)}}function la(t,m){if(t&1&&(a(0,"mat-header-cell",47)(1,"span",48),l(2),i()()),t&2){let e=s(5).$implicit;c(2),S(e.label)}}function ra(t,m){if(t&1&&(a(0,"div")(1,"span",54),l(2),i()()),t&2){let e=s().$implicit,o=s(5).$implicit;c(2),S(e[o.def])}}function ma(t,m){if(t&1&&(a(0,"div")(1,"span",55),l(2),i()()),t&2){let e=s().$implicit,o=s(5).$implicit;c(2),S(e[o.def])}}function ca(t,m){if(t&1){let e=b();a(0,"mat-cell",53),p("contextmenu",function(n){let r=u(e).$implicit,f=s(6);return _(f.onContextMenu(n,r))}),a(1,"span",50),l(2),i(),a(3,"div"),v(4,ra,3,1,"div")(5,ma,3,1,"div"),i()()}if(t&2){let e,o=m.$implicit,n=s(5).$implicit;c(2),y("",n.label,":"),c(2),h((e=o[n.def])==="Active"?4:e==="Inactive"?5:-1)}}function sa(t,m){if(t&1&&(T(0,44),v(1,la,3,1,"mat-header-cell",45)(2,ca,6,2,"mat-cell",52),w()),t&2){let e=s(4).$implicit;d("matColumnDef",e.def)}}function da(t,m){if(t&1&&(a(0,"mat-header-cell",47)(1,"span",48),l(2),i()()),t&2){let e=s(5).$implicit;c(2),S(e.label)}}function pa(t,m){if(t&1){let e=b();a(0,"mat-cell",53),p("contextmenu",function(n){let r=u(e).$implicit,f=s(6);return _(f.onContextMenu(n,r))}),a(1,"span",50),l(2),i(),a(3,"span",48),l(4),i()()}if(t&2){let e=m.$implicit,o=s(5).$implicit;c(2),y("",o.label,":"),c(2),S(e[o.def])}}function ua(t,m){if(t&1&&(T(0,44),v(1,da,3,1,"mat-header-cell",45)(2,pa,5,2,"mat-cell",52),w()),t&2){let e=s(4).$implicit;d("matColumnDef",e.def)}}function _a(t,m){if(t&1&&v(0,sa,3,1,"ng-container",44)(1,ua,3,1,"ng-container",44),t&2){let e=s(3).$implicit;h(e.def==="status"?0:1)}}function fa(t,m){if(t&1&&v(0,oa,3,1,"ng-container",44)(1,_a,2,1),t&2){let e=s(2).$implicit;h(e.type==="date"?0:1)}}function va(t,m){if(t&1&&v(0,ia,3,1,"ng-container",44)(1,fa,2,1),t&2){let e=s().$implicit;h(e.def==="employeeName"?0:1)}}function Ca(t,m){if(t&1&&v(0,Zn,0,0)(1,va,2,1),t&2){let e=m.$implicit;h(e.type==="checkBox"||e.type==="actionBtn"?0:1)}}function ha(t,m){t&1&&(a(0,"mat-header-cell",56),l(1,"Actions"),i())}function ga(t,m){if(t&1){let e=b();a(0,"mat-cell",56)(1,"button",57),p("click",function(n){return u(e),_(n.stopPropagation())})("click",function(){let n=u(e).$implicit,r=s();return _(r.editCall(n))}),C(2,"app-feather-icons",58),i(),a(3,"button",57),p("click",function(n){return u(e),_(n.stopPropagation())})("click",function(){let n=u(e).$implicit,r=s();return _(r.deleteItem(n))}),C(4,"app-feather-icons",58),i()()}t&2&&(c(2),me("tbl-fav-edit"),d("icon","edit"),c(2),me("tbl-fav-delete"),d("icon","trash-2"))}function xa(t,m){t&1&&C(0,"mat-header-row")}function ya(t,m){if(t&1){let e=b();a(0,"mat-row",59),p("click",function(){let n=u(e).$implicit,r=s();return _(r.editCall(n))}),i()}t&2&&V("cursor","pointer")}function ba(t,m){t&1&&(a(0,"div",33),C(1,"mat-progress-spinner",60),i()),t&2&&(c(),d("diameter",40))}function Sa(t,m){if(t&1){let e=b();a(0,"button",61),p("click",function(){u(e);let n=s();return _(n.addNew())}),a(1,"mat-icon"),l(2,"add_circle_outline"),i(),a(3,"span"),l(4,"Add Record"),i()(),a(5,"button",61),p("click",function(){let n=u(e).item,r=s();return _(r.editCall(n))}),a(6,"mat-icon",37),l(7,"mode_edit"),i(),a(8,"span"),l(9,"Edit Record"),i()(),a(10,"button",61),p("click",function(){let n=u(e).item,r=s();return _(r.deleteItem(n))}),a(11,"mat-icon"),l(12,"delete_outline"),i(),a(13,"span"),l(14,"Delete Record"),i()(),a(15,"button",61),p("click",function(){u(e);let n=s();return _(n.refresh())}),a(16,"mat-icon"),l(17,"refresh"),i(),a(18,"span"),l(19,"Refresh Record"),i()(),a(20,"button",62)(21,"mat-icon"),l(22,"visibility_off"),i(),a(23,"span"),l(24,"Disable"),i()(),a(25,"button",63)(26,"mat-icon"),l(27,"settings_ethernet"),i(),a(28,"span"),l(29," Nested Menu"),i()()}if(t&2){s();let e=E(56);c(25),d("matMenuTriggerFor",e)}}function Ma(t,m){if(t&1&&(a(0,"div",64),l(1," No results "),i()),t&2){let e=s();V("display",e.dataSource.data.length===0?"":"none")}}var Ci=(()=>{class t{constructor(e,o,n){this.dialog=e,this.leaveTypeService=o,this.snackBar=n,this.columnDefinitions=[{def:"id",label:"ID",type:"text",visible:!0},{def:"leaveName",label:"Leave Name",type:"text",visible:!0},{def:"leaveUnit",label:"Leave Unit",type:"text",visible:!0},{def:"type",label:"Type",type:"text",visible:!0},{def:"status",label:"Status",type:"text",visible:!0},{def:"minimumDays",label:"Minimum Days",type:"text",visible:!0},{def:"maximumDays",label:"Maximum Days",type:"text",visible:!0},{def:"accrualRate",label:"Accrual Rate",type:"text",visible:!1},{def:"carryOverLimit",label:"Carry Over Limit",type:"text",visible:!0},{def:"approvalRequired",label:"Approval Required",type:"boolean",visible:!0},{def:"eligibilityCriteria",label:"Eligibility Criteria",type:"text",visible:!1},{def:"requestPeriod",label:"Request Period",type:"text",visible:!1},{def:"departmentRestrictions",label:"Department Restrictions",type:"text",visible:!1},{def:"balance",label:"Balance",type:"text",visible:!1},{def:"policyDocument",label:"Policy Document",type:"text",visible:!1},{def:"holidayImpact",label:"Holiday Impact",type:"text",visible:!1},{def:"sickLeaveIncluded",label:"Sick Leave Included",type:"boolean",visible:!1},{def:"integration",label:"Integration",type:"text",visible:!1},{def:"actions",label:"Actions",type:"actionBtn",visible:!0}],this.dataSource=new gt([]),this.selection=new Oe(!0,[]),this.destroy$=new xe,this.contextMenuPosition={x:"0px",y:"0px"},this.isLoading=!0}ngOnInit(){this.loadData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}refresh(){this.loadData()}getDisplayedColumns(){return this.columnDefinitions.filter(e=>e.visible).map(e=>e.def)}editCall(e){this.openDialog("edit",e)}addNew(){this.openDialog("add")}openDialog(e,o){this.dialog.open(fi,{width:"60vw",maxWidth:"100vw",data:{leaveType:o,action:e},autoFocus:!1}).afterClosed().subscribe(r=>{r&&(e==="add"?this.dataSource.data=[r,...this.dataSource.data]:this.updateRecord(r),this.refreshTable(),this.showNotification(e==="add"?"snackbar-success":"black",`${e==="add"?"Add":"Edit"} Record Successfully...!!!`,"bottom","center"))})}updateRecord(e){let o=this.dataSource.data.findIndex(n=>n.id===e.id);o!==-1&&(this.dataSource.data[o]=e,this.dataSource._updateChangeSubscription())}deleteItem(e){this.dialog.open(vi,{data:e}).afterClosed().subscribe(n=>{n&&(this.dataSource.data=this.dataSource.data.filter(r=>r.id!==e.id),this.refreshTable(),this.showNotification("snackbar-danger","Deleted Record Successfully...!!!","bottom","center"))})}refreshTable(){this.paginator.pageIndex=0,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(e){let o=e.target.value.trim().toLowerCase();this.dataSource.filter=o}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}removeSelectedRows(){let e=this.selection.selected.length;this.dataSource.data=this.dataSource.data.filter(o=>!this.selection.selected.includes(o)),this.selection.clear(),this.showNotification("snackbar-danger",`${e} Record(s) Deleted Successfully...!!!`,"bottom","center")}loadData(){this.leaveTypeService.getAllLeaveTypes().subscribe({next:e=>{this.dataSource.data=e,this.isLoading=!1,this.refreshTable(),this.dataSource.filterPredicate=(o,n)=>Object.values(o).some(r=>r.toString().toLowerCase().includes(n))},error:e=>console.error(e)})}showNotification(e,o,n,r){this.snackBar.open(o,"",{duration:2e3,verticalPosition:n,horizontalPosition:r,panelClass:e})}onContextMenu(e,o){e.preventDefault(),this.contextMenuPosition={x:`${e.clientX}px`,y:`${e.clientY}px`},this.contextMenu?.menu&&(this.contextMenu.menuData={item:o},this.contextMenu.menu.focusFirstItem("mouse"),this.contextMenu.openMenu())}static{this.\u0275fac=function(o){return new(o||t)(x(bt),x(Rt),x(wt))}}static{this.\u0275cmp=L({type:t,selectors:[["app-leave-type"]],viewQuery:function(o,n){if(o&1&&(F(fe,5),F(ie,5),F(Wn,5),F($,5)),o&2){let r;I(r=q())&&(n.paginator=r.first),I(r=q())&&(n.sort=r.first),I(r=q())&&(n.filter=r.first),I(r=q())&&(n.contextMenu=r.first)}},decls:75,vars:17,consts:[["filter",""],["select",""],["contextMenuTrigger","matMenuTrigger"],["contextMenu","matMenu"],["nestedmenu","matMenu"],["paginator",""],[1,"table-header-toolbar"],[1,"row"],[1,"col-sm-8"],[1,"table-header"],["appearance","outline",1,"search-box"],[1,"search-label"],["matInput","","type","text",3,"keyup"],["matSuffix",""],[1,"col-sm-4"],[1,"right-side-btn"],["mat-icon-button","","matTooltip","Delete",1,"tbl-header-btn","text-red",3,"click","hidden"],["mat-icon-button","","matTooltip","Show/Hide Column",1,"text-indigo",3,"click"],[1,"column-filter",2,"width","200px","display","table",3,"ngModelChange","ngModel"],[1,"table-column-label"],["mat-icon-button","","matTooltip","Add",1,"tbl-header-btn","text-green",3,"click"],["mat-icon-button","","matTooltip","Refresh",1,"tbl-header-btn","text-dark-grey",3,"click"],[1,"overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["matMenuContent",""],["mat-menu-item",""],[1,"material-icons-outlined"],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["color","primary",3,"click","ngModelChange","ngModel"],[3,"ngClass"],["color","primary",3,"change","checked","indeterminate","ngClass"],["color","primary",3,"click","change","checked","ngClass"],[3,"matColumnDef"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"matTooltip","contextmenu",4,"matCellDef"],["mat-sort-header",""],[1,"truncate-text"],[3,"contextmenu","matTooltip"],[1,"mobile-label"],["alt","image",1,"table-img",3,"src"],[3,"contextmenu",4,"matCellDef"],[3,"contextmenu"],[1,"badge","badge-solid-green"],[1,"badge","badge-solid-orange"],[1,"pr-0"],["mat-icon-button","","color","accent",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],["color","primary","mode","indeterminate",3,"diameter"],["mat-menu-item","",3,"click"],["mat-menu-item","","disabled",""],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"no-results"]],template:function(o,n){if(o&1){let r=b();C(0,"app-page-header"),a(1,"mat-card")(2,"mat-card-header")(3,"div",6)(4,"div",7)(5,"div",8)(6,"span",9),l(7,"Leave Types"),i(),a(8,"mat-form-field",10)(9,"mat-label",11),l(10,"Search..."),i(),a(11,"input",12,0),p("keyup",function(g){return u(r),_(n.applyFilter(g))}),i(),a(13,"mat-icon",13),l(14,"search"),i()()(),a(15,"div",14)(16,"div",15)(17,"button",16),p("click",function(){return u(r),_(n.removeSelectedRows())}),a(18,"mat-icon"),l(19,"delete_outline"),i()(),a(20,"button",17),p("click",function(){u(r);let g=E(24);return _(g.open())}),a(21,"mat-icon"),l(22,"filter_list"),i(),a(23,"mat-select",18,1),_e("ngModelChange",function(g){u(r);let M=E(12);return ue(M.value,g)||(M.value=g),_(g)}),a(25,"span",19),l(26,"Show/Hide Column"),i(),se(27,Yn,3,2,"mat-option",null,ce),i()(),a(29,"button",20),p("click",function(){return u(r),_(n.addNew())}),a(30,"mat-icon"),l(31,"add_circle_outline"),i()(),a(32,"button",21),p("click",function(){return u(r),_(n.refresh())}),a(33,"mat-icon"),l(34,"refresh"),i()()()()()()(),a(35,"mat-card-content")(36,"div",22)(37,"div",23)(38,"table",24),T(39,25),v(40,Kn,2,4,"mat-header-cell",26)(41,Jn,2,3,"mat-cell",27),w(),se(42,Ca,2,1,null,null,ce),T(44,28),v(45,ha,2,0,"mat-header-cell",29)(46,ga,5,6,"mat-cell",30),w(),v(47,xa,1,0,"mat-header-row",31)(48,ya,1,2,"mat-row",32),i()(),v(49,ba,2,1,"div",33),C(50,"div",34,2),a(52,"mat-menu",null,3),v(54,Sa,30,1,"ng-template",35),i(),a(55,"mat-menu",null,4)(57,"button",36)(58,"mat-icon"),l(59,"mail_outline"),i(),a(60,"span"),l(61,"Item 1"),i()(),a(62,"button",36)(63,"mat-icon"),l(64,"turned_in_not"),i(),a(65,"span"),l(66,"Item 2"),i()(),a(67,"button",36)(68,"mat-icon",37),l(69,"sms"),i(),a(70,"span"),l(71,"Item 3"),i()()(),v(72,Ma,2,2,"div",38),C(73,"mat-paginator",39,5),i()()()}if(o&2){let r=E(12),f=E(53);c(17),d("hidden",!n.selection.hasValue()),c(6),pe("ngModel",r.value),c(4),de(n.columnDefinitions),c(11),d("dataSource",n.dataSource),c(4),de(n.columnDefinitions),c(5),d("matHeaderRowDef",n.getDisplayedColumns()),c(),d("matRowDefColumns",n.getDisplayedColumns()),c(),h(n.isLoading?49:-1),c(),V("left",n.contextMenuPosition.x)("top",n.contextMenuPosition.y),d("matMenuTriggerFor",f),c(22),h(n.isLoading?72:-1),c(),d("length",n.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",Te(16,Xn))}},dependencies:[rt,ot,it,nt,at,W,j,O,ve,J,K,P,B,R,N,Ve,qe,Y,X,Q,$t,ie,At,z,H,U,Ue,Re,De,Le,G,tt,et,ht,mt,st,_t,dt,ct,ft,pt,ut,vt,Ct,lt,Ie,Fe,yt,xt,Ae,Ne,Be,Pe,$,fe],styles:["[_nghost-%COMP%]     .search-box .mat-mdc-text-field-wrapper{height:40px!important}[_nghost-%COMP%]     .search-box .mat-mdc-form-field-flex{margin-top:-7px!important}[_nghost-%COMP%]     .search-box .mat-mdc-floating-label{height:32px}[_nghost-%COMP%]     .search-box .mat-mdc-input-element{font-size:13px!important}[_nghost-%COMP%]     .search-box .search-label{font-size:13px;top:-4px;position:relative}[_nghost-%COMP%]     .column-filter .mat-mdc-select-arrow{display:none}[_nghost-%COMP%]     .advance-table .mat-mdc-header-cell{font-weight:500}"]})}}return t})();var or=[{path:"",redirectTo:"leave-requests",pathMatch:"full"},{path:"leave-requests",component:di},{path:"leave-balance",component:_i},{path:"leave-types",component:Ci},{path:"**",component:Jt}];export{or as LEAVE_ROUTE};
