import{b as Pt}from"./chunk-NYP5QJCG.js";import{c as et}from"./chunk-L5A4DJEA.js";import{e as Lt}from"./chunk-7PPEBWSN.js";import"./chunk-F5X5MWHG.js";import{a as Ae,b as qe,c as $e,d as O,e as Oe}from"./chunk-JJ34EKBD.js";import{a as te,b as Dt,c as Tt}from"./chunk-VQIKGAAO.js";import{b as Kt}from"./chunk-BZP27SCH.js";import{a as ft,b as Ct,c as gt,d as ht,e as vt,f as St,g as xt,h as yt,i as bt,j as Mt,l as wt,m as Et}from"./chunk-53CQG6LB.js";import{a as Rt,c as kt}from"./chunk-674KBEP4.js";import{e as ie,f as ne,g as Ft,h as It,i as Vt,j as oe,k as Nt}from"./chunk-HXXT5RSW.js";import{a as nt,b as ot,d as at,l as rt}from"./chunk-O5DE62TI.js";import{a as tt,g as it}from"./chunk-GR7DAHDU.js";import{b as Z,c as ee}from"./chunk-XPOLCQDK.js";import{a as _t}from"./chunk-RK5RVTEM.js";import"./chunk-TAUST47P.js";import"./chunk-KV2HKO7R.js";import"./chunk-MS4AQ6UA.js";import"./chunk-3RK6DDJD.js";import{c as ut}from"./chunk-VNT5V4M3.js";import{E as z,J as W,K as X,L as Y,N as K,O as J,P as Je,Q as Ze,p as Le,q as Pe,s as B,t as Be,w as j,z as H}from"./chunk-XC6ZPLQX.js";import{b as lt,c as mt}from"./chunk-YJ3Z37TG.js";import{f as P,g as A,i as q,j as $,o as R,q as ct,s as dt,v as st,z as pt}from"./chunk-SE4BISY2.js";import{$a as he,Ab as Q,C as Ie,Ra as Ve,Ta as Ne,Wa as je,Za as He,cb as G,db as Ge,gb as Ue,h as Re,ib as Qe,jb as ze,kb as Yt,nb as We,ob as Xe,q as ke,tb as Ye,w as Fe,xb as Ke,zb as U}from"./chunk-XJPX7IZZ.js";import"./chunk-27NP7QR4.js";import{$b as se,Ac as r,Bc as D,Cc as v,Eb as T,Gc as ue,H as k,Hc as _e,Ic as fe,Kb as C,Kc as we,Lc as Ee,Oc as Xt,Rc as De,Tb as d,Tc as Te,Ub as L,Wb as ce,Yb as g,_b as de,ac as pe,bc as n,cc as i,dc as h,ec as w,f as xe,fc as E,ha as be,hc as S,ma as Me,mc as _,oc as s,q as ye,qb as c,tc as F,uc as I,vc as V,wb as x,xa as p,ya as u,zc as b}from"./chunk-YI4P4L32.js";import"./chunk-QDSGMOWV.js";var At=class{constructor(m={}){this.id=m.id||this.getRandomID(),this.roomNo=m.roomNo||"",this.floor=m.floor||"",this.guestName=m.guestName||"",this.cleaningStatus=m.cleaningStatus||"Scheduled",this.scheduledDate=m.scheduledDate||"",this.scheduledTime=m.scheduledTime||"",this.assignedStaff=m.assignedStaff||"",this.completionTime=m.completionTime||"",this.notes=m.notes||"",this.priority=m.priority||"Standard",this.cleaningType=m.cleaningType||"Light Clean",this.lastCleanedDate=m.lastCleanedDate||"",this.frequency=m.frequency||"Daily"}getRandomID(){let m=()=>(1+Math.random())*65536|0;return m()+m()}};var Ce=(()=>{class t{constructor(e){this.httpClient=e,this.API_URL="assets/data/roomCleaning.json"}getAllRoomCleanings(){return this.httpClient.get(this.API_URL).pipe(k(this.handleError))}addRoomCleaning(e){return this.httpClient.post(this.API_URL,e).pipe(k(this.handleError))}updateRoomCleaning(e){return this.httpClient.put(`${this.API_URL}/${e.id}`,e).pipe(k(this.handleError))}deleteRoomCleaning(e){return this.httpClient.delete(`${this.API_URL}/${e}`).pipe(k(this.handleError))}handleError(e){return console.error("An error occurred:",e.message),ye(()=>new Error("Something went wrong; please try again later."))}static{this.\u0275fac=function(a){return new(a||t)(Me(Ie))}}static{this.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ri(t,m){t&1&&(n(0,"mat-error"),r(1," Please enter a valid room number "),i())}function li(t,m){t&1&&(n(0,"mat-error"),r(1," Guest name is required "),i())}function mi(t,m){t&1&&(n(0,"mat-error"),r(1," Scheduled date is required "),i())}function ci(t,m){t&1&&(n(0,"mat-error"),r(1," Scheduled time is required "),i())}function di(t,m){t&1&&(n(0,"mat-error"),r(1," Assigned staff is required "),i())}function si(t,m){t&1&&(n(0,"mat-error"),r(1," Completion time is required "),i())}function pi(t,m){t&1&&(n(0,"mat-error"),r(1," Cleaning status is required "),i())}var Jt=(()=>{class t{constructor(e,a,o,l){this.dialogRef=e,this.data=a,this.roomCleaningService=o,this.fb=l,this.url=null,this.formControl=new Ue("",[he.required]),this.action=a.action,this.action==="edit"?(this.dialogTitle="Room #"+a.roomCleaning.roomNo,this.roomCleaning=a.roomCleaning):(this.dialogTitle="New Record",this.roomCleaning=new At),this.roomCleaningForm=this.createRoomCleaningForm()}getErrorMessage(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("roomNo")?"Not a valid roomNo":""}createRoomCleaningForm(){return this.fb.group({id:[this.roomCleaning.id],roomNo:[this.roomCleaning.roomNo,[he.required]],floor:[this.roomCleaning.floor],guestName:[this.roomCleaning.guestName],cleaningStatus:[this.roomCleaning.cleaningStatus],scheduledDate:[this.roomCleaning.scheduledDate],scheduledTime:[this.roomCleaning.scheduledTime],assignedStaff:[this.roomCleaning.assignedStaff],completionTime:[this.roomCleaning.completionTime],notes:[this.roomCleaning.notes],priority:[this.roomCleaning.priority],cleaningType:[this.roomCleaning.cleaningType],lastCleanedDate:[this.roomCleaning.lastCleanedDate],frequency:[this.roomCleaning.frequency]})}submit(){this.roomCleaningForm.valid&&(this.action==="edit"?this.roomCleaningService.updateRoomCleaning(this.roomCleaningForm.getRawValue()):this.roomCleaningService.addRoomCleaning(this.roomCleaningForm.getRawValue()),this.dialogRef.close(this.roomCleaningForm.getRawValue()))}onNoClick(){this.dialogRef.close()}confirmAdd(){this.roomCleaningService.addRoomCleaning(this.roomCleaningForm.getRawValue())}onSelectFile(e){let a=e.target;if(a.files&&a.files[0]){let o=new FileReader;o.readAsDataURL(a.files[0]),o.onload=l=>{l.target&&(this.url=l.target.result)}}}static{this.\u0275fac=function(a){return new(a||t)(x(ie),x(ne),x(Ce),x(Ke))}}static{this.\u0275cmp=T({type:t,selectors:[["app-room-cleaning-form-dialog"]],features:[we([{provide:tt,useValue:"en-GB"}])],decls:89,vars:18,consts:[["picker",""],[1,"dialogContainer"],[1,"modalHeader"],[1,"avatarDetails"],[1,"modalTitle"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[1,"form-field-full",3,"formGroup"],[1,"row","m-b-24"],[1,"col-sm-6"],["appearance","outline","subscriptSizing","dynamic",1,"example-full-width"],["matInput","","formControlName","roomNo","required",""],["matInput","","formControlName","guestName","required",""],["matInput","","formControlName","scheduledDate","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","scheduledTime","type","time","required",""],["matInput","","formControlName","assignedStaff","required",""],["matInput","","formControlName","completionTime","type","time"],["formControlName","cleaningStatus","required",""],[3,"value"],["formControlName","priority"],[1,"col-sm-12"],["matInput","","formControlName","notes","rows","4"],[1,"example-button-row"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-raised-button","","color","warn","tabindex","-1","type","button",3,"click"]],template:function(a,o){if(a&1){let l=S();n(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),r(4),i()(),n(5,"button",5),_("click",function(){return p(l),u(o.dialogRef.close())}),n(6,"mat-icon"),r(7,"close"),i()()(),n(8,"div",6)(9,"form",7)(10,"div",8)(11,"div",9)(12,"mat-form-field",10)(13,"mat-label"),r(14,"Room No"),i(),h(15,"input",11),C(16,ri,2,0,"mat-error"),i()(),n(17,"div",9)(18,"mat-form-field",10)(19,"mat-label"),r(20,"Guest Name"),i(),h(21,"input",12),C(22,li,2,0,"mat-error"),i()()(),n(23,"div",8)(24,"div",9)(25,"mat-form-field",10)(26,"mat-label"),r(27,"Scheduled Date"),i(),h(28,"input",13)(29,"mat-datepicker-toggle",14)(30,"mat-datepicker",null,0),C(32,mi,2,0,"mat-error"),i()(),n(33,"div",9)(34,"mat-form-field",10)(35,"mat-label"),r(36,"Scheduled Time"),i(),h(37,"input",15),C(38,ci,2,0,"mat-error"),i()()(),n(39,"div",8)(40,"div",9)(41,"mat-form-field",10)(42,"mat-label"),r(43,"Assigned Staff"),i(),h(44,"input",16),C(45,di,2,0,"mat-error"),i()(),n(46,"div",9)(47,"mat-form-field",10)(48,"mat-label"),r(49,"Completion Time"),i(),h(50,"input",17),C(51,si,2,0,"mat-error"),i()()(),n(52,"div",8)(53,"div",9)(54,"mat-form-field",10)(55,"mat-label"),r(56,"Cleaning Status"),i(),n(57,"mat-select",18)(58,"mat-option",19),r(59,"Scheduled"),i(),n(60,"mat-option",19),r(61,"In Progress"),i(),n(62,"mat-option",19),r(63,"Completed"),i()(),C(64,pi,2,0,"mat-error"),i()(),n(65,"div",9)(66,"mat-form-field",10)(67,"mat-label"),r(68,"Priority"),i(),n(69,"mat-select",20)(70,"mat-option",19),r(71,"Low"),i(),n(72,"mat-option",19),r(73,"Standard"),i(),n(74,"mat-option",19),r(75,"High"),i()()()()(),n(76,"div",8)(77,"div",21)(78,"mat-form-field",10)(79,"mat-label"),r(80,"Notes"),i(),h(81,"textarea",22),i()()(),n(82,"div",8)(83,"div",21)(84,"div",23)(85,"button",24),_("click",function(){return p(l),u(o.submit())}),r(86,"Save"),i(),n(87,"button",25),_("click",function(){return p(l),u(o.onNoClick())}),r(88,"Cancel"),i()()()()()()()}if(a&2){let l,f,y,M,ae,N,re,le=b(31);c(4),v(" ",o.dialogTitle," "),c(5),d("formGroup",o.roomCleaningForm),c(7),g((l=o.roomCleaningForm.get("roomNo"))!=null&&l.hasError("required")||(l=o.roomCleaningForm.get("roomNo"))!=null&&l.touched?16:-1),c(6),g((f=o.roomCleaningForm.get("guestName"))!=null&&f.hasError("required")||(f=o.roomCleaningForm.get("guestName"))!=null&&f.touched?22:-1),c(6),d("matDatepicker",le),c(),d("for",le),c(3),g((y=o.roomCleaningForm.get("scheduledDate"))!=null&&y.hasError("required")||(y=o.roomCleaningForm.get("scheduledDate"))!=null&&y.touched?32:-1),c(6),g((M=o.roomCleaningForm.get("scheduledTime"))!=null&&M.hasError("required")||(M=o.roomCleaningForm.get("scheduledTime"))!=null&&M.touched?38:-1),c(7),g((ae=o.roomCleaningForm.get("assignedStaff"))!=null&&ae.hasError("required")||(ae=o.roomCleaningForm.get("assignedStaff"))!=null&&ae.touched?45:-1),c(6),g((N=o.roomCleaningForm.get("completionTime"))!=null&&N.hasError("required")||(N=o.roomCleaningForm.get("completionTime"))!=null&&N.touched?51:-1),c(7),d("value","Scheduled"),c(2),d("value","In Progress"),c(2),d("value","Completed"),c(2),g((re=o.roomCleaningForm.get("cleaningStatus"))!=null&&re.hasError("required")?64:-1),c(6),d("value","Low"),c(2),d("value","Standard"),c(2),d("value","High"),c(11),d("disabled",!o.roomCleaningForm.valid)}},dependencies:[R,$,q,A,P,oe,U,ze,He,G,Ge,Ye,Q,We,Xe,X,H,B,Be,j,ee,Z,et,rt,nt,ot,at,K,Y,z,W,it,Pt],styles:[".hoverable[_ngcontent-%COMP%]{position:relative;display:block;cursor:pointer;height:36px;width:36px;border-radius:50%}.hoverable[_ngcontent-%COMP%]   .hover-text[_ngcontent-%COMP%]{position:absolute;display:none;top:50%;left:50%;font-size:10px;transform:translate(-50%,-50%);z-index:2}.hoverable[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{position:absolute;display:none;inset:0;background-color:#ffffff80;pointer-events:none;border-radius:50%;z-index:1}.hoverable[_ngcontent-%COMP%]:hover   .hover-text[_ngcontent-%COMP%], .hoverable[_ngcontent-%COMP%]:hover   .background[_ngcontent-%COMP%]{display:block}#tableFileInput[_ngcontent-%COMP%]{display:none}"]})}}return t})();var Zt=(()=>{class t{constructor(e,a,o){this.dialogRef=e,this.data=a,this.roomCleaningService=o}onNoClick(){this.dialogRef.close()}confirmDelete(){this.roomCleaningService.deleteRoomCleaning(this.data.id),this.dialogRef.close(this.data.id)}static{this.\u0275fac=function(a){return new(a||t)(x(ie),x(ne),x(Ce))}}static{this.\u0275cmp=T({type:t,selectors:[["app-room-cleaning-delete"]],decls:25,vars:4,consts:[[1,"dialogContainer"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"delete-list"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","warn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(a,o){a&1&&(n(0,"div",0)(1,"h3",1),r(2,"Are you sure?"),i(),n(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),r(8," Room No: "),i(),r(9),i()(),n(10,"li")(11,"p")(12,"span",4),r(13,"Assign Staff: "),i(),r(14),i()(),n(15,"li")(16,"p")(17,"span",4),r(18,"Cleaning Type: "),i(),r(19),i()()()(),n(20,"div",5)(21,"button",6),_("click",function(){return o.confirmDelete()}),r(22," Delete "),i(),n(23,"button",7),_("click",function(){return o.onNoClick()}),r(24,"Cancel"),i()()()),a&2&&(c(9),D(o.data.roomNo),c(5),v("",o.data.assignedStaff," "),c(5),v("",o.data.cleaningType," "),c(2),d("mat-dialog-close",1))},dependencies:[Vt,oe,Nt,R,$,It],styles:[".delete-list[_ngcontent-%COMP%]{padding:0;list-style-type:none}"]})}}return t})();var Mi=["filter"],wi=()=>[5,10,25,100];function Ei(t,m){if(t&1){let e=S();n(0,"mat-option")(1,"mat-checkbox",41),_("click",function(o){return p(e),u(o.stopPropagation())}),fe("ngModelChange",function(o){let l=p(e).$implicit;return _e(l.visible,o)||(l.visible=o),u(o)}),r(2),i()()}if(t&2){let e=m.$implicit;c(),ue("ngModel",e.visible),c(),v(" ",e.label," ")}}function Di(t,m){if(t&1){let e=S();n(0,"mat-header-cell",42)(1,"mat-checkbox",43),_("change",function(o){p(e);let l=s();return u(o?l.masterToggle():null)}),i()()}if(t&2){let e=s();d("ngClass","tbl-col-width-per-6"),c(),d("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("ngClass","tbl-checkbox")}}function Ti(t,m){if(t&1){let e=S();n(0,"mat-cell",42)(1,"mat-checkbox",44),_("click",function(o){return p(e),u(o.stopPropagation())})("change",function(o){let l=p(e).$implicit,f=s();return u(o?f.selection.toggle(l):null)}),i()()}if(t&2){let e=m.$implicit,a=s();d("ngClass","tbl-col-width-per-6"),c(),d("checked",a.selection.isSelected(e))("ngClass","tbl-checkbox")}}function Ri(t,m){}function ki(t,m){if(t&1&&(n(0,"mat-header-cell",48)(1,"span",49),r(2),i()()),t&2){let e=s(3).$implicit;c(2),D(e.label)}}function Fi(t,m){if(t&1){let e=S();n(0,"mat-cell",50),_("contextmenu",function(o){let l=p(e).$implicit,f=s(4);return u(f.onContextMenu(o,l))}),n(1,"span",51),r(2),i(),n(3,"span",49),r(4),De(5,"date"),i()()}if(t&2){let e=m.$implicit,a=s(3).$implicit;c(2),v("",a.label,":"),c(2),v(" ",Te(5,2,e[a.def],"MM/dd/yyyy"),"")}}function Ii(t,m){if(t&1&&(w(0,45),C(1,ki,3,1,"mat-header-cell",46)(2,Fi,6,5,"mat-cell",47),E()),t&2){let e=s(2).$implicit;d("matColumnDef",e.def)}}function Vi(t,m){if(t&1&&(n(0,"mat-header-cell",48)(1,"span",49),r(2),i()()),t&2){let e=s(4).$implicit;c(2),D(e.label)}}function Ni(t,m){if(t&1&&(n(0,"div")(1,"span",54),r(2),i()()),t&2){let e=s().$implicit;c(2),v(" ",e.cleaningStatus,"")}}function Li(t,m){if(t&1&&(n(0,"div")(1,"span",55),r(2),i()()),t&2){let e=s().$implicit;c(2),v(" ",e.cleaningStatus,"")}}function Pi(t,m){if(t&1&&(n(0,"div")(1,"span",56),r(2),i()()),t&2){let e=s().$implicit;c(2),v(" ",e.cleaningStatus,"")}}function Ai(t,m){if(t&1){let e=S();n(0,"mat-cell",53),_("contextmenu",function(o){let l=p(e).$implicit,f=s(5);return u(f.onContextMenu(o,l))}),n(1,"span",51),r(2),i(),C(3,Ni,3,1,"div")(4,Li,3,1,"div")(5,Pi,3,1,"div"),i()}if(t&2){let e=m.$implicit,a=s(4).$implicit;c(2),v("",a.label,":"),c(),g(e.cleaningStatus==="Scheduled"?3:-1),c(),g(e.cleaningStatus==="In Progress"?4:-1),c(),g(e.cleaningStatus==="Completed"?5:-1)}}function qi(t,m){if(t&1&&(w(0,45),C(1,Vi,3,1,"mat-header-cell",46)(2,Ai,6,4,"mat-cell",52),E()),t&2){let e=s(3).$implicit;d("matColumnDef",e.def)}}function $i(t,m){if(t&1&&(n(0,"mat-header-cell",48)(1,"span",49),r(2),i()()),t&2){let e=s(5).$implicit;c(2),D(e.label)}}function Oi(t,m){if(t&1&&(n(0,"div")(1,"span",54),r(2),i()()),t&2){let e=s().$implicit;c(2),v(" ",e.priority,"")}}function Bi(t,m){if(t&1&&(n(0,"div")(1,"span",55),r(2),i()()),t&2){let e=s().$implicit;c(2),v(" ",e.priority,"")}}function ji(t,m){if(t&1&&(n(0,"div")(1,"span",56),r(2),i()()),t&2){let e=s().$implicit;c(2),v(" ",e.priority,"")}}function Hi(t,m){if(t&1){let e=S();n(0,"mat-cell",53),_("contextmenu",function(o){let l=p(e).$implicit,f=s(6);return u(f.onContextMenu(o,l))}),n(1,"span",51),r(2),i(),C(3,Oi,3,1,"div")(4,Bi,3,1,"div")(5,ji,3,1,"div"),i()}if(t&2){let e=m.$implicit,a=s(5).$implicit;c(2),v("",a.label,":"),c(),g(e.priority==="Standard"?3:-1),c(),g(e.priority==="High"?4:-1),c(),g(e.priority==="Low"?5:-1)}}function Gi(t,m){if(t&1&&(w(0,45),C(1,$i,3,1,"mat-header-cell",46)(2,Hi,6,4,"mat-cell",52),E()),t&2){let e=s(4).$implicit;d("matColumnDef",e.def)}}function Ui(t,m){if(t&1&&(n(0,"mat-header-cell",48)(1,"span",49),r(2),i()()),t&2){let e=s(5).$implicit;c(2),D(e.label)}}function Qi(t,m){if(t&1){let e=S();n(0,"mat-cell",50),_("contextmenu",function(o){let l=p(e).$implicit,f=s(6);return u(f.onContextMenu(o,l))}),n(1,"span",51),r(2),i(),n(3,"span",49),r(4),i()()}if(t&2){let e=m.$implicit,a=s(5).$implicit;c(2),v("",a.label,":"),c(2),v(" ",e[a.def],"")}}function zi(t,m){if(t&1&&(w(0,45),C(1,Ui,3,1,"mat-header-cell",46)(2,Qi,5,2,"mat-cell",47),E()),t&2){let e=s(4).$implicit;d("matColumnDef",e.def)}}function Wi(t,m){if(t&1&&C(0,Gi,3,1,"ng-container",45)(1,zi,3,1,"ng-container",45),t&2){let e=s(3).$implicit;g(e.def==="priority"?0:1)}}function Xi(t,m){if(t&1&&C(0,qi,3,1,"ng-container",45)(1,Wi,2,1),t&2){let e=s(2).$implicit;g(e.def==="cleaningStatus"?0:1)}}function Yi(t,m){if(t&1&&C(0,Ii,3,1,"ng-container",45)(1,Xi,2,1),t&2){let e=s().$implicit;g(e.type==="date"?0:1)}}function Ki(t,m){if(t&1&&C(0,Ri,0,0)(1,Yi,2,1),t&2){let e=m.$implicit;g(e.type==="check"||e.type==="actionBtn"?0:1)}}function Ji(t,m){t&1&&(n(0,"mat-header-cell",57),r(1,"Actions"),i())}function Zi(t,m){if(t&1){let e=S();n(0,"mat-cell",57)(1,"button",58),_("click",function(o){return p(e),u(o.stopPropagation())})("click",function(){let o=p(e).$implicit,l=s();return u(l.editCall(o))}),h(2,"app-feather-icons",59),i(),n(3,"button",58),_("click",function(o){return p(e),u(o.stopPropagation())})("click",function(){let o=p(e).$implicit,l=s();return u(l.deleteItem(o))}),h(4,"app-feather-icons",59),i()()}t&2&&(c(2),ce("tbl-fav-edit"),d("icon","edit"),c(2),ce("tbl-fav-delete"),d("icon","trash-2"))}function en(t,m){t&1&&h(0,"mat-header-row")}function tn(t,m){if(t&1){let e=S();n(0,"mat-row",60),_("click",function(){let o=p(e).$implicit,l=s();return u(l.editCall(o))}),i()}t&2&&L("cursor","pointer")}function nn(t,m){t&1&&(n(0,"div",35),h(1,"mat-progress-spinner",61),i()),t&2&&(c(),d("diameter",40))}function on(t,m){if(t&1){let e=S();n(0,"button",62),_("click",function(){p(e);let o=s();return u(o.addNew())}),n(1,"mat-icon"),r(2,"add_circle_outline"),i(),n(3,"span"),r(4,"Add Record"),i()(),n(5,"button",62),_("click",function(){let o=p(e).item,l=s();return u(l.editCall(o))}),n(6,"mat-icon",23),r(7,"mode_edit"),i(),n(8,"span"),r(9,"Edit Record"),i()(),n(10,"button",62),_("click",function(){let o=p(e).item,l=s();return u(l.deleteItem(o))}),n(11,"mat-icon"),r(12,"delete_outline"),i(),n(13,"span"),r(14,"Delete Record"),i()(),n(15,"button",62),_("click",function(){p(e);let o=s();return u(o.refresh())}),n(16,"mat-icon"),r(17,"refresh"),i(),n(18,"span"),r(19,"Refresh Record"),i()(),n(20,"button",63)(21,"mat-icon"),r(22,"visibility_off"),i(),n(23,"span"),r(24,"Disable"),i()(),n(25,"button",64)(26,"mat-icon"),r(27,"settings_ethernet"),i(),n(28,"span"),r(29," Nested Menu"),i()()}if(t&2){s();let e=b(59);c(25),d("matMenuTriggerFor",e)}}function an(t,m){if(t&1&&(n(0,"div",65),r(1," No results "),i()),t&2){let e=s();L("display",e.dataSource.data.length===0?"":"none")}}var ei=(()=>{class t{constructor(e,a,o){this.dialog=e,this.roomCleaningService=a,this.snackBar=o,this.columnDefinitions=[{def:"select",label:"Checkbox",type:"check",visible:!0},{def:"roomNo",label:"Room No",type:"number",visible:!0},{def:"floor",label:"Floor",type:"number",visible:!1},{def:"guestName",label:"Guest Name",type:"text",visible:!1},{def:"cleaningStatus",label:"Cleaning Status",type:"text",visible:!0},{def:"scheduledDate",label:"Scheduled Date",type:"date",visible:!0},{def:"scheduledTime",label:"Scheduled Time",type:"number",visible:!0},{def:"assignedStaff",label:"Assigned Staff",type:"text",visible:!0},{def:"completionTime",label:"Completion Time",type:"number",visible:!0},{def:"notes",label:"Notes",type:"text",visible:!1},{def:"priority",label:"Priority",type:"text",visible:!0},{def:"cleaningType",label:"Cleaning Type",type:"text",visible:!1},{def:"lastCleanedDate",label:"Last Cleaned Date",type:"date",visible:!1},{def:"frequency",label:"Frequency",type:"text",visible:!1},{def:"actions",label:"Actions",type:"actionBtn",visible:!0}],this.dataSource=new Et([]),this.selection=new je(!0,[]),this.destroy$=new xe,this.contextMenuPosition={x:"0px",y:"0px"},this.isLoading=!0}ngOnInit(){this.loadData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}refresh(){this.loadData()}getDisplayedColumns(){return this.columnDefinitions.filter(e=>e.visible).map(e=>e.def)}editCall(e){this.openDialog("edit",e)}addNew(){this.openDialog("add")}openDialog(e,a){this.dialog.open(Jt,{width:"60vw",maxWidth:"100vw",data:{roomCleaning:a,action:e},autoFocus:!1}).afterClosed().subscribe(l=>{l&&(e==="add"?this.dataSource.data=[l,...this.dataSource.data]:this.updateRecord(l),this.refreshTable(),this.showNotification(e==="add"?"snackbar-success":"black",`${e==="add"?"Add":"Edit"} Record Successfully...!!!`,"bottom","center"))})}updateRecord(e){let a=this.dataSource.data.findIndex(o=>o.id===e.id);a!==-1&&(this.dataSource.data[a]=e,this.dataSource._updateChangeSubscription())}deleteItem(e){this.dialog.open(Zt,{data:e}).afterClosed().subscribe(o=>{o&&(this.dataSource.data=this.dataSource.data.filter(l=>l.id!==e.id),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))})}refreshTable(){this.paginator.pageIndex=0,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(e){let a=e.target.value.trim().toLowerCase();this.dataSource.filter=a}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}removeSelectedRows(){let e=this.selection.selected.length;this.dataSource.data=this.dataSource.data.filter(a=>!this.selection.selected.includes(a)),this.selection.clear(),this.showNotification("snackbar-danger",`${e} Record(s) Deleted Successfully...!!!`,"bottom","center")}loadData(){this.roomCleaningService.getAllRoomCleanings().subscribe({next:e=>{this.dataSource.data=e,this.isLoading=!1,this.refreshTable(),this.dataSource.filterPredicate=(a,o)=>Object.values(a).some(l=>l.toString().toLowerCase().includes(o))},error:e=>console.error(e)})}showNotification(e,a,o,l){this.snackBar.open(a,"",{duration:2e3,verticalPosition:o,horizontalPosition:l,panelClass:e})}exportExcel(){let e=this.dataSource.filteredData.map(a=>({"Room No":a.roomNo,Floor:a.floor,"Guest Name":a.guestName,"Cleaning Status":a.cleaningStatus,"Scheduled Date":a.scheduledDate,"Scheduled Time":a.scheduledTime,"Assigned Staff":a.assignedStaff,"Completion Time":a.completionTime,Notes:a.notes,Priority:a.priority,"Cleaning Type":a.cleaningType,"Last Cleaned Date":a.lastCleanedDate,Frequency:a.frequency}));Ze.exportToExcel(e,"excel")}onContextMenu(e,a){e.preventDefault(),this.contextMenuPosition={x:`${e.clientX}px`,y:`${e.clientY}px`},this.contextMenu&&(this.contextMenu.menuData={item:a},this.contextMenu.menu?.focusFirstItem("mouse"),this.contextMenu.openMenu())}static{this.\u0275fac=function(a){return new(a||t)(x(Ft),x(Ce),x(Lt))}}static{this.\u0275cmp=T({type:t,selectors:[["app-room-cleaning"]],viewQuery:function(a,o){if(a&1&&(F(J,5),F(te,5),F(Mi,5),F(O,5)),a&2){let l;I(l=V())&&(o.paginator=l.first),I(l=V())&&(o.sort=l.first),I(l=V())&&(o.filter=l.first),I(l=V())&&(o.contextMenu=l.first)}},decls:78,vars:17,consts:[["filter",""],["select",""],["contextMenuTrigger","matMenuTrigger"],["contextMenu","matMenu"],["nestedmenu","matMenu"],["paginator",""],[1,"table-header-toolbar"],[1,"row"],[1,"col-sm-8"],[1,"table-header"],["appearance","outline",1,"search-box"],[1,"search-label"],["matInput","","type","text",3,"keyup"],["matSuffix",""],[1,"col-sm-4"],[1,"right-side-btn"],["mat-icon-button","","matTooltip","Delete",1,"tbl-header-btn","text-red",3,"click","hidden"],["mat-icon-button","","matTooltip","Show/Hide Column",1,"text-indigo",3,"click"],[1,"column-filter",2,"width","200px","display","table",3,"ngModelChange","ngModel"],[1,"table-column-label"],["mat-icon-button","","matTooltip","Add",1,"tbl-header-btn","text-green",3,"click"],["mat-icon-button","","matTooltip","Refresh",1,"tbl-header-btn","text-dark-grey",3,"click"],["mat-icon-button","","matTooltip","Xlsx Download",1,"tbl-header-btn","text-blue",3,"click"],[1,"material-icons-outlined"],[1,"overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["matMenuContent",""],["mat-menu-item",""],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["color","primary",3,"click","ngModelChange","ngModel"],[3,"ngClass"],["color","primary",3,"change","checked","indeterminate","ngClass"],["color","primary",3,"click","change","checked","ngClass"],[3,"matColumnDef"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"contextmenu",4,"matCellDef"],["mat-sort-header",""],[1,"truncate-text"],[3,"contextmenu"],[1,"mobile-label"],["mat-cell","",3,"contextmenu",4,"matCellDef"],["mat-cell","",3,"contextmenu"],[1,"badge","badge-solid-blue"],[1,"badge","badge-solid-orange"],[1,"badge","badge-solid-green"],[1,"pr-0"],["mat-icon-button","","color","accent",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],["color","primary","mode","indeterminate",3,"diameter"],["mat-menu-item","",3,"click"],["mat-menu-item","","disabled",""],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"no-results"]],template:function(a,o){if(a&1){let l=S();h(0,"app-page-header"),n(1,"mat-card")(2,"mat-card-header")(3,"div",6)(4,"div",7)(5,"div",8)(6,"span",9),r(7,"Room Cleaning"),i(),n(8,"mat-form-field",10)(9,"mat-label",11),r(10,"Search..."),i(),n(11,"input",12,0),_("keyup",function(y){return p(l),u(o.applyFilter(y))}),i(),n(13,"mat-icon",13),r(14,"search"),i()()(),n(15,"div",14)(16,"div",15)(17,"button",16),_("click",function(){return p(l),u(o.removeSelectedRows())}),n(18,"mat-icon"),r(19,"delete_outline"),i()(),n(20,"button",17),_("click",function(){p(l);let y=b(24);return u(y.open())}),n(21,"mat-icon"),r(22,"filter_list"),i(),n(23,"mat-select",18,1),fe("ngModelChange",function(y){p(l);let M=b(12);return _e(M.value,y)||(M.value=y),u(y)}),n(25,"span",19),r(26,"Show/Hide Column"),i(),se(27,Ei,3,2,"mat-option",null,de),i()(),n(29,"button",20),_("click",function(){return p(l),u(o.addNew())}),n(30,"mat-icon"),r(31,"add_circle_outline"),i()(),n(32,"button",21),_("click",function(){return p(l),u(o.refresh())}),n(33,"mat-icon"),r(34,"refresh"),i()(),n(35,"button",22),_("click",function(){return p(l),u(o.exportExcel())}),n(36,"mat-icon",23),r(37,"file_download"),i()()()()()()(),n(38,"mat-card-content")(39,"div",24)(40,"div",25)(41,"table",26),w(42,27),C(43,Di,2,4,"mat-header-cell",28)(44,Ti,2,3,"mat-cell",29),E(),se(45,Ki,2,1,null,null,de),w(47,30),C(48,Ji,2,0,"mat-header-cell",31)(49,Zi,5,6,"mat-cell",32),E(),C(50,en,1,0,"mat-header-row",33)(51,tn,1,2,"mat-row",34),i()(),C(52,nn,2,1,"div",35),h(53,"div",36,2),n(55,"mat-menu",null,3),C(57,on,30,1,"ng-template",37),i(),n(58,"mat-menu",null,4)(60,"button",38)(61,"mat-icon"),r(62,"mail_outline"),i(),n(63,"span"),r(64,"Item 1"),i()(),n(65,"button",38)(66,"mat-icon"),r(67,"turned_in_not"),i(),n(68,"span"),r(69,"Item 2"),i()(),n(70,"button",38)(71,"mat-icon",23),r(72,"sms"),i(),n(73,"span"),r(74,"Item 3"),i()()(),C(75,an,2,2,"div",39),h(76,"mat-paginator",40,5),i()()()}if(a&2){let l=b(12),f=b(56);c(17),d("hidden",!o.selection.hasValue()),c(6),ue("ngModel",l.value),c(4),pe(o.columnDefinitions),c(14),d("dataSource",o.dataSource),c(4),pe(o.columnDefinitions),c(5),d("matHeaderRowDef",o.getDisplayedColumns()),c(),d("matRowDefColumns",o.getDisplayedColumns()),c(),g(o.isLoading?52:-1),c(),L("left",o.contextMenuPosition.x)("top",o.contextMenuPosition.y),d("matMenuTriggerFor",f),c(22),g(o.isLoading?75:-1),c(),d("length",o.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",Ee(16,wi))}},dependencies:[_t,pt,ct,dt,st,X,H,B,j,ee,Z,A,P,R,q,Pe,Le,K,Y,z,Q,G,U,Qe,Fe,Re,ke,W,mt,lt,wt,ft,gt,xt,ht,Ct,yt,vt,St,bt,Mt,Tt,te,Dt,ut,Ne,Ve,kt,Rt,Oe,$e,Ae,qe,O,Je,J],styles:["[_nghost-%COMP%]     .search-box .mat-mdc-text-field-wrapper{height:40px!important}[_nghost-%COMP%]     .search-box .mat-mdc-form-field-flex{margin-top:-7px!important}[_nghost-%COMP%]     .search-box .mat-mdc-floating-label{height:32px}[_nghost-%COMP%]     .search-box .mat-mdc-input-element{font-size:13px!important}[_nghost-%COMP%]     .search-box .search-label{font-size:13px;top:-4px;position:relative}[_nghost-%COMP%]     .column-filter .mat-mdc-select-arrow{display:none}[_nghost-%COMP%]     .advance-table .mat-mdc-header-cell{font-weight:500}"]})}}return t})();var ge=(()=>{class t{constructor(e){this.httpClient=e,this.API_URL="assets/data/laundryServices.json"}getAllLaundryServices(){return this.httpClient.get(this.API_URL).pipe(k(this.handleError))}addLaundryService(e){return this.httpClient.post(this.API_URL,e).pipe(k(this.handleError))}updateLaundryService(e){return this.httpClient.put(`${this.API_URL}/${e.laundryId}`,e).pipe(k(this.handleError))}deleteLaundryService(e){return this.httpClient.delete(`${this.API_URL}/${e}`).pipe(k(this.handleError))}handleError(e){return console.error("An error occurred:",e.message),ye(()=>new Error("Something went wrong; please try again later."))}static{this.\u0275fac=function(a){return new(a||t)(Me(Ie))}}static{this.\u0275prov=be({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ti=(()=>{class t{constructor(e,a,o){this.dialogRef=e,this.data=a,this.laundryServiceService=o}onNoClick(){this.dialogRef.close()}confirmDelete(){this.laundryServiceService.deleteLaundryService(this.data.id)}static{this.\u0275fac=function(a){return new(a||t)(x(ie),x(ne),x(ge))}}static{this.\u0275cmp=T({type:t,selectors:[["app-housekeeping-delete"]],decls:25,vars:4,consts:[[1,"dialogContainer"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"delete-list"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","warn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(a,o){a&1&&(n(0,"div",0)(1,"h3",1),r(2,"Are you sure?"),i(),n(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),r(8," Room No: "),i(),r(9),i()(),n(10,"li")(11,"p")(12,"span",4),r(13,"Gause Name: "),i(),r(14),i()(),n(15,"li")(16,"p")(17,"span",4),r(18,"Emoloyee: "),i(),r(19),i()()()(),n(20,"div",5)(21,"button",6),_("click",function(){return o.confirmDelete()}),r(22," Delete "),i(),n(23,"button",7),_("click",function(){return o.onNoClick()}),r(24,"Cancel"),i()()()),a&2&&(c(9),D(o.data.roomNumber),c(5),v("",o.data.guestName," "),c(5),v("",o.data.employeeAssigned," "),c(2),d("mat-dialog-close",1))},dependencies:[Vt,oe,Nt,R,$,It],styles:[".delete-list[_ngcontent-%COMP%]{padding:0;list-style-type:none}"]})}}return t})();var qt=class{constructor(m={}){this.laundryId=m.laundryId||this.getRandomID(),this.guestName=m.guestName||"",this.roomNumber=m.roomNumber||"",this.dateReceived=m.dateReceived||"",this.dateCompleted=m.dateCompleted||"",this.serviceType=m.serviceType||"Washing",this.itemDescription=m.itemDescription||"",this.quantity=m.quantity||0,this.unitPrice=m.unitPrice||0,this.totalCost=m.totalCost||0,this.specialInstructions=m.specialInstructions||"",this.status=m.status||"In Progress",this.deliveryDate=m.deliveryDate||"",this.pickupDate=m.pickupDate||"",this.paymentStatus=m.paymentStatus||"Pending",this.paymentMethod=m.paymentMethod||"Room Charge",this.employeeAssigned=m.employeeAssigned||"",this.comments=m.comments||"",this.dateOfLastUpdate=m.dateOfLastUpdate||"",this.lastUpdatedBy=m.lastUpdatedBy||""}getRandomID(){let m=()=>(1+Math.random())*65536|0;return m()+m()}};function rn(t,m){t&1&&(n(0,"mat-error"),r(1," Room number is required "),i())}function ln(t,m){t&1&&(n(0,"mat-error"),r(1," Guest name is required "),i())}function mn(t,m){t&1&&(n(0,"mat-error"),r(1," Date received is required "),i())}function cn(t,m){t&1&&(n(0,"mat-error"),r(1," Service type is required "),i())}function dn(t,m){t&1&&(n(0,"mat-error"),r(1," Status is required "),i())}function sn(t,m){t&1&&(n(0,"mat-error"),r(1," Quantity is required "),i())}function pn(t,m){t&1&&(n(0,"mat-error"),r(1," Assigned Employee is required "),i())}function un(t,m){t&1&&(n(0,"mat-error"),r(1," Total cost is required "),i())}function _n(t,m){t&1&&(n(0,"mat-error"),r(1," Payment is required "),i())}var ii=(()=>{class t{constructor(e,a,o,l){this.dialogRef=e,this.data=a,this.laundryServiceService=o,this.fb=l,this.url=null,this.formControl=new Ue("",[he.required]),this.action=a.action,this.action==="edit"?(this.dialogTitle="Room No # "+a.laundryService.laundryId,this.laundryService=a.laundryService):(this.dialogTitle="New Record",this.laundryService=new qt),this.laundryServiceForm=this.createLaundryServiceForm()}getErrorMessage(){return this.formControl.hasError("required")?"Required field":""}createLaundryServiceForm(){return this.fb.group({laundryId:[this.laundryService.laundryId],guestName:[this.laundryService.guestName],roomNumber:[this.laundryService.roomNumber],dateReceived:[this.laundryService.dateReceived],dateCompleted:[this.laundryService.dateCompleted],serviceType:[this.laundryService.serviceType],itemDescription:[this.laundryService.itemDescription],quantity:[this.laundryService.quantity],unitPrice:[this.laundryService.unitPrice],totalCost:[this.laundryService.totalCost],specialInstructions:[this.laundryService.specialInstructions],status:[this.laundryService.status],deliveryDate:[this.laundryService.deliveryDate],pickupDate:[this.laundryService.pickupDate],paymentStatus:[this.laundryService.paymentStatus],paymentMethod:[this.laundryService.paymentMethod],employeeAssigned:[this.laundryService.employeeAssigned],comments:[this.laundryService.comments],dateOfLastUpdate:[this.laundryService.dateOfLastUpdate],lastUpdatedBy:[this.laundryService.lastUpdatedBy]})}submit(){this.laundryServiceForm.valid&&(this.action==="edit"?this.laundryServiceService.updateLaundryService(this.laundryServiceForm.getRawValue()):this.laundryServiceService.addLaundryService(this.laundryServiceForm.getRawValue()),this.dialogRef.close(this.laundryServiceForm.getRawValue()))}onNoClick(){this.dialogRef.close()}onSelectFile(e){let a=e.target;if(a.files&&a.files[0]){let o=new FileReader;o.readAsDataURL(a.files[0]),o.onload=l=>{l.target&&(this.url=l.target.result)}}}static{this.\u0275fac=function(a){return new(a||t)(x(ie),x(ne),x(ge),x(Ke))}}static{this.\u0275cmp=T({type:t,selectors:[["app-laundry-service-form-dialog"]],features:[we([{provide:tt,useValue:"en-GB"}])],decls:111,vars:25,consts:[["pickerReceived",""],["pickerCompleted",""],[1,"dialogContainer"],[1,"modalHeader"],[1,"avatarDetails"],[1,"modalTitle"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[1,"form-field-full",3,"formGroup"],[1,"row","m-b-24"],[1,"col-sm-6"],["appearance","outline",1,"example-full-width"],["matInput","","formControlName","roomNumber","required",""],["matInput","","formControlName","guestName","required",""],["matInput","","formControlName","dateReceived","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","dateCompleted",3,"matDatepicker"],["formControlName","serviceType","required",""],[3,"value"],["formControlName","status","required",""],["matInput","","formControlName","quantity","type","number","required",""],["matInput","","formControlName","employeeAssigned","required",""],["matInput","","formControlName","totalCost","type","number","required",""],["formControlName","paymentStatus","required",""],[1,"col-sm-12"],["matInput","","formControlName","specialInstructions","rows","4"],[1,"example-button-row"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-raised-button","","color","warn","tabindex","-1","type","button",3,"click"]],template:function(a,o){if(a&1){let l=S();n(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5),r(4),i()(),n(5,"button",6),_("click",function(){return p(l),u(o.dialogRef.close())}),n(6,"mat-icon"),r(7,"close"),i()()(),n(8,"div",7)(9,"form",8)(10,"div",9)(11,"div",10)(12,"mat-form-field",11)(13,"mat-label"),r(14,"Room Number"),i(),h(15,"input",12),C(16,rn,2,0,"mat-error"),i()(),n(17,"div",10)(18,"mat-form-field",11)(19,"mat-label"),r(20,"Guest Name"),i(),h(21,"input",13),C(22,ln,2,0,"mat-error"),i()()(),n(23,"div",9)(24,"div",10)(25,"mat-form-field",11)(26,"mat-label"),r(27,"Date Received"),i(),h(28,"input",14)(29,"mat-datepicker-toggle",15)(30,"mat-datepicker",null,0),C(32,mn,2,0,"mat-error"),i()(),n(33,"div",10)(34,"mat-form-field",11)(35,"mat-label"),r(36,"Date Completed"),i(),h(37,"input",16)(38,"mat-datepicker-toggle",15)(39,"mat-datepicker",null,1),i()()(),n(41,"div",9)(42,"div",10)(43,"mat-form-field",11)(44,"mat-label"),r(45,"Service Type"),i(),n(46,"mat-select",17)(47,"mat-option",18),r(48,"Washing"),i(),n(49,"mat-option",18),r(50,"Dry Cleaning"),i(),n(51,"mat-option",18),r(52,"Pressing"),i(),n(53,"mat-option",18),r(54,"Ironing"),i()(),C(55,cn,2,0,"mat-error"),i()(),n(56,"div",10)(57,"mat-form-field",11)(58,"mat-label"),r(59,"Status"),i(),n(60,"mat-select",19)(61,"mat-option",18),r(62,"In Progress"),i(),n(63,"mat-option",18),r(64,"Completed"),i(),n(65,"mat-option",18),r(66,"Cancelled"),i()(),C(67,dn,2,0,"mat-error"),i()()(),n(68,"div",9)(69,"div",10)(70,"mat-form-field",11)(71,"mat-label"),r(72,"Quantity"),i(),h(73,"input",20),C(74,sn,2,0,"mat-error"),i()(),n(75,"div",10)(76,"mat-form-field",11)(77,"mat-label"),r(78,"Assigned Employee"),i(),h(79,"input",21),C(80,pn,2,0,"mat-error"),i()()(),n(81,"div",9)(82,"div",10)(83,"mat-form-field",11)(84,"mat-label"),r(85,"Total Cost"),i(),h(86,"input",22),C(87,un,2,0,"mat-error"),i()(),n(88,"div",10)(89,"mat-form-field",11)(90,"mat-label"),r(91,"Payment Status"),i(),n(92,"mat-select",23)(93,"mat-option",18),r(94,"Paid"),i(),n(95,"mat-option",18),r(96,"Pending"),i()(),C(97,_n,2,0,"mat-error"),i()()(),n(98,"div",9)(99,"div",24)(100,"mat-form-field",11)(101,"mat-label"),r(102,"Special Instructions"),i(),h(103,"textarea",25),i()()(),n(104,"div",9)(105,"div",24)(106,"div",26)(107,"button",27),_("click",function(){return p(l),u(o.submit())}),r(108," Save "),i(),n(109,"button",28),_("click",function(){return p(l),u(o.onNoClick())}),r(110," Cancel "),i()()()()()()()}if(a&2){let l,f,y,M,ae,N,re,le,Qt,zt=b(31),Wt=b(40);c(4),v(" ",o.dialogTitle," "),c(5),d("formGroup",o.laundryServiceForm),c(7),g((l=o.laundryServiceForm.get("roomNumber"))!=null&&l.hasError("required")||(l=o.laundryServiceForm.get("roomNumber"))!=null&&l.touched?16:-1),c(6),g((f=o.laundryServiceForm.get("guestName"))!=null&&f.hasError("required")||(f=o.laundryServiceForm.get("guestName"))!=null&&f.touched?22:-1),c(6),d("matDatepicker",zt),c(),d("for",zt),c(3),g((y=o.laundryServiceForm.get("dateReceived"))!=null&&y.hasError("required")||(y=o.laundryServiceForm.get("dateReceived"))!=null&&y.touched?32:-1),c(5),d("matDatepicker",Wt),c(),d("for",Wt),c(9),d("value","Washing"),c(2),d("value","Dry Cleaning"),c(2),d("value","Pressing"),c(2),d("value","Ironing"),c(2),g((M=o.laundryServiceForm.get("serviceType"))!=null&&M.hasError("required")?55:-1),c(6),d("value","In Progress"),c(2),d("value","Completed"),c(2),d("value","Cancelled"),c(2),g((ae=o.laundryServiceForm.get("status"))!=null&&ae.hasError("required")?67:-1),c(7),g((N=o.laundryServiceForm.get("quantity"))!=null&&N.hasError("required")||(N=o.laundryServiceForm.get("quantity"))!=null&&N.touched?74:-1),c(6),g((re=o.laundryServiceForm.get("employeeAssigned"))!=null&&re.hasError("required")||(re=o.laundryServiceForm.get("unitPrice"))!=null&&re.touched?80:-1),c(7),g((le=o.laundryServiceForm.get("totalCost"))!=null&&le.hasError("required")||(le=o.laundryServiceForm.get("totalCost"))!=null&&le.touched?87:-1),c(6),d("value","Paid"),c(2),d("value","Pending"),c(2),g((Qt=o.laundryServiceForm.get("paymentStatus"))!=null&&Qt.hasError("required")?97:-1),c(10),d("disabled",!o.laundryServiceForm.valid)}},dependencies:[R,$,q,A,P,oe,U,ze,He,Yt,G,Ge,Ye,Q,We,Xe,X,H,B,Be,j,ee,Z,et,rt,nt,ot,at,K,Y,z,W,it,Pt],styles:[".hoverable[_ngcontent-%COMP%]{position:relative;display:block;cursor:pointer;height:36px;width:36px;border-radius:50%}.hoverable[_ngcontent-%COMP%]   .hover-text[_ngcontent-%COMP%]{position:absolute;display:none;top:50%;left:50%;font-size:10px;transform:translate(-50%,-50%);z-index:2}.hoverable[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{position:absolute;display:none;inset:0;background-color:#ffffff80;pointer-events:none;border-radius:50%;z-index:1}.hoverable[_ngcontent-%COMP%]:hover   .hover-text[_ngcontent-%COMP%], .hoverable[_ngcontent-%COMP%]:hover   .background[_ngcontent-%COMP%]{display:block}#tableFileInput[_ngcontent-%COMP%]{display:none}"]})}}return t})();var fn=["filter"],Cn=()=>[5,10,25,100],gn=(t,m,e)=>({"badge-solid-blue":t,"badge-solid-orange":m,"badge-solid-green":e});function hn(t,m){if(t&1){let e=S();n(0,"mat-option")(1,"mat-checkbox",41),_("click",function(o){return p(e),u(o.stopPropagation())}),fe("ngModelChange",function(o){let l=p(e).$implicit;return _e(l.visible,o)||(l.visible=o),u(o)}),r(2),i()()}if(t&2){let e=m.$implicit;c(),ue("ngModel",e.visible),c(),v(" ",e.label," ")}}function vn(t,m){if(t&1){let e=S();n(0,"mat-header-cell",42)(1,"mat-checkbox",43),_("change",function(o){p(e);let l=s();return u(o?l.masterToggle():null)}),i()()}if(t&2){let e=s();d("ngClass","tbl-col-width-per-6"),c(),d("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("ngClass","tbl-checkbox")}}function Sn(t,m){if(t&1){let e=S();n(0,"mat-cell",42)(1,"mat-checkbox",44),_("click",function(o){return p(e),u(o.stopPropagation())})("change",function(o){let l=p(e).$implicit,f=s();return u(o?f.selection.toggle(l):null)}),i()()}if(t&2){let e=m.$implicit,a=s();d("ngClass","tbl-col-width-per-6"),c(),d("checked",a.selection.isSelected(e))("ngClass","tbl-checkbox")}}function xn(t,m){}function yn(t,m){if(t&1&&(n(0,"mat-header-cell",48)(1,"span",49),r(2),i()()),t&2){let e=s(3).$implicit;c(2),D(e.label)}}function bn(t,m){if(t&1){let e=S();n(0,"mat-cell",50),_("contextmenu",function(o){let l=p(e).$implicit,f=s(4);return u(f.onContextMenu(o,l))}),n(1,"span",51),r(2),i(),n(3,"span",49),r(4),De(5,"date"),i()()}if(t&2){let e=m.$implicit,a=s(3).$implicit;c(2),v("",a.label,":"),c(2),v(" ",Te(5,2,e[a.def],"MM/dd/yyyy"),"")}}function Mn(t,m){if(t&1&&(w(0,45),C(1,yn,3,1,"mat-header-cell",46)(2,bn,6,5,"mat-cell",47),E()),t&2){let e=s(2).$implicit;d("matColumnDef",e.def)}}function wn(t,m){if(t&1&&(n(0,"mat-header-cell",48)(1,"span",49),r(2),i()()),t&2){let e=s(4).$implicit;c(2),D(e.label)}}function En(t,m){if(t&1){let e=S();n(0,"mat-cell",53),_("contextmenu",function(o){let l=p(e).$implicit,f=s(5);return u(f.onContextMenu(o,l))}),n(1,"span",51),r(2),i(),n(3,"div")(4,"span",54),r(5),i()()()}if(t&2){let e=m.$implicit,a=s(4).$implicit;c(2),v("",a.label,":"),c(2),d("ngClass",Xt(3,gn,e.status==="Scheduled",e.status==="In Progress",e.status==="Completed")),c(),v(" ",e.status," ")}}function Dn(t,m){if(t&1&&(w(0,45),C(1,wn,3,1,"mat-header-cell",46)(2,En,6,7,"mat-cell",52),E()),t&2){let e=s(3).$implicit;d("matColumnDef",e.def)}}function Tn(t,m){if(t&1&&(n(0,"mat-header-cell",48)(1,"span",49),r(2),i()()),t&2){let e=s(4).$implicit;c(2),D(e.label)}}function Rn(t,m){if(t&1){let e=S();n(0,"mat-cell",50),_("contextmenu",function(o){let l=p(e).$implicit,f=s(5);return u(f.onContextMenu(o,l))}),n(1,"span",51),r(2),i(),n(3,"span",49),r(4),i()()}if(t&2){let e=m.$implicit,a=s(4).$implicit;c(2),v("",a.label,":"),c(2),v(" ",e[a.def],"")}}function kn(t,m){if(t&1&&(w(0,45),C(1,Tn,3,1,"mat-header-cell",46)(2,Rn,5,2,"mat-cell",47),E()),t&2){let e=s(3).$implicit;d("matColumnDef",e.def)}}function Fn(t,m){if(t&1&&C(0,Dn,3,1,"ng-container",45)(1,kn,3,1,"ng-container",45),t&2){let e=s(2).$implicit;g(e.def==="status"?0:1)}}function In(t,m){if(t&1&&C(0,Mn,3,1,"ng-container",45)(1,Fn,2,1),t&2){let e=s().$implicit;g(e.type==="date"?0:1)}}function Vn(t,m){if(t&1&&C(0,xn,0,0)(1,In,2,1),t&2){let e=m.$implicit;g(e.type==="check"||e.type==="actionBtn"?0:1)}}function Nn(t,m){t&1&&(n(0,"mat-header-cell",55),r(1,"Actions"),i())}function Ln(t,m){if(t&1){let e=S();n(0,"mat-cell",55)(1,"button",56),_("click",function(o){return p(e),u(o.stopPropagation())})("click",function(){let o=p(e).$implicit,l=s();return u(l.editCall(o))}),h(2,"app-feather-icons",57),i(),n(3,"button",56),_("click",function(o){return p(e),u(o.stopPropagation())})("click",function(){let o=p(e).$implicit,l=s();return u(l.deleteItem(o))}),h(4,"app-feather-icons",57),i()()}t&2&&(c(2),ce("tbl-fav-edit"),d("icon","edit"),c(2),ce("tbl-fav-delete"),d("icon","trash-2"))}function Pn(t,m){t&1&&h(0,"mat-header-row")}function An(t,m){if(t&1){let e=S();n(0,"mat-row",58),_("click",function(){let o=p(e).$implicit,l=s();return u(l.editCall(o))}),i()}t&2&&L("cursor","pointer")}function qn(t,m){t&1&&(n(0,"div",35),h(1,"mat-progress-spinner",59),i()),t&2&&(c(),d("diameter",40))}function $n(t,m){if(t&1){let e=S();n(0,"button",60),_("click",function(){p(e);let o=s();return u(o.addNew())}),n(1,"mat-icon"),r(2,"add_circle_outline"),i(),n(3,"span"),r(4,"Add Record"),i()(),n(5,"button",60),_("click",function(){let o=p(e).item,l=s();return u(l.editCall(o))}),n(6,"mat-icon",23),r(7,"mode_edit"),i(),n(8,"span"),r(9,"Edit Record"),i()(),n(10,"button",60),_("click",function(){let o=p(e).item,l=s();return u(l.deleteItem(o))}),n(11,"mat-icon"),r(12,"delete_outline"),i(),n(13,"span"),r(14,"Delete Record"),i()(),n(15,"button",60),_("click",function(){p(e);let o=s();return u(o.refresh())}),n(16,"mat-icon"),r(17,"refresh"),i(),n(18,"span"),r(19,"Refresh Record"),i()(),n(20,"button",61)(21,"mat-icon"),r(22,"visibility_off"),i(),n(23,"span"),r(24,"Disable"),i()(),n(25,"button",62)(26,"mat-icon"),r(27,"settings_ethernet"),i(),n(28,"span"),r(29," Nested Menu"),i()()}if(t&2){s();let e=b(59);c(25),d("matMenuTriggerFor",e)}}function On(t,m){if(t&1&&(n(0,"div",63),r(1," No results "),i()),t&2){let e=s();L("display",e.dataSource.data.length===0?"":"none")}}var ni=(()=>{class t{constructor(e,a,o){this.dialog=e,this.laundryServiceService=a,this.snackBar=o,this.columnDefinitions=[{def:"select",label:"Checkbox",type:"check",visible:!0},{def:"roomNumber",label:"Room No",type:"number",visible:!0},{def:"guestName",label:"Guest Name",type:"text",visible:!0},{def:"dateReceived",label:"Received Date",type:"date",visible:!0},{def:"dateCompleted",label:"Completion Date",type:"date",visible:!0},{def:"pickupDate",label:"Pickup Date",type:"date",visible:!1},{def:"deliveryDate",label:"Delivery Date",type:"date",visible:!1},{def:"serviceType",label:"Service Type",type:"text",visible:!0},{def:"status",label:"Status",type:"text",visible:!0},{def:"quantity",label:"Quantity",type:"number",visible:!0},{def:"employeeAssigned",label:"Assign Employee",type:"text",visible:!0},{def:"paymentStatus",label:"Payment",type:"text",visible:!0},{def:"paymentMethod",label:"Payment Method",type:"text",visible:!1},{def:"comments",label:"Comments",type:"text",visible:!1},{def:"actions",label:"Actions",type:"actionBtn",visible:!0}],this.dataSource=new Et([]),this.selection=new je(!0,[]),this.destroy$=new xe,this.contextMenuPosition={x:"0px",y:"0px"},this.isLoading=!0}ngOnInit(){this.loadData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}refresh(){this.loadData()}getDisplayedColumns(){return this.columnDefinitions.filter(e=>e.visible).map(e=>e.def)}editCall(e){this.openDialog("edit",e)}addNew(){this.openDialog("add")}openDialog(e,a){this.dialog.open(ii,{width:"60vw",maxWidth:"100vw",data:{laundryService:a,action:e},autoFocus:!1}).afterClosed().subscribe(l=>{l&&(e==="add"?this.dataSource.data=[l,...this.dataSource.data]:this.updateRecord(l),this.refreshTable(),this.showNotification(e==="add"?"snackbar-success":"black",`${e==="add"?"Add":"Edit"} Record Successfully...!!!`,"bottom","center"))})}deleteItem(e){this.dialog.open(ti,{data:e}).afterClosed().subscribe(o=>{o&&(this.dataSource.data=this.dataSource.data.filter(l=>l.laundryId!==e.laundryId),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))})}updateRecord(e){let a=this.dataSource.data.findIndex(o=>o.laundryId===e.laundryId);a!==-1&&(this.dataSource.data[a]=e,this.dataSource._updateChangeSubscription())}refreshTable(){this.paginator.pageIndex=0,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(e){let a=e.target.value.trim().toLowerCase();this.dataSource.filter=a}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}removeSelectedRows(){let e=this.selection.selected.length;this.dataSource.data=this.dataSource.data.filter(a=>!this.selection.selected.includes(a)),this.selection.clear(),this.showNotification("snackbar-danger",`${e} Record(s) Deleted Successfully...!!!`,"bottom","center")}loadData(){this.laundryServiceService.getAllLaundryServices().subscribe({next:e=>{this.dataSource.data=e,this.isLoading=!1,this.refreshTable(),this.dataSource.filterPredicate=(a,o)=>Object.values(a).some(l=>l.toString().toLowerCase().includes(o))},error:e=>console.error(e)})}showNotification(e,a,o,l){this.snackBar.open(a,"",{duration:2e3,verticalPosition:o,horizontalPosition:l,panelClass:e})}exportExcel(){let e=this.dataSource.filteredData.map(a=>({"Guest Name":a.guestName,"Room No":a.roomNumber,"Received Date":a.dateReceived,"Completion Date":a.dateCompleted,"Service Type":a.serviceType,"Item Description":a.itemDescription,quantity:a.quantity,Status:a.status,"Delivery Date":a.deliveryDate}));Ze.exportToExcel(e,"excel")}onContextMenu(e,a){e.preventDefault(),this.contextMenuPosition.x=`${e.clientX}px`,this.contextMenuPosition.y=`${e.clientY}px`,this.contextMenu&&(this.contextMenu.menuData={item:a},this.contextMenu.menu?.focusFirstItem("mouse"),this.contextMenu.openMenu())}static{this.\u0275fac=function(a){return new(a||t)(x(Ft),x(ge),x(Lt))}}static{this.\u0275cmp=T({type:t,selectors:[["app-laundry-service"]],viewQuery:function(a,o){if(a&1&&(F(J,5),F(te,5),F(fn,5),F(O,5)),a&2){let l;I(l=V())&&(o.paginator=l.first),I(l=V())&&(o.sort=l.first),I(l=V())&&(o.filter=l.first),I(l=V())&&(o.contextMenu=l.first)}},decls:78,vars:17,consts:[["filter",""],["select",""],["contextMenuTrigger","matMenuTrigger"],["contextMenu","matMenu"],["nestedmenu","matMenu"],["paginator",""],[1,"table-header-toolbar"],[1,"row"],[1,"col-sm-8"],[1,"table-header"],["appearance","outline",1,"search-box"],[1,"search-label"],["matInput","","type","text",3,"keyup"],["matSuffix",""],[1,"col-sm-4"],[1,"right-side-btn"],["mat-icon-button","","matTooltip","Delete",1,"tbl-header-btn","text-red",3,"click","hidden"],["mat-icon-button","","matTooltip","Show/Hide Column",1,"text-indigo",3,"click"],[1,"column-filter",2,"width","200px","display","table",3,"ngModelChange","ngModel"],[1,"table-column-label"],["mat-icon-button","","matTooltip","Add",1,"tbl-header-btn","text-green",3,"click"],["mat-icon-button","","matTooltip","Refresh",1,"tbl-header-btn","text-dark-grey",3,"click"],["mat-icon-button","","matTooltip","Xlsx Download",1,"tbl-header-btn","text-blue",3,"click"],[1,"material-icons-outlined"],[1,"overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["matMenuContent",""],["mat-menu-item",""],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["color","primary",3,"click","ngModelChange","ngModel"],[3,"ngClass"],["color","primary",3,"change","checked","indeterminate","ngClass"],["color","primary",3,"click","change","checked","ngClass"],[3,"matColumnDef"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"contextmenu",4,"matCellDef"],["mat-sort-header",""],[1,"truncate-text"],[3,"contextmenu"],[1,"mobile-label"],["mat-cell","",3,"contextmenu",4,"matCellDef"],["mat-cell","",3,"contextmenu"],[1,"badge",3,"ngClass"],[1,"pr-0"],["mat-icon-button","","color","accent",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],["color","primary","mode","indeterminate",3,"diameter"],["mat-menu-item","",3,"click"],["mat-menu-item","","disabled",""],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"no-results"]],template:function(a,o){if(a&1){let l=S();h(0,"app-page-header"),n(1,"mat-card")(2,"mat-card-header")(3,"div",6)(4,"div",7)(5,"div",8)(6,"span",9),r(7,"Laundry Service"),i(),n(8,"mat-form-field",10)(9,"mat-label",11),r(10,"Search..."),i(),n(11,"input",12,0),_("keyup",function(y){return p(l),u(o.applyFilter(y))}),i(),n(13,"mat-icon",13),r(14,"search"),i()()(),n(15,"div",14)(16,"div",15)(17,"button",16),_("click",function(){return p(l),u(o.removeSelectedRows())}),n(18,"mat-icon"),r(19,"delete_outline"),i()(),n(20,"button",17),_("click",function(){p(l);let y=b(24);return u(y.open())}),n(21,"mat-icon"),r(22,"filter_list"),i(),n(23,"mat-select",18,1),fe("ngModelChange",function(y){p(l);let M=b(12);return _e(M.value,y)||(M.value=y),u(y)}),n(25,"span",19),r(26,"Show/Hide Column"),i(),se(27,hn,3,2,"mat-option",null,de),i()(),n(29,"button",20),_("click",function(){return p(l),u(o.addNew())}),n(30,"mat-icon"),r(31,"add_circle_outline"),i()(),n(32,"button",21),_("click",function(){return p(l),u(o.refresh())}),n(33,"mat-icon"),r(34,"refresh"),i()(),n(35,"button",22),_("click",function(){return p(l),u(o.exportExcel())}),n(36,"mat-icon",23),r(37,"file_download"),i()()()()()()(),n(38,"mat-card-content")(39,"div",24)(40,"div",25)(41,"table",26),w(42,27),C(43,vn,2,4,"mat-header-cell",28)(44,Sn,2,3,"mat-cell",29),E(),se(45,Vn,2,1,null,null,de),w(47,30),C(48,Nn,2,0,"mat-header-cell",31)(49,Ln,5,6,"mat-cell",32),E(),C(50,Pn,1,0,"mat-header-row",33)(51,An,1,2,"mat-row",34),i()(),C(52,qn,2,1,"div",35),h(53,"div",36,2),n(55,"mat-menu",null,3),C(57,$n,30,1,"ng-template",37),i(),n(58,"mat-menu",null,4)(60,"button",38)(61,"mat-icon"),r(62,"mail_outline"),i(),n(63,"span"),r(64,"Item 1"),i()(),n(65,"button",38)(66,"mat-icon"),r(67,"turned_in_not"),i(),n(68,"span"),r(69,"Item 2"),i()(),n(70,"button",38)(71,"mat-icon",23),r(72,"sms"),i(),n(73,"span"),r(74,"Item 3"),i()()(),C(75,On,2,2,"div",39),h(76,"mat-paginator",40,5),i()()()}if(a&2){let l=b(12),f=b(56);c(17),d("hidden",!o.selection.hasValue()),c(6),ue("ngModel",l.value),c(4),pe(o.columnDefinitions),c(14),d("dataSource",o.dataSource),c(4),pe(o.columnDefinitions),c(5),d("matHeaderRowDef",o.getDisplayedColumns()),c(),d("matRowDefColumns",o.getDisplayedColumns()),c(),g(o.isLoading?52:-1),c(),L("left",o.contextMenuPosition.x)("top",o.contextMenuPosition.y),d("matMenuTriggerFor",f),c(22),g(o.isLoading?75:-1),c(),d("length",o.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",Ee(16,Cn))}},dependencies:[_t,pt,ct,dt,st,X,H,B,j,ee,Z,A,P,R,q,Pe,Le,K,Y,z,Q,G,U,Qe,Fe,Re,ke,W,mt,lt,wt,ft,gt,xt,ht,Ct,yt,vt,St,bt,Mt,Tt,te,Dt,ut,Ne,Ve,kt,Rt,Oe,$e,Ae,qe,O,Je,J],styles:["[_nghost-%COMP%]     .search-box .mat-mdc-text-field-wrapper{height:40px!important}[_nghost-%COMP%]     .search-box .mat-mdc-form-field-flex{margin-top:-7px!important}[_nghost-%COMP%]     .search-box .mat-mdc-floating-label{height:32px}[_nghost-%COMP%]     .search-box .mat-mdc-input-element{font-size:13px!important}[_nghost-%COMP%]     .search-box .search-label{font-size:13px;top:-4px;position:relative}[_nghost-%COMP%]     .column-filter .mat-mdc-select-arrow{display:none}[_nghost-%COMP%]     .advance-table .mat-mdc-header-cell{font-weight:500}"]})}}return t})();var Da=[{path:"",redirectTo:"room-cleaning",pathMatch:"full"},{path:"room-cleaning",component:ei},{path:"laundry-services",component:ni},{path:"**",component:Kt}];export{Da as HOUSEKEEPING_ROUTE};
