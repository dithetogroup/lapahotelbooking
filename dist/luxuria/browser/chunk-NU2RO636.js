import{b as Pt}from"./chunk-NYP5QJCG.js";import{c as et}from"./chunk-L5A4DJEA.js";import{e as Vt}from"./chunk-7PPEBWSN.js";import"./chunk-F5X5MWHG.js";import{a as Ae,b as $e,c as Oe,d as q,e as qe}from"./chunk-JJ34EKBD.js";import{a as ee,b as Et,c as kt}from"./chunk-VQIKGAAO.js";import{b as Xt}from"./chunk-BZP27SCH.js";import{a as pt,b as ut,c as _t,d as ft,e as Ct,f as xt,g as ht,h as gt,i as St,j as bt,l as vt,m as Mt}from"./chunk-53CQG6LB.js";import{a as wt,c as yt}from"./chunk-674KBEP4.js";import{e as te,f as ie,g as Dt,h as Tt,i as Ft,j as ne,k as It}from"./chunk-HXXT5RSW.js";import{a as Ut,b as Gt,d as Wt,l as nt}from"./chunk-O5DE62TI.js";import{a as tt,g as it}from"./chunk-GR7DAHDU.js";import{b as K,c as Z}from"./chunk-XPOLCQDK.js";import{a as dt}from"./chunk-RK5RVTEM.js";import"./chunk-TAUST47P.js";import"./chunk-KV2HKO7R.js";import"./chunk-MS4AQ6UA.js";import"./chunk-3RK6DDJD.js";import{c as st}from"./chunk-VNT5V4M3.js";import{E as U,J as G,K as W,L as X,N as Y,O as J,P as Je,Q as Ke,R as Ze,p as Re,q as Ne,s as B,t as Be,w as L,z as j}from"./chunk-XC6ZPLQX.js";import{b as ot,c as at}from"./chunk-YJ3Z37TG.js";import{f as N,g as A,i as $,j as O,o as T,q as rt,s as lt,v as mt,z as ct}from"./chunk-SE4BISY2.js";import{$a as pe,Ab as z,C as Ie,Ra as Ve,Ta as Pe,Wa as Le,Za as je,cb as H,db as He,gb as Qe,h as De,ib as ze,jb as Ue,kb as zt,nb as Ge,ob as We,q as Te,tb as Xe,w as Fe,xb as Ye,zb as Q}from"./chunk-XJPX7IZZ.js";import"./chunk-27NP7QR4.js";import{$b as le,Ac as r,Bc as D,Cc as h,Eb as k,Gc as ce,H as F,Hc as se,Ic as de,Kb as C,Kc as Ee,Lc as ke,Rc as we,Tb as s,Tc as ye,Ub as R,Wb as ae,Yb as x,_b as re,ac as me,bc as i,cc as o,dc as g,ec as w,f as Se,fc as y,ha as ve,hc as b,ma as Me,mc as _,oc as d,q as be,qb as m,tc as I,uc as V,vc as P,wb as S,xa as p,ya as u,zc as M}from"./chunk-YI4P4L32.js";import"./chunk-QDSGMOWV.js";var Rt=class{constructor(c){this.id=c.id||this.getRandomID(),this.pCode=c.pCode||"",this.pName=c.pName||"",this.status=c.status||"",this.price=c.price||"",this.category=c.category||"",this.qty=c.qty||""}getRandomID(){let c=()=>(1+Math.random())*65536|0;return c()+c()}};var ue=(()=>{class t{constructor(e){this.httpClient=e,this.API_URL="assets/data/stocks.json"}getAllStocks(){return this.httpClient.get(this.API_URL).pipe(F(this.handleError))}addStock(e){return this.httpClient.post(this.API_URL,e).pipe(F(this.handleError))}updateStock(e){return this.httpClient.put(`${this.API_URL}/${e.id}`,e).pipe(F(this.handleError))}deleteStock(e){return this.httpClient.delete(`${this.API_URL}/${e}`).pipe(F(this.handleError))}handleError(e){return console.error("An error occurred:",e.message),be(()=>new Error("Something went wrong; please try again later."))}static{this.\u0275fac=function(a){return new(a||t)(Me(Ie))}}static{this.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function ni(t,c){t&1&&(i(0,"mat-error"),r(1," Please enter a valid Product Code "),o())}function oi(t,c){t&1&&(i(0,"mat-error"),r(1," Please enter a valid Product Name "),o())}function ai(t,c){t&1&&(i(0,"mat-error"),r(1," Status Name is required "),o())}function ri(t,c){t&1&&(i(0,"mat-error"),r(1," Category is required "),o())}function li(t,c){t&1&&(i(0,"mat-error"),r(1," price is required "),o())}function mi(t,c){t&1&&(i(0,"mat-error"),r(1," Quantity is required "),o())}var Yt=(()=>{class t{constructor(e,a,n,l){if(this.dialogRef=e,this.data=a,this.stockService=n,this.fb=l,this.url=null,this.formControl=new Qe("",[pe.required]),this.action=a.action,this.action==="edit")this.dialogTitle=a.stocks.pName,this.stocks=a.stocks;else{this.dialogTitle="New Record";let f={};this.stocks=new Rt(f)}this.stocksForm=this.createContactForm()}getErrorMessage(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("name")?"Not a valid name":""}createContactForm(){return this.fb.group({id:[this.stocks.id],pCode:[this.stocks.pCode],pName:[this.stocks.pName],status:[this.stocks.status,[pe.required]],category:[this.stocks.category],price:[this.stocks.price,[pe.required]],qty:[this.stocks.qty]})}submit(){this.stocksForm.valid&&(this.action==="edit"?this.stockService.updateStock(this.stocksForm.getRawValue()):this.stockService.addStock(this.stocksForm.getRawValue()),this.dialogRef.close(this.stocksForm.getRawValue()))}onNoClick(){this.dialogRef.close()}onSelectFile(e){let a=e.target;if(a.files&&a.files[0]){let n=new FileReader;n.readAsDataURL(a.files[0]),n.onload=l=>{l.target&&(this.url=l.target.result)}}}static{this.\u0275fac=function(a){return new(a||t)(S(te),S(ie),S(ue),S(Ye))}}static{this.\u0275cmp=k({type:t,selectors:[["app-form-dialog"]],features:[Ee([{provide:tt,useValue:"en-GB"}])],decls:80,vars:20,consts:[[1,"dialogContainer"],[1,"modalHeader"],[1,"avatarDetails"],[1,"modalTitle"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[1,"form-field-full",3,"formGroup"],[1,"row","m-b-24"],[1,"col-sm-6"],["appearance","outline","subscriptSizing","dynamic",1,"example-full-width"],["matInput","","formControlName","pCode","required",""],["matInput","","formControlName","pName","required",""],["formControlName","status","required",""],[3,"value"],["formControlName","category","required",""],["matInput","","formControlName","price","type","number"],["matSuffix","",1,"material-icons-outlined","color-icon","p-3"],["matInput","","formControlName","qty","type","number"],[1,"col-sm-12"],[1,"example-button-row"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-raised-button","","color","warn","tabindex","-1","type","button",3,"click"]],template:function(a,n){if(a&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),r(4),o()(),i(5,"button",4),_("click",function(){return n.dialogRef.close()}),i(6,"mat-icon"),r(7,"close"),o()()(),i(8,"div",5)(9,"form",6)(10,"div",7)(11,"div",8)(12,"mat-form-field",9)(13,"mat-label"),r(14,"Product Code"),o(),g(15,"input",10),C(16,ni,2,0,"mat-error"),o()(),i(17,"div",8)(18,"mat-form-field",9)(19,"mat-label"),r(20,"Product Name"),o(),g(21,"input",11),C(22,oi,2,0,"mat-error"),o()()(),i(23,"div",7)(24,"div",8)(25,"mat-form-field",9)(26,"mat-label"),r(27,"Status"),o(),i(28,"mat-select",12)(29,"mat-option",13),r(30," In Stock "),o(),i(31,"mat-option",13),r(32," Low Stock "),o(),i(33,"mat-option",13),r(34," Out of Stock "),o()(),C(35,ai,2,0,"mat-error"),o()(),i(36,"div",8)(37,"mat-form-field",9)(38,"mat-label"),r(39,"Category"),o(),i(40,"mat-select",14)(41,"mat-option",13),r(42," Room Service "),o(),i(43,"mat-option",13),r(44," Bathroom Supplies "),o(),i(45,"mat-option",13),r(46," Beverages "),o(),i(47,"mat-option",13),r(48," Health & Safety "),o(),i(49,"mat-option",13),r(50," Cleaning Supplies "),o(),i(51,"mat-option",13),r(52," Electronics "),o(),i(53,"mat-option",13),r(54," Dining Supplies "),o(),i(55,"mat-option",13),r(56," Maintenance Supplies "),o()(),C(57,ri,2,0,"mat-error"),o()()(),i(58,"div",7)(59,"div",8)(60,"mat-form-field",9)(61,"mat-label"),r(62,"price"),o(),g(63,"input",15),i(64,"mat-icon",16),r(65,"phone"),o(),C(66,li,2,0,"mat-error"),o()(),i(67,"div",8)(68,"mat-form-field",9)(69,"mat-label"),r(70,"Quantity"),o(),g(71,"input",17),C(72,mi,2,0,"mat-error"),o()()(),i(73,"div",7)(74,"div",18)(75,"div",19)(76,"button",20),_("click",function(){return n.submit()}),r(77,"Save"),o(),i(78,"button",21),_("click",function(){return n.onNoClick()}),r(79,"Cancel"),o()()()()()()()),a&2){let l,f,v,E,fe,Ce;m(4),h(" ",n.dialogTitle," "),m(5),s("formGroup",n.stocksForm),m(7),x((l=n.stocksForm.get("pCode"))!=null&&l.hasError("required")||(l=n.stocksForm.get("pCode"))!=null&&l.touched?16:-1),m(6),x((f=n.stocksForm.get("pName"))!=null&&f.hasError("required")||(f=n.stocksForm.get("pName"))!=null&&f.touched?22:-1),m(7),s("value","In Stock"),m(2),s("value","Low Stock"),m(2),s("value","Out of Stock"),m(2),x((v=n.stocksForm.get("status"))!=null&&v.hasError("required")?35:-1),m(6),s("value","Room Service"),m(2),s("value","Bathroom Supplies"),m(2),s("value","Beverages"),m(2),s("value","Health & Safety"),m(2),s("value","Cleaning Supplies"),m(2),s("value","Electronics"),m(2),s("value","Dining Supplies"),m(2),s("value","Maintenance Supplies"),m(2),x((E=n.stocksForm.get("category"))!=null&&E.hasError("required")?57:-1),m(9),x((fe=n.stocksForm.get("price"))!=null&&fe.hasError("required")?66:-1),m(6),x((Ce=n.stocksForm.get("qty"))!=null&&Ce.hasError("required")?72:-1),m(4),s("disabled",!n.stocksForm.valid)}},dependencies:[T,O,$,A,N,ne,Q,Ue,je,zt,H,He,Xe,z,Ge,We,W,j,B,Be,L,Z,K,et,nt,Y,X,U,G,it,Pt],styles:[".hoverable[_ngcontent-%COMP%]{position:relative;display:block;cursor:pointer;height:36px;width:36px;border-radius:50%}.hoverable[_ngcontent-%COMP%]   .hover-text[_ngcontent-%COMP%]{position:absolute;display:none;top:50%;left:50%;font-size:10px;transform:translate(-50%,-50%);z-index:2}.hoverable[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{position:absolute;display:none;inset:0;background-color:#ffffff80;pointer-events:none;border-radius:50%;z-index:1}.hoverable[_ngcontent-%COMP%]:hover   .hover-text[_ngcontent-%COMP%], .hoverable[_ngcontent-%COMP%]:hover   .background[_ngcontent-%COMP%]{display:block}#tableFileInput[_ngcontent-%COMP%]{display:none}"]})}}return t})();var Jt=(()=>{class t{constructor(e,a,n){this.dialogRef=e,this.data=a,this.stockService=n}onNoClick(){this.dialogRef.close()}confirmDelete(){this.stockService.deleteStock(this.data.id),this.dialogRef.close(this.data.id)}static{this.\u0275fac=function(a){return new(a||t)(S(te),S(ie),S(ue))}}static{this.\u0275cmp=k({type:t,selectors:[["app-stocks-delete"]],decls:25,vars:4,consts:[[1,"dialogContainer"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"delete-list"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","warn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(a,n){a&1&&(i(0,"div",0)(1,"h3",1),r(2,"Are you sure?"),o(),i(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),r(8,"Product Code: "),o(),r(9),o()(),i(10,"li")(11,"p")(12,"span",4),r(13," Product Name: "),o(),r(14),o()(),i(15,"li")(16,"p")(17,"span",4),r(18,"Quantity "),o(),r(19),o()()()(),i(20,"div",5)(21,"button",6),_("click",function(){return n.confirmDelete()}),r(22," Delete "),o(),i(23,"button",7),_("click",function(){return n.onNoClick()}),r(24,"Cancel"),o()()()),a&2&&(m(9),h("",n.data.pCode," "),m(5),D(n.data.pName),m(5),h("",n.data.qty," "),m(2),s("mat-dialog-close",1))},dependencies:[Ft,ne,It,T,O,Tt],styles:[".delete-list[_ngcontent-%COMP%]{padding:0;list-style-type:none}"]})}}return t})();var Si=["filter"],bi=()=>[5,10,25,100];function vi(t,c){if(t&1){let e=b();i(0,"div")(1,"mat-option")(2,"mat-checkbox",40),_("click",function(n){return p(e),u(n.stopPropagation())}),de("ngModelChange",function(n){let l=p(e).$implicit;return se(l.visible,n)||(l.visible=n),u(n)}),r(3),o()()()}if(t&2){let e=c.$implicit;m(2),ce("ngModel",e.visible),m(),h(" ",e.label," ")}}function Mi(t,c){if(t&1){let e=b();i(0,"mat-header-cell",41)(1,"mat-checkbox",42),_("change",function(n){p(e);let l=d();return u(n?l.masterToggle():null)}),o()()}if(t&2){let e=d();s("ngClass","tbl-col-width-per-6"),m(),s("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("ngClass","tbl-checkbox")}}function Ei(t,c){if(t&1){let e=b();i(0,"mat-cell",41)(1,"mat-checkbox",43),_("click",function(n){return p(e),u(n.stopPropagation())})("change",function(n){let l=p(e).$implicit,f=d();return u(n?f.selection.toggle(l):null)}),o()()}if(t&2){let e=c.$implicit,a=d();s("ngClass","tbl-col-width-per-6"),m(),s("checked",a.selection.isSelected(e))("ngClass","tbl-checkbox")}}function ki(t,c){}function wi(t,c){if(t&1&&(i(0,"mat-header-cell",47)(1,"span",48),r(2),o()()),t&2){let e=d(3).$implicit;m(2),D(e.label)}}function yi(t,c){if(t&1){let e=b();i(0,"mat-cell",49),_("contextmenu",function(n){let l=p(e).$implicit,f=d(4);return u(f.onContextMenu(n,l))}),i(1,"span",50),r(2),o(),i(3,"span",48),r(4),we(5,"date"),o()()}if(t&2){let e=c.$implicit,a=d(3).$implicit;m(2),h("",a.label,":"),m(2),h(" ",ye(5,2,e[a.def],"MM/dd/yyyy"),"")}}function Di(t,c){if(t&1&&(w(0,44),C(1,wi,3,1,"mat-header-cell",45)(2,yi,6,5,"mat-cell",46),y()),t&2){let e=d(2).$implicit;s("matColumnDef",e.def)}}function Ti(t,c){if(t&1&&(i(0,"mat-header-cell",47)(1,"span",48),r(2),o()()),t&2){let e=d(4).$implicit;m(2),D(e.label)}}function Fi(t,c){if(t&1&&(i(0,"div")(1,"span",53)(2,"span",48),r(3),o()()()),t&2){let e=d().$implicit;m(3),h(" ",e.status,"")}}function Ii(t,c){if(t&1&&(i(0,"div")(1,"span",54)(2,"span",48),r(3),o()()()),t&2){let e=d().$implicit;m(3),h(" ",e.status,"")}}function Vi(t,c){if(t&1&&(i(0,"div")(1,"span",55)(2,"span",48),r(3),o()()()),t&2){let e=d().$implicit;m(3),h(" ",e.status,"")}}function Pi(t,c){if(t&1){let e=b();i(0,"mat-cell",52),_("contextmenu",function(n){let l=p(e).$implicit,f=d(5);return u(f.onContextMenu(n,l))}),i(1,"span",50),r(2),o(),C(3,Fi,4,1,"div")(4,Ii,4,1,"div")(5,Vi,4,1,"div"),o()}if(t&2){let e=c.$implicit,a=d(4).$implicit;m(2),h("",a.label,":"),m(),x(e.status==="In Stock"?3:-1),m(),x(e.status==="Low Stock"?4:-1),m(),x(e.status==="Out of Stock"?5:-1)}}function Ri(t,c){if(t&1&&(w(0,44),C(1,Ti,3,1,"mat-header-cell",45)(2,Pi,6,4,"mat-cell",51),y()),t&2){let e=d(3).$implicit;s("matColumnDef",e.def)}}function Ni(t,c){if(t&1&&(i(0,"mat-header-cell",47)(1,"span",48),r(2),o()()),t&2){let e=d(4).$implicit;m(2),D(e.label)}}function Ai(t,c){if(t&1){let e=b();i(0,"mat-cell",49),_("contextmenu",function(n){let l=p(e).$implicit,f=d(5);return u(f.onContextMenu(n,l))}),i(1,"span",50),r(2),o(),i(3,"span",48),r(4),o()()}if(t&2){let e=c.$implicit,a=d(4).$implicit;m(2),h("",a.label,":"),m(2),h(" ",e[a.def],"")}}function $i(t,c){if(t&1&&(w(0,44),C(1,Ni,3,1,"mat-header-cell",45)(2,Ai,5,2,"mat-cell",46),y()),t&2){let e=d(3).$implicit;s("matColumnDef",e.def)}}function Oi(t,c){if(t&1&&C(0,Ri,3,1,"ng-container",44)(1,$i,3,1,"ng-container",44),t&2){let e=d(2).$implicit;x(e.def==="status"?0:1)}}function qi(t,c){if(t&1&&C(0,Di,3,1,"ng-container",44)(1,Oi,2,1),t&2){let e=d().$implicit;x(e.type==="date"?0:1)}}function Bi(t,c){if(t&1&&C(0,ki,0,0)(1,qi,2,1),t&2){let e=c.$implicit;x(e.type==="check"||e.type==="actionBtn"?0:1)}}function Li(t,c){t&1&&(i(0,"mat-header-cell",56),r(1,"Actions"),o())}function ji(t,c){if(t&1){let e=b();i(0,"mat-cell",56)(1,"button",57),_("click",function(n){return p(e),u(n.stopPropagation())})("click",function(){let n=p(e).$implicit,l=d();return u(l.editCall(n))}),g(2,"app-feather-icons",58),o(),i(3,"button",57),_("click",function(n){return p(e),u(n.stopPropagation())})("click",function(){let n=p(e).$implicit,l=d();return u(l.deleteItem(n))}),g(4,"app-feather-icons",58),o()()}t&2&&(m(2),ae("tbl-fav-edit"),s("icon","edit"),m(2),ae("tbl-fav-delete"),s("icon","trash-2"))}function Hi(t,c){t&1&&g(0,"mat-header-row")}function Qi(t,c){if(t&1){let e=b();i(0,"mat-row",59),_("click",function(){let n=p(e).$implicit,l=d();return u(l.editCall(n))}),o()}t&2&&(R("cursor","pointer"),s("@rowsAnimation",void 0))}function zi(t,c){t&1&&(i(0,"div",34),g(1,"mat-progress-spinner",60),o()),t&2&&(m(),s("diameter",40))}function Ui(t,c){if(t&1){let e=b();i(0,"button",61),_("click",function(){p(e);let n=d();return u(n.addNew())}),i(1,"mat-icon"),r(2,"add_circle_outline"),o(),i(3,"span"),r(4,"Add Record"),o()(),i(5,"button",61),_("click",function(){let n=p(e).item,l=d();return u(l.editCall(n))}),i(6,"mat-icon",22),r(7,"mode_edit"),o(),i(8,"span"),r(9,"Edit Record"),o()(),i(10,"button",61),_("click",function(){let n=p(e).item,l=d();return u(l.deleteItem(n))}),i(11,"mat-icon"),r(12,"delete_outline"),o(),i(13,"span"),r(14,"Delete Record"),o()(),i(15,"button",61),_("click",function(){p(e);let n=d();return u(n.refresh())}),i(16,"mat-icon"),r(17,"refresh"),o(),i(18,"span"),r(19,"Refresh Record"),o()(),i(20,"button",62)(21,"mat-icon"),r(22,"visibility_off"),o(),i(23,"span"),r(24,"Disable"),o()(),i(25,"button",63)(26,"mat-icon"),r(27,"settings_ethernet"),o(),i(28,"span"),r(29," Nested Menu"),o()()}if(t&2){d();let e=M(58);m(25),s("matMenuTriggerFor",e)}}function Gi(t,c){if(t&1&&(i(0,"div",64),r(1," No results "),o()),t&2){let e=d();R("display",e.dataSource.data.length===0?"":"none")}}var Kt=(()=>{class t{constructor(e,a,n){this.dialog=e,this.stockService=a,this.snackBar=n,this.columnDefinitions=[{def:"select",label:"Checkbox",type:"check",visible:!0},{def:"pCode",label:"Product Code",type:"text",visible:!0},{def:"pName",label:"Product Name",type:"text",visible:!0},{def:"status",label:"Status",type:"select",visible:!0},{def:"price",label:"Price",type:"number",visible:!0},{def:"category",label:"Category",type:"text",visible:!0},{def:"qty",label:"Quantity",type:"number",visible:!0},{def:"actions",label:"Actions",type:"actionBtn",visible:!0}],this.dataSource=new Mt([]),this.selection=new Le(!0,[]),this.destroy$=new Se,this.contextMenuPosition={x:"0px",y:"0px"},this.isLoading=!0}ngOnInit(){this.loadData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}refresh(){this.loadData()}getDisplayedColumns(){return this.columnDefinitions.filter(e=>e.visible).map(e=>e.def)}addNew(){this.openDialog("add")}editCall(e){this.openDialog("edit",e)}openDialog(e,a){this.dialog.open(Yt,{width:"50vw",maxWidth:"100vw",data:{stocks:a,action:e},autoFocus:!1}).afterClosed().subscribe(l=>{l&&(e==="add"?this.dataSource.data=[l,...this.dataSource.data]:this.updateRecord(l),this.refreshTable(),this.showNotification(e==="add"?"snackbar-success":"black",`${e==="add"?"Add":"Edit"} Record Successfully...!!!`,"bottom","center"))})}updateRecord(e){let a=this.dataSource.data.findIndex(n=>n.id===e.id);a!==-1&&(this.dataSource.data[a]=e,this.dataSource._updateChangeSubscription())}deleteItem(e){this.dialog.open(Jt,{data:e}).afterClosed().subscribe(n=>{n&&(this.dataSource.data=this.dataSource.data.filter(l=>l.id!==e.id),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))})}refreshTable(){this.paginator.pageIndex=0,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(e){let a=e.target.value.trim().toLowerCase();this.dataSource.filter=a}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}removeSelectedRows(){let e=this.selection.selected.length;this.dataSource.data=this.dataSource.data.filter(a=>!this.selection.selected.includes(a)),this.selection.clear(),this.showNotification("snackbar-danger",`${e} Record(s) Deleted Successfully...!!!`,"bottom","center")}loadData(){this.stockService.getAllStocks().subscribe({next:e=>{this.dataSource.data=e,this.isLoading=!1,this.refreshTable(),this.dataSource.filterPredicate=(a,n)=>Object.values(a).some(l=>l.toString().toLowerCase().includes(n))},error:e=>console.error(e)})}showNotification(e,a,n,l){this.snackBar.open(a,"",{duration:2e3,verticalPosition:n,horizontalPosition:l,panelClass:e})}exportExcel(){let e=this.dataSource.data.map(a=>({"Product Code":a.pCode,"Product Name":a.pName,Price:a.price,Category:a.category,Quantity:a.qty}));Ke.exportToExcel(e,"Stock Data")}onContextMenu(e,a){e.preventDefault(),this.contextMenuPosition={x:`${e.clientX}px`,y:`${e.clientY}px`},this.contextMenu&&(this.contextMenu.menuData={item:a},this.contextMenu.menu?.focusFirstItem("mouse"),this.contextMenu.openMenu())}static{this.\u0275fac=function(a){return new(a||t)(S(Dt),S(ue),S(Vt))}}static{this.\u0275cmp=k({type:t,selectors:[["app-stocks"]],viewQuery:function(a,n){if(a&1&&(I(J,5),I(ee,5),I(Si,5),I(q,5)),a&2){let l;V(l=P())&&(n.paginator=l.first),V(l=P())&&(n.sort=l.first),V(l=P())&&(n.filter=l.first),V(l=P())&&(n.contextMenu=l.first)}},decls:77,vars:17,consts:[["filter",""],["select",""],["contextMenu","matMenu"],["nestedmenu","matMenu"],["paginator",""],[1,"table-header-toolbar"],[1,"row"],[1,"col-sm-8"],[1,"table-header"],["appearance","outline",1,"search-box"],[1,"search-label"],["matInput","","type","text",3,"keyup"],["matSuffix",""],[1,"col-sm-4"],[1,"right-side-btn"],["mat-icon-button","","matTooltip","Delete",1,"tbl-header-btn","text-red",3,"click","hidden"],["mat-icon-button","","matTooltip","Show/Hide Column",1,"text-indigo",3,"click"],[1,"column-filter",2,"width","200px","display","table",3,"ngModelChange","ngModel"],[1,"table-column-label"],["mat-icon-button","","matTooltip","Add",1,"tbl-header-btn","text-green",3,"click"],["mat-icon-button","","matTooltip","Refresh",1,"tbl-header-btn","text-dark-grey",3,"click"],["mat-icon-button","","matTooltip","Xlsx Download",1,"tbl-header-btn","text-blue",3,"click"],[1,"material-icons-outlined"],[1,"overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["matMenuContent",""],["mat-menu-item",""],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["color","primary",3,"click","ngModelChange","ngModel"],[3,"ngClass"],["color","primary",3,"change","checked","indeterminate","ngClass"],["color","primary",3,"click","change","checked","ngClass"],[3,"matColumnDef"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"contextmenu",4,"matCellDef"],["mat-sort-header",""],[1,"truncate-text"],[3,"contextmenu"],[1,"mobile-label"],["mat-cell","",3,"contextmenu",4,"matCellDef"],["mat-cell","",3,"contextmenu"],[1,"badge","badge-solid-green"],[1,"badge","badge-solid-blue"],[1,"badge","badge-solid-orange"],[1,"pr-0"],["mat-icon-button","","color","accent",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],["color","primary","mode","indeterminate",3,"diameter"],["mat-menu-item","",3,"click"],["mat-menu-item","","disabled",""],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"no-results"]],template:function(a,n){if(a&1){let l=b();g(0,"app-page-header"),i(1,"mat-card")(2,"mat-card-header")(3,"div",5)(4,"div",6)(5,"div",7)(6,"span",8),r(7,"All Stocks"),o(),i(8,"mat-form-field",9)(9,"mat-label",10),r(10,"Search..."),o(),i(11,"input",11,0),_("keyup",function(v){return p(l),u(n.applyFilter(v))}),o(),i(13,"mat-icon",12),r(14,"search"),o()()(),i(15,"div",13)(16,"div",14)(17,"button",15),_("click",function(){return p(l),u(n.removeSelectedRows())}),i(18,"mat-icon"),r(19,"delete_outline"),o()(),i(20,"button",16),_("click",function(){p(l);let v=M(24);return u(v.open())}),i(21,"mat-icon"),r(22,"filter_list"),o(),i(23,"mat-select",17,1),de("ngModelChange",function(v){p(l);let E=M(12);return se(E.value,v)||(E.value=v),u(v)}),i(25,"span",18),r(26,"Show/Hide Column"),o(),le(27,vi,4,2,"div",null,re),o()(),i(29,"button",19),_("click",function(){return p(l),u(n.addNew())}),i(30,"mat-icon"),r(31,"add_circle_outline"),o()(),i(32,"button",20),_("click",function(){return p(l),u(n.refresh())}),i(33,"mat-icon"),r(34,"refresh"),o()(),i(35,"button",21),_("click",function(){return p(l),u(n.exportExcel())}),i(36,"mat-icon",22),r(37,"file_download"),o()()()()()()(),i(38,"mat-card-content")(39,"div",23)(40,"div",24)(41,"table",25),w(42,26),C(43,Mi,2,4,"mat-header-cell",27)(44,Ei,2,3,"mat-cell",28),y(),le(45,Bi,2,1,null,null,re),w(47,29),C(48,Li,2,0,"mat-header-cell",30)(49,ji,5,6,"mat-cell",31),y(),C(50,Hi,1,0,"mat-header-row",32)(51,Qi,1,3,"mat-row",33),o()(),C(52,zi,2,1,"div",34),g(53,"div",35),i(54,"mat-menu",null,2),C(56,Ui,30,1,"ng-template",36),o(),i(57,"mat-menu",null,3)(59,"button",37)(60,"mat-icon"),r(61,"mail_outline"),o(),i(62,"span"),r(63,"Item 1"),o()(),i(64,"button",37)(65,"mat-icon"),r(66,"turned_in_not"),o(),i(67,"span"),r(68,"Item 2"),o()(),i(69,"button",37)(70,"mat-icon",22),r(71,"sms"),o(),i(72,"span"),r(73,"Item 3"),o()()(),C(74,Gi,2,2,"div",38),g(75,"mat-paginator",39,4),o()()()}if(a&2){let l=M(12),f=M(55);m(17),s("hidden",!n.selection.hasValue()),m(6),ce("ngModel",l.value),m(4),me(n.columnDefinitions),m(14),s("dataSource",n.dataSource),m(4),me(n.columnDefinitions),m(5),s("matHeaderRowDef",n.getDisplayedColumns()),m(),s("matRowDefColumns",n.getDisplayedColumns()),m(),x(n.isLoading?52:-1),m(),R("left",n.contextMenuPosition.x)("top",n.contextMenuPosition.y),s("matMenuTriggerFor",f),m(21),x(n.isLoading?74:-1),m(),s("length",n.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",ke(16,bi))}},dependencies:[dt,ct,rt,lt,mt,W,j,B,L,Z,K,A,N,T,$,Ne,Re,Y,X,U,z,H,Q,ze,Fe,De,Te,G,at,ot,vt,pt,_t,ht,ft,ut,gt,Ct,xt,St,bt,kt,ee,Et,st,Pe,Ve,yt,wt,qe,Oe,Ae,$e,q,Je,J],styles:["[_nghost-%COMP%]     .search-box .mat-mdc-text-field-wrapper{height:40px!important}[_nghost-%COMP%]     .search-box .mat-mdc-form-field-flex{margin-top:-7px!important}[_nghost-%COMP%]     .search-box .mat-mdc-floating-label{height:32px}[_nghost-%COMP%]     .search-box .mat-mdc-input-element{font-size:13px!important}[_nghost-%COMP%]     .search-box .search-label{font-size:13px;top:-4px;position:relative}[_nghost-%COMP%]     .column-filter .mat-mdc-select-arrow{display:none}[_nghost-%COMP%]     .advance-table .mat-mdc-header-cell{font-weight:500}"],data:{animation:[Ze]}})}}return t})();var Nt=class{constructor(c){this.id=c.id||this.getRandomID(),this.img=c.img||"assets/images/avatars/avatar-1.jpg",this.name=c.name||"",this.date=c.date||"",this.expense=c.expense||"",this.status=c.status||"",this.amount=c.amount||"",this.pmode=c.pmode||"",this.paidTo=c.paidTo||"",this.invoiceNo=c.invoiceNo||""}getRandomID(){let c=()=>(1+Math.random())*65536|0;return c()+c()}};var _e=(()=>{class t{constructor(e){this.httpClient=e,this.API_URL="assets/data/expense.json"}getAllExpenses(){return this.httpClient.get(this.API_URL).pipe(F(this.handleError))}addExpense(e){return this.httpClient.post(this.API_URL,e).pipe(F(this.handleError))}updateExpense(e){return this.httpClient.put(`${this.API_URL}/${e.id}`,e).pipe(F(this.handleError))}deleteExpense(e){return this.httpClient.delete(`${this.API_URL}/${e}`).pipe(F(this.handleError))}handleError(e){return console.error("An error occurred:",e.message),be(()=>new Error("Something went wrong; please try again later."))}static{this.\u0275fac=function(a){return new(a||t)(Me(Ie))}}static{this.\u0275prov=ve({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Wi(t,c){t&1&&(i(0,"mat-error"),r(1," Please enter a valid Invoce No "),o())}function Xi(t,c){t&1&&(i(0,"mat-error"),r(1," Please select date "),o())}function Yi(t,c){t&1&&(i(0,"mat-error"),r(1," Please enter a valid Expense Details "),o())}function Ji(t,c){t&1&&(i(0,"mat-error"),r(1," Please enter a valid Name "),o())}function Ki(t,c){t&1&&(i(0,"mat-error"),r(1," Amount is required "),o())}function Zi(t,c){t&1&&(i(0,"mat-error"),r(1," Status Name is required "),o())}function en(t,c){t&1&&(i(0,"mat-error"),r(1," Status is required "),o())}function tn(t,c){t&1&&(i(0,"mat-error"),r(1," Please enter a valid Paid To Details "),o())}var Zt=(()=>{class t{constructor(e,a,n,l){if(this.dialogRef=e,this.data=a,this.expenseService=n,this.fb=l,this.url=null,this.formControl=new Qe("",[pe.required]),this.action=a.action,this.action==="edit")this.dialogTitle=a.expense.expense,this.expense=a.expense;else{this.dialogTitle="New Record";let f={};this.expense=new Nt(f)}this.expenseForm=this.createContactForm()}getErrorMessage(){return this.formControl.hasError("required")?"Required field":this.formControl.hasError("name")?"Not a valid name":""}createContactForm(){return this.fb.group({id:[this.expense.id],img:[this.expense.img],name:[this.expense.name],date:[this.expense.date],expense:[this.expense.expense],status:[this.expense.status],amount:[this.expense.amount],pmode:[this.expense.pmode],paidTo:[this.expense.paidTo],invoiceNo:[this.expense.invoiceNo]})}submit(){this.expenseForm.valid&&(this.action==="edit"?this.expenseService.updateExpense(this.expenseForm.getRawValue()):this.expenseService.addExpense(this.expenseForm.getRawValue()),this.dialogRef.close(this.expenseForm.getRawValue()))}onNoClick(){this.dialogRef.close()}onSelectFile(e){let a=e.target;if(a.files&&a.files[0]){let n=new FileReader;n.readAsDataURL(a.files[0]),n.onload=l=>{l.target&&(this.url=l.target.result)}}}static{this.\u0275fac=function(a){return new(a||t)(S(te),S(ie),S(_e),S(Ye))}}static{this.\u0275cmp=k({type:t,selectors:[["app-form-dialog"]],features:[Ee([{provide:tt,useValue:"en-GB"}])],decls:84,vars:18,consts:[["picker",""],[1,"dialogContainer"],[1,"modalHeader"],[1,"avatarDetails"],[1,"modalTitle"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[1,"form-field-full",3,"formGroup"],[1,"row","m-b-24"],[1,"col-sm-6"],["appearance","outline","subscriptSizing","dynamic",1,"example-full-width"],["matInput","","formControlName","invoiceNo","required",""],["matInput","","formControlName","date",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","expense","required",""],["matInput","","formControlName","name","required",""],["matInput","","formControlName","amount"],["matSuffix","",1,"material-icons-outlined","color-icon","p-3"],["formControlName","pmode","required",""],[3,"value"],["formControlName","status","required",""],["matInput","","formControlName","paidTo","required",""],[1,"col-sm-12"],[1,"example-button-row"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-raised-button","","color","warn","tabindex","-1","type","button",3,"click"]],template:function(a,n){if(a&1){let l=b();i(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4),r(4),o()(),i(5,"button",5),_("click",function(){return p(l),u(n.dialogRef.close())}),i(6,"mat-icon"),r(7,"close"),o()()(),i(8,"div",6)(9,"form",7)(10,"div",8)(11,"div",9)(12,"mat-form-field",10)(13,"mat-label"),r(14,"Invoce No"),o(),g(15,"input",11),C(16,Wi,2,0,"mat-error"),o()(),i(17,"div",9)(18,"mat-form-field",10)(19,"mat-label"),r(20,"Date"),o(),g(21,"input",12)(22,"mat-datepicker-toggle",13)(23,"mat-datepicker",null,0),C(25,Xi,2,0,"mat-error"),o()()(),i(26,"div",8)(27,"div",9)(28,"mat-form-field",10)(29,"mat-label"),r(30,"Expense"),o(),g(31,"input",14),C(32,Yi,2,0,"mat-error"),o()(),i(33,"div",9)(34,"mat-form-field",10)(35,"mat-label"),r(36,"Expense By"),o(),g(37,"input",15),C(38,Ji,2,0,"mat-error"),o()()(),i(39,"div",8)(40,"div",9)(41,"mat-form-field",10)(42,"mat-label"),r(43,"Amount"),o(),g(44,"input",16),i(45,"mat-icon",17),r(46,"credit_card"),o(),C(47,Ki,2,0,"mat-error"),o()(),i(48,"div",9)(49,"mat-form-field",10)(50,"mat-label"),r(51,"Payment Mode"),o(),i(52,"mat-select",18)(53,"mat-option",19),r(54," Cash "),o(),i(55,"mat-option",19),r(56," Cheque "),o(),i(57,"mat-option",19),r(58," Credit Card "),o()(),C(59,Zi,2,0,"mat-error"),o()()(),i(60,"div",8)(61,"div",9)(62,"mat-form-field",10)(63,"mat-label"),r(64,"Status"),o(),i(65,"mat-select",20)(66,"mat-option",19),r(67," Paid "),o(),i(68,"mat-option",19),r(69," Unpaid "),o()(),C(70,en,2,0,"mat-error"),o()(),i(71,"div",9)(72,"mat-form-field",10)(73,"mat-label"),r(74,"Paid To"),o(),g(75,"input",21),C(76,tn,2,0,"mat-error"),o()()(),i(77,"div",8)(78,"div",22)(79,"div",23)(80,"button",24),_("click",function(){return p(l),u(n.submit())}),r(81,"Save"),o(),i(82,"button",25),_("click",function(){return p(l),u(n.onNoClick())}),r(83,"Cancel"),o()()()()()()()}if(a&2){let l,f,v,E,fe,Ce,Ht,ge,Qt=M(24);m(4),h(" ",n.dialogTitle," "),m(5),s("formGroup",n.expenseForm),m(7),x((l=n.expenseForm.get("invoiceNo"))!=null&&l.hasError("required")||(l=n.expenseForm.get("invoiceNo"))!=null&&l.touched?16:-1),m(5),s("matDatepicker",Qt),m(),s("for",Qt),m(3),x((f=n.expenseForm.get("date"))!=null&&f.hasError("required")?25:-1),m(7),x((v=n.expenseForm.get("expense"))!=null&&v.hasError("required")||(v=n.expenseForm.get("expense"))!=null&&v.touched?32:-1),m(6),x((E=n.expenseForm.get("name"))!=null&&E.hasError("required")||(E=n.expenseForm.get("name"))!=null&&E.touched?38:-1),m(9),x((fe=n.expenseForm.get("amount"))!=null&&fe.hasError("required")?47:-1),m(6),s("value","Cash"),m(2),s("value","Cheque"),m(2),s("value","Credit Card"),m(2),x((Ce=n.expenseForm.get("pmode"))!=null&&Ce.hasError("required")?59:-1),m(7),s("value","Paid"),m(2),s("value","Unpaid"),m(2),x((Ht=n.expenseForm.get("status"))!=null&&Ht.hasError("required")?70:-1),m(6),x((ge=n.expenseForm.get("paidTo"))!=null&&ge.hasError("required")||(ge=n.expenseForm.get("paidTo"))!=null&&ge.touched?76:-1),m(4),s("disabled",!n.expenseForm.valid)}},dependencies:[T,O,$,A,N,ne,Q,Ue,je,H,He,Xe,z,Ge,We,W,j,B,Be,L,Z,K,et,nt,Ut,Gt,Wt,Y,X,U,G,it,Pt],styles:[".hoverable[_ngcontent-%COMP%]{position:relative;display:block;cursor:pointer;height:36px;width:36px;border-radius:50%}.hoverable[_ngcontent-%COMP%]   .hover-text[_ngcontent-%COMP%]{position:absolute;display:none;top:50%;left:50%;font-size:10px;transform:translate(-50%,-50%);z-index:2}.hoverable[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{position:absolute;display:none;inset:0;background-color:#ffffff80;pointer-events:none;border-radius:50%;z-index:1}.hoverable[_ngcontent-%COMP%]:hover   .hover-text[_ngcontent-%COMP%], .hoverable[_ngcontent-%COMP%]:hover   .background[_ngcontent-%COMP%]{display:block}#tableFileInput[_ngcontent-%COMP%]{display:none}"]})}}return t})();var ei=(()=>{class t{constructor(e,a,n){this.dialogRef=e,this.data=a,this.expenseService=n}onNoClick(){this.dialogRef.close()}confirmDelete(){this.expenseService.deleteExpense(this.data.id),this.dialogRef.close(this.data.id)}static{this.\u0275fac=function(a){return new(a||t)(S(te),S(ie),S(_e))}}static{this.\u0275cmp=k({type:t,selectors:[["app-expense-delete"]],decls:25,vars:4,consts:[[1,"dialogContainer"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"delete-list"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","warn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(a,n){a&1&&(i(0,"div",0)(1,"h3",1),r(2,"Are you sure?"),o(),i(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),r(8," Product Name: "),o(),r(9),o()(),i(10,"li")(11,"p")(12,"span",4),r(13,"Expense: "),o(),r(14),o()(),i(15,"li")(16,"p")(17,"span",4),r(18,"Amount "),o(),r(19),o()()()(),i(20,"div",5)(21,"button",6),_("click",function(){return n.confirmDelete()}),r(22," Delete "),o(),i(23,"button",7),_("click",function(){return n.onNoClick()}),r(24,"Cancel"),o()()()),a&2&&(m(9),D(n.data.name),m(5),h("",n.data.expense," "),m(5),h("",n.data.amount," "),m(2),s("mat-dialog-close",1))},dependencies:[Ft,ne,It,T,O,Tt],styles:[".delete-list[_ngcontent-%COMP%]{padding:0;list-style-type:none}"]})}}return t})();var nn=["filter"],on=()=>[5,10,25,100];function an(t,c){if(t&1){let e=b();i(0,"div")(1,"mat-option")(2,"mat-checkbox",40),_("click",function(n){return p(e),u(n.stopPropagation())}),de("ngModelChange",function(n){let l=p(e).$implicit;return se(l.visible,n)||(l.visible=n),u(n)}),r(3),o()()()}if(t&2){let e=c.$implicit;m(2),ce("ngModel",e.visible),m(),h(" ",e.label," ")}}function rn(t,c){if(t&1){let e=b();i(0,"mat-header-cell",41)(1,"mat-checkbox",42),_("change",function(n){p(e);let l=d();return u(n?l.masterToggle():null)}),o()()}if(t&2){let e=d();s("ngClass","tbl-col-width-per-6"),m(),s("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("ngClass","tbl-checkbox")}}function ln(t,c){if(t&1){let e=b();i(0,"mat-cell",41)(1,"mat-checkbox",43),_("click",function(n){return p(e),u(n.stopPropagation())})("change",function(n){let l=p(e).$implicit,f=d();return u(n?f.selection.toggle(l):null)}),o()()}if(t&2){let e=c.$implicit,a=d();s("ngClass","tbl-col-width-per-6"),m(),s("checked",a.selection.isSelected(e))("ngClass","tbl-checkbox")}}function mn(t,c){}function cn(t,c){if(t&1&&(i(0,"mat-header-cell",47)(1,"span",48),r(2),o()()),t&2){let e=d(3).$implicit;m(2),D(e.label)}}function sn(t,c){if(t&1){let e=b();i(0,"mat-cell",49),_("contextmenu",function(n){let l=p(e).$implicit,f=d(4);return u(f.onContextMenu(n,l))}),i(1,"span",50),r(2),o(),i(3,"span",48),r(4),we(5,"date"),o()()}if(t&2){let e=c.$implicit,a=d(3).$implicit;m(2),h("",a.label,":"),m(2),h(" ",ye(5,2,e[a.def],"MM/dd/yyyy"),"")}}function dn(t,c){if(t&1&&(w(0,44),C(1,cn,3,1,"mat-header-cell",45)(2,sn,6,5,"mat-cell",46),y()),t&2){let e=d(2).$implicit;s("matColumnDef",e.def)}}function pn(t,c){if(t&1&&(i(0,"mat-header-cell",47)(1,"span",48),r(2),o()()),t&2){let e=d(4).$implicit;m(2),D(e.label)}}function un(t,c){if(t&1&&(i(0,"div")(1,"span",53),r(2),o()()),t&2){let e=d().$implicit;m(2),h(" ",e.status,"")}}function _n(t,c){if(t&1&&(i(0,"div")(1,"span",54),r(2),o()()),t&2){let e=d().$implicit;m(2),h(" ",e.status,"")}}function fn(t,c){if(t&1){let e=b();i(0,"mat-cell",52),_("contextmenu",function(n){let l=p(e).$implicit,f=d(5);return u(f.onContextMenu(n,l))}),i(1,"span",50),r(2),o(),C(3,un,3,1,"div")(4,_n,3,1,"div"),o()}if(t&2){let e=c.$implicit,a=d(4).$implicit;m(2),h("",a.label,":"),m(),x(e.status==="Paid"?3:-1),m(),x(e.status==="Unpaid"?4:-1)}}function Cn(t,c){if(t&1&&(w(0,44),C(1,pn,3,1,"mat-header-cell",45)(2,fn,5,3,"mat-cell",51),y()),t&2){let e=d(3).$implicit;s("matColumnDef",e.def)}}function xn(t,c){if(t&1&&(i(0,"mat-header-cell",47)(1,"span",48),r(2),o()()),t&2){let e=d(4).$implicit;m(2),D(e.label)}}function hn(t,c){if(t&1){let e=b();i(0,"mat-cell",49),_("contextmenu",function(n){let l=p(e).$implicit,f=d(5);return u(f.onContextMenu(n,l))}),i(1,"span",50),r(2),o(),i(3,"span",48),r(4),o()()}if(t&2){let e=c.$implicit,a=d(4).$implicit;m(2),h("",a.label,":"),m(2),h(" ",e[a.def],"")}}function gn(t,c){if(t&1&&(w(0,44),C(1,xn,3,1,"mat-header-cell",45)(2,hn,5,2,"mat-cell",46),y()),t&2){let e=d(3).$implicit;s("matColumnDef",e.def)}}function Sn(t,c){if(t&1&&C(0,Cn,3,1,"ng-container",44)(1,gn,3,1,"ng-container",44),t&2){let e=d(2).$implicit;x(e.def==="status"?0:1)}}function bn(t,c){if(t&1&&C(0,dn,3,1,"ng-container",44)(1,Sn,2,1),t&2){let e=d().$implicit;x(e.type==="date"?0:1)}}function vn(t,c){if(t&1&&C(0,mn,0,0)(1,bn,2,1),t&2){let e=c.$implicit;x(e.type==="check"||e.type==="actionBtn"?0:1)}}function Mn(t,c){t&1&&(i(0,"mat-header-cell",55),r(1,"Actions"),o())}function En(t,c){if(t&1){let e=b();i(0,"mat-cell",55)(1,"button",56),_("click",function(n){return p(e),u(n.stopPropagation())})("click",function(){let n=p(e).$implicit,l=d();return u(l.editCall(n))}),g(2,"app-feather-icons",57),o(),i(3,"button",56),_("click",function(n){return p(e),u(n.stopPropagation())})("click",function(){let n=p(e).$implicit,l=d();return u(l.deleteItem(n))}),g(4,"app-feather-icons",57),o()()}t&2&&(m(2),ae("tbl-fav-edit"),s("icon","edit"),m(2),ae("tbl-fav-delete"),s("icon","trash-2"))}function kn(t,c){t&1&&g(0,"mat-header-row")}function wn(t,c){if(t&1){let e=b();i(0,"mat-row",58),_("click",function(){let n=p(e).$implicit,l=d();return u(l.editCall(n))}),o()}t&2&&(R("cursor","pointer"),s("@rowsAnimation",void 0))}function yn(t,c){t&1&&(i(0,"div",34),g(1,"mat-progress-spinner",59),o()),t&2&&(m(),s("diameter",40))}function Dn(t,c){if(t&1){let e=b();i(0,"button",60),_("click",function(){p(e);let n=d();return u(n.addNew())}),i(1,"mat-icon"),r(2,"add_circle_outline"),o(),i(3,"span"),r(4,"Add Record"),o()(),i(5,"button",60),_("click",function(){let n=p(e).item,l=d();return u(l.editCall(n))}),i(6,"mat-icon",22),r(7,"mode_edit"),o(),i(8,"span"),r(9,"Edit Record"),o()(),i(10,"button",60),_("click",function(){let n=p(e).item,l=d();return u(l.deleteItem(n))}),i(11,"mat-icon"),r(12,"delete_outline"),o(),i(13,"span"),r(14,"Delete Record"),o()(),i(15,"button",60),_("click",function(){p(e);let n=d();return u(n.refresh())}),i(16,"mat-icon"),r(17,"refresh"),o(),i(18,"span"),r(19,"Refresh Record"),o()(),i(20,"button",61)(21,"mat-icon"),r(22,"visibility_off"),o(),i(23,"span"),r(24,"Disable"),o()(),i(25,"button",62)(26,"mat-icon"),r(27,"settings_ethernet"),o(),i(28,"span"),r(29," Nested Menu"),o()()}if(t&2){d();let e=M(58);m(25),s("matMenuTriggerFor",e)}}function Tn(t,c){if(t&1&&(i(0,"div",63),r(1," No results "),o()),t&2){let e=d();R("display",e.dataSource.data.length===0?"":"none")}}var ti=(()=>{class t{constructor(e,a,n){this.dialog=e,this.expenseService=a,this.snackBar=n,this.columnDefinitions=[{def:"select",label:"Checkbox",type:"check",visible:!0},{def:"invoiceNo",label:"Invoice No",type:"text",visible:!0},{def:"date",label:"Date",type:"date",visible:!0},{def:"expense",label:"Expense",type:"number",visible:!0},{def:"name",label:"Expense By",type:"text",visible:!0},{def:"amount",label:"Amount",type:"number",visible:!0},{def:"pmode",label:"Payment Mode",type:"text",visible:!0},{def:"status",label:"Status",type:"select",visible:!0},{def:"paidTo",label:"Paid To",type:"text",visible:!0},{def:"actions",label:"Actions",type:"actionBtn",visible:!0}],this.dataSource=new Mt([]),this.selection=new Le(!0,[]),this.destroy$=new Se,this.contextMenuPosition={x:"0px",y:"0px"},this.isLoading=!0}ngOnInit(){this.loadData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}refresh(){this.loadData()}getDisplayedColumns(){return this.columnDefinitions.filter(e=>e.visible).map(e=>e.def)}addNew(){this.openDialog("add")}editCall(e){this.openDialog("edit",e)}openDialog(e,a){this.dialog.open(Zt,{width:"50vw",maxWidth:"100vw",data:{expense:a,action:e},autoFocus:!1}).afterClosed().subscribe(l=>{l&&(e==="add"?this.dataSource.data=[l,...this.dataSource.data]:this.updateRecord(l),this.refreshTable(),this.showNotification(e==="add"?"snackbar-success":"black",`${e==="add"?"Add":"Edit"} Record Successfully...!!!`,"bottom","center"))})}updateRecord(e){let a=this.dataSource.data.findIndex(n=>n.id===e.id);a!==-1&&(this.dataSource.data[a]=e,this.dataSource._updateChangeSubscription())}deleteItem(e){this.dialog.open(ei,{data:e}).afterClosed().subscribe(n=>{n&&(this.dataSource.data=this.dataSource.data.filter(l=>l.id!==e.id),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))})}refreshTable(){this.paginator.pageIndex=0,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(e){let a=e.target.value.trim().toLowerCase();this.dataSource.filter=a}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}removeSelectedRows(){let e=this.selection.selected.length;this.dataSource.data=this.dataSource.data.filter(a=>!this.selection.selected.includes(a)),this.selection.clear(),this.showNotification("snackbar-danger",`${e} Record(s) Deleted Successfully...!!!`,"bottom","center")}loadData(){this.expenseService.getAllExpenses().subscribe({next:e=>{this.dataSource.data=e,this.isLoading=!1,this.refreshTable(),this.dataSource.filterPredicate=(a,n)=>Object.values(a).some(l=>l.toString().toLowerCase().includes(n))},error:e=>console.error(e)})}showNotification(e,a,n,l){this.snackBar.open(a,"",{duration:2e3,verticalPosition:n,horizontalPosition:l,panelClass:e})}exportExcel(){let e=this.dataSource.data.map(a=>({"Invoice No":a.invoiceNo,"Expense By":a.name,Date:a.date,Expense:a.expense,Status:a.status,Amount:a.amount,"Payment Mode":a.pmode,"Paid To":a.paidTo}));Ke.exportToExcel(e,"Expense Data")}onContextMenu(e,a){e.preventDefault(),this.contextMenuPosition={x:`${e.clientX}px`,y:`${e.clientY}px`},this.contextMenu&&(this.contextMenu.menuData={item:a},this.contextMenu.menu?.focusFirstItem("mouse"),this.contextMenu.openMenu())}static{this.\u0275fac=function(a){return new(a||t)(S(Dt),S(_e),S(Vt))}}static{this.\u0275cmp=k({type:t,selectors:[["app-expense"]],viewQuery:function(a,n){if(a&1&&(I(J,5),I(ee,5),I(nn,5),I(q,5)),a&2){let l;V(l=P())&&(n.paginator=l.first),V(l=P())&&(n.sort=l.first),V(l=P())&&(n.filter=l.first),V(l=P())&&(n.contextMenu=l.first)}},decls:77,vars:17,consts:[["filter",""],["select",""],["contextMenu","matMenu"],["nestedmenu","matMenu"],["paginator",""],[1,"table-header-toolbar"],[1,"row"],[1,"col-sm-8"],[1,"table-header"],["appearance","outline",1,"search-box"],[1,"search-label"],["matInput","","type","text",3,"keyup"],["matSuffix",""],[1,"col-sm-4"],[1,"right-side-btn"],["mat-icon-button","","matTooltip","Delete",1,"tbl-header-btn","text-red",3,"click","hidden"],["mat-icon-button","","matTooltip","Show/Hide Column",1,"text-indigo",3,"click"],[1,"column-filter",2,"width","200px","display","table",3,"ngModelChange","ngModel"],[1,"table-column-label"],["mat-icon-button","","matTooltip","Add",1,"tbl-header-btn","text-green",3,"click"],["mat-icon-button","","matTooltip","Refresh",1,"tbl-header-btn","text-dark-grey",3,"click"],["mat-icon-button","","matTooltip","Xlsx Download",1,"tbl-header-btn","text-blue",3,"click"],[1,"material-icons-outlined"],[1,"overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["matMenuContent",""],["mat-menu-item",""],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["color","primary",3,"click","ngModelChange","ngModel"],[3,"ngClass"],["color","primary",3,"change","checked","indeterminate","ngClass"],["color","primary",3,"click","change","checked","ngClass"],[3,"matColumnDef"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"contextmenu",4,"matCellDef"],["mat-sort-header",""],[1,"truncate-text"],[3,"contextmenu"],[1,"mobile-label"],["mat-cell","",3,"contextmenu",4,"matCellDef"],["mat-cell","",3,"contextmenu"],[1,"badge","badge-solid-green","truncate-text"],[1,"badge","badge-solid-orange","truncate-text"],[1,"pr-0"],["mat-icon-button","","color","accent",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],["color","primary","mode","indeterminate",3,"diameter"],["mat-menu-item","",3,"click"],["mat-menu-item","","disabled",""],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"no-results"]],template:function(a,n){if(a&1){let l=b();g(0,"app-page-header"),i(1,"mat-card")(2,"mat-card-header")(3,"div",5)(4,"div",6)(5,"div",7)(6,"span",8),r(7,"All Expenses"),o(),i(8,"mat-form-field",9)(9,"mat-label",10),r(10,"Search..."),o(),i(11,"input",11,0),_("keyup",function(v){return p(l),u(n.applyFilter(v))}),o(),i(13,"mat-icon",12),r(14,"search"),o()()(),i(15,"div",13)(16,"div",14)(17,"button",15),_("click",function(){return p(l),u(n.removeSelectedRows())}),i(18,"mat-icon"),r(19,"delete_outline"),o()(),i(20,"button",16),_("click",function(){p(l);let v=M(24);return u(v.open())}),i(21,"mat-icon"),r(22,"filter_list"),o(),i(23,"mat-select",17,1),de("ngModelChange",function(v){p(l);let E=M(12);return se(E.value,v)||(E.value=v),u(v)}),i(25,"span",18),r(26,"Show/Hide Column"),o(),le(27,an,4,2,"div",null,re),o()(),i(29,"button",19),_("click",function(){return p(l),u(n.addNew())}),i(30,"mat-icon"),r(31,"add_circle_outline"),o()(),i(32,"button",20),_("click",function(){return p(l),u(n.refresh())}),i(33,"mat-icon"),r(34,"refresh"),o()(),i(35,"button",21),_("click",function(){return p(l),u(n.exportExcel())}),i(36,"mat-icon",22),r(37,"file_download"),o()()()()()()(),i(38,"mat-card-content")(39,"div",23)(40,"div",24)(41,"table",25),w(42,26),C(43,rn,2,4,"mat-header-cell",27)(44,ln,2,3,"mat-cell",28),y(),le(45,vn,2,1,null,null,re),w(47,29),C(48,Mn,2,0,"mat-header-cell",30)(49,En,5,6,"mat-cell",31),y(),C(50,kn,1,0,"mat-header-row",32)(51,wn,1,3,"mat-row",33),o()(),C(52,yn,2,1,"div",34),g(53,"div",35),i(54,"mat-menu",null,2),C(56,Dn,30,1,"ng-template",36),o(),i(57,"mat-menu",null,3)(59,"button",37)(60,"mat-icon"),r(61,"mail_outline"),o(),i(62,"span"),r(63,"Item 1"),o()(),i(64,"button",37)(65,"mat-icon"),r(66,"turned_in_not"),o(),i(67,"span"),r(68,"Item 2"),o()(),i(69,"button",37)(70,"mat-icon",22),r(71,"sms"),o(),i(72,"span"),r(73,"Item 3"),o()()(),C(74,Tn,2,2,"div",38),g(75,"mat-paginator",39,4),o()()()}if(a&2){let l=M(12),f=M(55);m(17),s("hidden",!n.selection.hasValue()),m(6),ce("ngModel",l.value),m(4),me(n.columnDefinitions),m(14),s("dataSource",n.dataSource),m(4),me(n.columnDefinitions),m(5),s("matHeaderRowDef",n.getDisplayedColumns()),m(),s("matRowDefColumns",n.getDisplayedColumns()),m(),x(n.isLoading?52:-1),m(),R("left",n.contextMenuPosition.x)("top",n.contextMenuPosition.y),s("matMenuTriggerFor",f),m(21),x(n.isLoading?74:-1),m(),s("length",n.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",ke(16,on))}},dependencies:[dt,ct,rt,lt,mt,W,j,B,L,Z,K,A,N,T,$,Ne,Re,Y,X,U,z,H,Q,ze,Fe,De,Te,G,at,ot,vt,pt,_t,ht,ft,ut,gt,Ct,xt,St,bt,kt,ee,Et,st,Pe,Ve,yt,wt,qe,Oe,Ae,$e,q,Je,J],styles:["[_nghost-%COMP%]     .search-box .mat-mdc-text-field-wrapper{height:40px!important}[_nghost-%COMP%]     .search-box .mat-mdc-form-field-flex{margin-top:-7px!important}[_nghost-%COMP%]     .search-box .mat-mdc-floating-label{height:32px}[_nghost-%COMP%]     .search-box .mat-mdc-input-element{font-size:13px!important}[_nghost-%COMP%]     .search-box .search-label{font-size:13px;top:-4px;position:relative}[_nghost-%COMP%]     .column-filter .mat-mdc-select-arrow{display:none}[_nghost-%COMP%]     .advance-table .mat-mdc-header-cell{font-weight:500}"],data:{animation:[Ze]}})}}return t})();var xa=[{path:"",redirectTo:"stocks",pathMatch:"full"},{path:"stocks",component:Kt},{path:"expense",component:ti},{path:"**",component:Xt}];export{xa as REPORTS_ROUTE};
