import{b as Vt}from"./chunk-NYP5QJCG.js";import{c as ht}from"./chunk-L5A4DJEA.js";import{e as Ft}from"./chunk-7PPEBWSN.js";import"./chunk-F5X5MWHG.js";import{a as it,b as nt,c as at,d as G,e as ot}from"./chunk-JJ34EKBD.js";import{a as L,b as we,c as De}from"./chunk-VQIKGAAO.js";import{b as qt}from"./chunk-BZP27SCH.js";import{a as _e,b as fe,c as ve,d as Ce,e as he,f as ge,g as xe,h as be,i as ye,j as Se,l as Me,m as Re}from"./chunk-53CQG6LB.js";import{a as Et,c as qe}from"./chunk-674KBEP4.js";import{e as Ee,f as Te,g as Tt,h as Lt,i as kt,j as Le,k as It}from"./chunk-HXXT5RSW.js";import{a as bt,b as yt,d as St,l as Mt}from"./chunk-O5DE62TI.js";import{a as gt,g as xt}from"./chunk-GR7DAHDU.js";import{b as le,c as me}from"./chunk-XPOLCQDK.js";import{a as ue}from"./chunk-RK5RVTEM.js";import"./chunk-TAUST47P.js";import"./chunk-KV2HKO7R.js";import"./chunk-MS4AQ6UA.js";import"./chunk-3RK6DDJD.js";import{c as Dt}from"./chunk-VNT5V4M3.js";import{E as te,J as ie,K as ne,L as ae,N as oe,O as T,P as re,Q as vt,R as Ct,p as et,q as tt,s as W,t as rt,w as X,z as Y}from"./chunk-XC6ZPLQX.js";import{b as Rt,c as wt}from"./chunk-YJ3Z37TG.js";import{f as j,g as Q,i as z,j as U,o as I,q as se,s as ce,v as de,z as pe}from"./chunk-SE4BISY2.js";import{$a as J,Ab as ee,C as H,Ra as Ke,Ta as Ze,Wa as lt,Za as mt,cb as K,db as st,h as Xe,ib as ct,jb as dt,nb as pt,ob as ut,q as Ye,tb as _t,w as Je,xb as ft,zb as Z}from"./chunk-XJPX7IZZ.js";import"./chunk-27NP7QR4.js";import{$b as Fe,Ac as r,Bc as k,Cc as h,Eb as w,Gc as Pe,H as P,Hc as Ae,Ic as Ne,Kb as f,Kc as Ue,Lc as O,Rc as Ge,Tb as c,Tc as We,Ub as B,Wb as ke,Yb as x,_b as Ie,ac as Ve,bc as i,cc as n,dc as C,ec as S,f as Qe,fc as M,ha as N,hc as b,ma as $,mc as _,oc as d,q as ze,qb as l,tc as D,uc as q,vc as E,wb as g,xa as p,ya as u,zc as R}from"./chunk-YI4P4L32.js";import"./chunk-QDSGMOWV.js";var F=(()=>{class t{constructor(e){this.httpClient=e,this.API_URL="assets/data/emp-leave-request.json"}getAllLeaveRequests(){return this.httpClient.get(this.API_URL).pipe(P(this.handleError))}addLeaveRequest(e){return this.httpClient.post(this.API_URL,e).pipe(P(this.handleError))}updateLeaveRequest(e){return this.httpClient.put(`${this.API_URL}/${e.requestId}`,e).pipe(P(this.handleError))}deleteLeaveRequest(e){return this.httpClient.delete(`${this.API_URL}/${e}`).pipe(P(this.handleError))}handleError(e){return console.error("An error occurred:",e.message),ze(()=>new Error("Something went wrong; please try again later."))}static{this.\u0275fac=function(o){return new(o||t)($(H))}}static{this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Xt(t,s){t&1&&(i(0,"mat-error"),r(1," Request ID is required "),n())}function Yt(t,s){t&1&&(i(0,"mat-error"),r(1," Leave Type is required "),n())}function Jt(t,s){t&1&&(i(0,"mat-error"),r(1," Start Date is required "),n())}function Kt(t,s){t&1&&(i(0,"mat-error"),r(1," End Date is required "),n())}function Zt(t,s){t&1&&(i(0,"mat-error"),r(1," Apply Date is required "),n())}var Nt=(()=>{class t{constructor(e,o,a,m){this.dialogRef=e,this.data=o,this.leaveRequestService=a,this.fb=m,this.action=o.action,this.action==="edit"?(this.dialogTitle=o.leaveRequest.requestId,this.leaveRequest=o.leaveRequest):(this.dialogTitle="New Leave Request",this.leaveRequest={}),this.leaveRequestForm=this.createForm()}createForm(){return this.fb.group({requestId:[this.leaveRequest.requestId],employeeId:[this.leaveRequest.employeeId],employeeName:[this.leaveRequest.employeeName],leaveType:[this.leaveRequest.leaveType,[J.required]],startDate:[this.leaveRequest.startDate,[J.required]],endDate:[this.leaveRequest.endDate,[J.required]],status:[this.leaveRequest.status],reason:[this.leaveRequest.reason],applyDate:[this.leaveRequest.applyDate],dayType:[this.leaveRequest.dayType]})}submit(){this.leaveRequestForm.valid&&(this.action==="edit"?this.leaveRequestService.updateLeaveRequest(this.leaveRequestForm.getRawValue()):this.leaveRequestService.addLeaveRequest(this.leaveRequestForm.getRawValue()),this.dialogRef.close(this.leaveRequestForm.getRawValue()))}onNoClick(){this.dialogRef.close()}static{this.\u0275fac=function(o){return new(o||t)(g(Ee),g(Te),g(F),g(ft))}}static{this.\u0275cmp=w({type:t,selectors:[["app-form-dialog"]],features:[Ue([{provide:gt,useValue:"en-GB"}])],decls:98,vars:25,consts:[["startDatePicker",""],["endDatePicker",""],["applyDatePicker",""],[1,"dialogContainer"],[1,"modalHeader"],[1,"avatarDetails"],[1,"modalTitle"],["mat-icon-button","","aria-label","Close dialog",1,"modal-close-button",3,"click"],["mat-dialog-content",""],[1,"form-field-full",3,"formGroup"],[1,"row","m-b-24"],[1,"col-sm-6"],["appearance","outline","subscriptSizing","dynamic",1,"example-full-width"],["matInput","","formControlName","requestId","required",""],["formControlName","leaveType","required",""],[3,"value"],["matInput","","formControlName","startDate","required","",3,"matDatepicker"],["matSuffix","",3,"for"],["matInput","","formControlName","endDate","required","",3,"matDatepicker"],["formControlName","status"],["formControlName","dayType"],[1,"col-sm-12"],["matInput","","formControlName","reason"],["matInput","","formControlName","applyDate","required","",3,"matDatepicker"],[1,"example-button-row"],["mat-raised-button","","color","primary",3,"click","disabled"],["mat-raised-button","","color","warn","tabindex","-1","type","button",3,"click"]],template:function(o,a){if(o&1){let m=b();i(0,"div",3)(1,"div",4)(2,"div",5)(3,"div",6),r(4),n()(),i(5,"button",7),_("click",function(){return p(m),u(a.dialogRef.close())}),i(6,"mat-icon"),r(7,"close"),n()()(),i(8,"div",8)(9,"form",9)(10,"div",10)(11,"div",11)(12,"mat-form-field",12)(13,"mat-label"),r(14,"Request ID"),n(),C(15,"input",13),f(16,Xt,2,0,"mat-error"),n()(),i(17,"div",11)(18,"mat-form-field",12)(19,"mat-label"),r(20,"Leave Type"),n(),i(21,"mat-select",14)(22,"mat-option",15),r(23,"Sick Leave"),n(),i(24,"mat-option",15),r(25,"Annual Leave"),n(),i(26,"mat-option",15),r(27,"Personal Leave"),n(),i(28,"mat-option",15),r(29,"Maternity Leave"),n(),i(30,"mat-option",15),r(31,"Study Leave"),n(),i(32,"mat-option",15),r(33,"Vacation Leave"),n()(),f(34,Yt,2,0,"mat-error"),n()()(),i(35,"div",10)(36,"div",11)(37,"mat-form-field",12)(38,"mat-label"),r(39,"Start Date"),n(),C(40,"input",16)(41,"mat-datepicker-toggle",17)(42,"mat-datepicker",null,0),f(44,Jt,2,0,"mat-error"),n()(),i(45,"div",11)(46,"mat-form-field",12)(47,"mat-label"),r(48,"End Date"),n(),C(49,"input",18)(50,"mat-datepicker-toggle",17)(51,"mat-datepicker",null,1),f(53,Kt,2,0,"mat-error"),n()()(),i(54,"div",10)(55,"div",11)(56,"mat-form-field",12)(57,"mat-label"),r(58,"Status"),n(),i(59,"mat-select",19)(60,"mat-option",15),r(61,"Pending"),n(),i(62,"mat-option",15),r(63,"Approved"),n(),i(64,"mat-option",15),r(65,"Rejected"),n()()()(),i(66,"div",11)(67,"mat-form-field",12)(68,"mat-label"),r(69,"Day Type"),n(),i(70,"mat-select",20)(71,"mat-option",15),r(72,"Full Day"),n(),i(73,"mat-option",15),r(74,"Half Day"),n()()()()(),i(75,"div",10)(76,"div",21)(77,"mat-form-field",12)(78,"mat-label"),r(79,"Reason"),n(),C(80,"textarea",22),n()()(),i(81,"div",10)(82,"div",21)(83,"mat-form-field",12)(84,"mat-label"),r(85,"Apply Date"),n(),C(86,"input",23)(87,"mat-datepicker-toggle",17)(88,"mat-datepicker",null,2),f(90,Zt,2,0,"mat-error"),n()()(),i(91,"div",10)(92,"div",21)(93,"div",24)(94,"button",25),_("click",function(){return p(m),u(a.submit())}),r(95,"Save"),n(),i(96,"button",26),_("click",function(){return p(m),u(a.onNoClick())}),r(97,"Cancel"),n()()()()()()()}if(o&2){let m,v,y,V,Be,Oe=R(43),He=R(52),je=R(89);l(4),h(" ",a.dialogTitle," "),l(5),c("formGroup",a.leaveRequestForm),l(7),x((m=a.leaveRequestForm.get("requestId"))!=null&&m.hasError("required")||(m=a.leaveRequestForm.get("requestId"))!=null&&m.touched?16:-1),l(6),c("value","Sick Leave"),l(2),c("value","Annual Leave"),l(2),c("value","Personal Leave"),l(2),c("value","Maternity Leave"),l(2),c("value","Study Leave"),l(2),c("value","Vacation Leave"),l(2),x((v=a.leaveRequestForm.get("leaveType"))!=null&&v.hasError("required")?34:-1),l(6),c("matDatepicker",Oe),l(),c("for",Oe),l(3),x((y=a.leaveRequestForm.get("startDate"))!=null&&y.hasError("required")?44:-1),l(5),c("matDatepicker",He),l(),c("for",He),l(3),x((V=a.leaveRequestForm.get("endDate"))!=null&&V.hasError("required")?53:-1),l(7),c("value","Pending"),l(2),c("value","Approved"),l(2),c("value","Rejected"),l(7),c("value","Full Day"),l(2),c("value","Half Day"),l(13),c("matDatepicker",je),l(),c("for",je),l(3),x((Be=a.leaveRequestForm.get("applyDate"))!=null&&Be.hasError("required")?90:-1),l(4),c("disabled",!a.leaveRequestForm.valid)}},dependencies:[I,U,z,Q,j,Le,Z,dt,mt,K,st,_t,ee,pt,ut,ne,Y,W,rt,X,me,le,ht,Mt,bt,yt,St,oe,ae,te,ie,xt,Vt],styles:[".hoverable[_ngcontent-%COMP%]{position:relative;display:block;cursor:pointer;height:36px;width:36px;border-radius:50%}.hoverable[_ngcontent-%COMP%]   .hover-text[_ngcontent-%COMP%]{position:absolute;display:none;top:50%;left:50%;font-size:10px;transform:translate(-50%,-50%);z-index:2}.hoverable[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{position:absolute;display:none;inset:0;background-color:#ffffff80;pointer-events:none;border-radius:50%;z-index:1}.hoverable[_ngcontent-%COMP%]:hover   .hover-text[_ngcontent-%COMP%], .hoverable[_ngcontent-%COMP%]:hover   .background[_ngcontent-%COMP%]{display:block}#tableFileInput[_ngcontent-%COMP%]{display:none}"]})}}return t})();var $t=(()=>{class t{constructor(e,o,a){this.dialogRef=e,this.data=o,this.leaveRequestService=a}onNoClick(){this.dialogRef.close()}confirmDelete(){this.leaveRequestService.deleteLeaveRequest(this.data.requestId),this.dialogRef.close(this.data.requestId)}static{this.\u0275fac=function(o){return new(o||t)(g(Ee),g(Te),g(F))}}static{this.\u0275cmp=w({type:t,selectors:[["app-delete"]],decls:25,vars:4,consts:[[1,"dialogContainer"],["mat-dialog-title",""],["mat-dialog-content",""],[1,"delete-list"],[1,"font-weight-bold"],["mat-dialog-actions","",1,"mb-1"],["mat-flat-button","","color","warn",3,"click","mat-dialog-close"],["mat-flat-button","","tabindex","-1",3,"click"]],template:function(o,a){o&1&&(i(0,"div",0)(1,"h3",1),r(2,"Are you sure?"),n(),i(3,"div",2)(4,"ul",3)(5,"li")(6,"p")(7,"span",4),r(8,"Request Id: "),n(),r(9),n()(),i(10,"li")(11,"p")(12,"span",4),r(13," Employee Name: "),n(),r(14),n()(),i(15,"li")(16,"p")(17,"span",4),r(18,"Leave Type "),n(),r(19),n()()()(),i(20,"div",5)(21,"button",6),_("click",function(){return a.confirmDelete()}),r(22," Delete "),n(),i(23,"button",7),_("click",function(){return a.onNoClick()}),r(24,"Cancel"),n()()()),o&2&&(l(9),h("",a.data.requestId," "),l(5),k(a.data.employeeName),l(5),h("",a.data.leaveType," "),l(2),c("mat-dialog-close",1))},dependencies:[kt,Le,It,I,U,Lt],styles:[".delete-list[_ngcontent-%COMP%]{padding:0;list-style-type:none}"]})}}return t})();var ai=["filter"],oi=()=>[5,10,25,100];function ri(t,s){if(t&1){let e=b();i(0,"div")(1,"mat-option")(2,"mat-checkbox",40),_("click",function(a){return p(e),u(a.stopPropagation())}),Ne("ngModelChange",function(a){let m=p(e).$implicit;return Ae(m.visible,a)||(m.visible=a),u(a)}),r(3),n()()()}if(t&2){let e=s.$implicit;l(2),Pe("ngModel",e.visible),l(),h(" ",e.label," ")}}function li(t,s){if(t&1){let e=b();i(0,"mat-header-cell",41)(1,"mat-checkbox",42),_("change",function(a){p(e);let m=d();return u(a?m.masterToggle():null)}),n()()}if(t&2){let e=d();c("ngClass","tbl-col-width-per-6"),l(),c("checked",e.selection.hasValue()&&e.isAllSelected())("indeterminate",e.selection.hasValue()&&!e.isAllSelected())("ngClass","tbl-checkbox")}}function mi(t,s){if(t&1){let e=b();i(0,"mat-cell",41)(1,"mat-checkbox",43),_("click",function(a){return p(e),u(a.stopPropagation())})("change",function(a){let m=p(e).$implicit,v=d();return u(a?v.selection.toggle(m):null)}),n()()}if(t&2){let e=s.$implicit,o=d();c("ngClass","tbl-col-width-per-6"),l(),c("checked",o.selection.isSelected(e))("ngClass","tbl-checkbox")}}function si(t,s){}function ci(t,s){if(t&1&&(i(0,"mat-header-cell",47)(1,"span",48),r(2),n()()),t&2){let e=d(3).$implicit;l(2),k(e.label)}}function di(t,s){if(t&1){let e=b();i(0,"mat-cell",49),_("contextmenu",function(a){let m=p(e).$implicit,v=d(4);return u(v.onContextMenu(a,m))}),i(1,"span",50),r(2),n(),i(3,"span",48),r(4),Ge(5,"date"),n()()}if(t&2){let e=s.$implicit,o=d(3).$implicit;l(2),h("",o.label,":"),l(2),h(" ",We(5,2,e[o.def],"MM/dd/yyyy"),"")}}function pi(t,s){if(t&1&&(S(0,44),f(1,ci,3,1,"mat-header-cell",45)(2,di,6,5,"mat-cell",46),M()),t&2){let e=d(2).$implicit;c("matColumnDef",e.def)}}function ui(t,s){if(t&1&&(i(0,"mat-header-cell",47)(1,"span",48),r(2),n()()),t&2){let e=d(4).$implicit;l(2),k(e.label)}}function _i(t,s){if(t&1&&(i(0,"div")(1,"span",53)(2,"span",48),r(3),n()()()),t&2){let e=d().$implicit;l(3),h(" ",e.status,"")}}function fi(t,s){if(t&1&&(i(0,"div")(1,"span",54)(2,"span",48),r(3),n()()()),t&2){let e=d().$implicit;l(3),h(" ",e.status,"")}}function vi(t,s){if(t&1&&(i(0,"div")(1,"span",55)(2,"span",48),r(3),n()()()),t&2){let e=d().$implicit;l(3),h(" ",e.status,"")}}function Ci(t,s){if(t&1){let e=b();i(0,"mat-cell",52),_("contextmenu",function(a){let m=p(e).$implicit,v=d(5);return u(v.onContextMenu(a,m))}),i(1,"span",50),r(2),n(),f(3,_i,4,1,"div")(4,fi,4,1,"div")(5,vi,4,1,"div"),n()}if(t&2){let e=s.$implicit,o=d(4).$implicit;l(2),h("",o.label,":"),l(),x(e.status==="Approved"?3:-1),l(),x(e.status==="Pending"?4:-1),l(),x(e.status==="Rejected"?5:-1)}}function hi(t,s){if(t&1&&(S(0,44),f(1,ui,3,1,"mat-header-cell",45)(2,Ci,6,4,"mat-cell",51),M()),t&2){let e=d(3).$implicit;c("matColumnDef",e.def)}}function gi(t,s){if(t&1&&(i(0,"mat-header-cell",47)(1,"span",48),r(2),n()()),t&2){let e=d(4).$implicit;l(2),k(e.label)}}function xi(t,s){if(t&1){let e=b();i(0,"mat-cell",49),_("contextmenu",function(a){let m=p(e).$implicit,v=d(5);return u(v.onContextMenu(a,m))}),i(1,"span",50),r(2),n(),i(3,"span",48),r(4),n()()}if(t&2){let e=s.$implicit,o=d(4).$implicit;l(2),h("",o.label,":"),l(2),h(" ",e[o.def],"")}}function bi(t,s){if(t&1&&(S(0,44),f(1,gi,3,1,"mat-header-cell",45)(2,xi,5,2,"mat-cell",46),M()),t&2){let e=d(3).$implicit;c("matColumnDef",e.def)}}function yi(t,s){if(t&1&&f(0,hi,3,1,"ng-container",44)(1,bi,3,1,"ng-container",44),t&2){let e=d(2).$implicit;x(e.def==="status"?0:1)}}function Si(t,s){if(t&1&&f(0,pi,3,1,"ng-container",44)(1,yi,2,1),t&2){let e=d().$implicit;x(e.type==="date"?0:1)}}function Mi(t,s){if(t&1&&f(0,si,0,0)(1,Si,2,1),t&2){let e=s.$implicit;x(e.type==="checkBox"||e.type==="actionBtn"?0:1)}}function Ri(t,s){t&1&&(i(0,"mat-header-cell",56),r(1,"Actions"),n())}function wi(t,s){if(t&1){let e=b();i(0,"mat-cell",56)(1,"button",57),_("click",function(a){return p(e),u(a.stopPropagation())})("click",function(){let a=p(e).$implicit,m=d();return u(m.editCall(a))}),C(2,"app-feather-icons",58),n(),i(3,"button",57),_("click",function(a){return p(e),u(a.stopPropagation())})("click",function(){let a=p(e).$implicit,m=d();return u(m.deleteItem(a))}),C(4,"app-feather-icons",58),n()()}t&2&&(l(2),ke("tbl-fav-edit"),c("icon","edit"),l(2),ke("tbl-fav-delete"),c("icon","trash-2"))}function Di(t,s){t&1&&C(0,"mat-header-row")}function qi(t,s){if(t&1){let e=b();i(0,"mat-row",59),_("click",function(){let a=p(e).$implicit,m=d();return u(m.editCall(a))}),n()}t&2&&(B("cursor","pointer"),c("@rowsAnimation",void 0))}function Ei(t,s){t&1&&(i(0,"div",34),C(1,"mat-progress-spinner",60),n()),t&2&&(l(),c("diameter",40))}function Ti(t,s){if(t&1){let e=b();i(0,"button",61),_("click",function(){p(e);let a=d();return u(a.addNew())}),i(1,"mat-icon"),r(2,"add_circle_outline"),n(),i(3,"span"),r(4,"Add Record"),n()(),i(5,"button",61),_("click",function(){let a=p(e).item,m=d();return u(m.editCall(a))}),i(6,"mat-icon",22),r(7,"mode_edit"),n(),i(8,"span"),r(9,"Edit Record"),n()(),i(10,"button",61),_("click",function(){let a=p(e).item,m=d();return u(m.deleteItem(a))}),i(11,"mat-icon"),r(12,"delete_outline"),n(),i(13,"span"),r(14,"Delete Record"),n()(),i(15,"button",61),_("click",function(){p(e);let a=d();return u(a.refresh())}),i(16,"mat-icon"),r(17,"refresh"),n(),i(18,"span"),r(19,"Refresh Record"),n()(),i(20,"button",62)(21,"mat-icon"),r(22,"visibility_off"),n(),i(23,"span"),r(24,"Disable"),n()(),i(25,"button",63)(26,"mat-icon"),r(27,"settings_ethernet"),n(),i(28,"span"),r(29," Nested Menu"),n()()}if(t&2){d();let e=R(58);l(25),c("matMenuTriggerFor",e)}}function Li(t,s){if(t&1&&(i(0,"div",64),r(1," No results "),n()),t&2){let e=d();B("display",e.dataSource.data.length===0?"":"none")}}var Bt=(()=>{class t{constructor(e,o,a){this.dialog=e,this.leaveRequestService=o,this.snackBar=a,this.columnDefinitions=[{def:"select",label:"Checkbox",type:"checkBox",visible:!0},{def:"requestId",label:"Request ID",type:"text",visible:!0},{def:"employeeId",label:"Employee ID",type:"text",visible:!1},{def:"employeeName",label:"Employee Name",type:"text",visible:!1},{def:"applyDate",label:"Apply Date",type:"date",visible:!0},{def:"leaveType",label:"Leave Type",type:"text",visible:!0},{def:"startDate",label:"Start Date",type:"date",visible:!0},{def:"endDate",label:"End Date",type:"date",visible:!0},{def:"status",label:"Status",type:"text",visible:!0},{def:"reason",label:"Reason",type:"text",visible:!0},{def:"dayType",label:"Day Type",type:"text",visible:!0},{def:"actions",label:"Actions",type:"actionBtn",visible:!0}],this.dataSource=new Re([]),this.selection=new lt(!0,[]),this.destroy$=new Qe,this.contextMenuPosition={x:"0px",y:"0px"},this.isLoading=!0}ngOnInit(){this.loadData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}refresh(){this.loadData()}getDisplayedColumns(){return this.columnDefinitions.filter(e=>e.visible).map(e=>e.def)}addNew(){this.openDialog("add")}editCall(e){this.openDialog("edit",e)}openDialog(e,o){this.dialog.open(Nt,{width:"50vw",maxWidth:"100vw",data:{leaveRequest:o,action:e},autoFocus:!1}).afterClosed().subscribe(m=>{m&&(e==="add"?this.dataSource.data=[m,...this.dataSource.data]:this.updateRecord(m),this.refreshTable(),this.showNotification(e==="add"?"snackbar-success":"black",`${e==="add"?"Add":"Edit"} Record Successfully...!!!`,"bottom","center"))})}updateRecord(e){let o=this.dataSource.data.findIndex(a=>a.requestId===e.requestId);o!==-1&&(this.dataSource.data[o]=e,this.dataSource._updateChangeSubscription())}deleteItem(e){this.dialog.open($t,{data:e}).afterClosed().subscribe(a=>{a&&(this.dataSource.data=this.dataSource.data.filter(m=>m.requestId!==e.requestId),this.refreshTable(),this.showNotification("snackbar-danger","Delete Record Successfully...!!!","bottom","center"))})}refreshTable(){this.paginator.pageIndex=0,this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}applyFilter(e){let o=e.target.value.trim().toLowerCase();this.dataSource.filter=o}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}masterToggle(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(e=>this.selection.select(e))}removeSelectedRows(){let e=this.selection.selected.length;this.dataSource.data=this.dataSource.data.filter(o=>!this.selection.selected.includes(o)),this.selection.clear(),this.showNotification("snackbar-danger",`${e} Record(s) Deleted Successfully...!!!`,"bottom","center")}loadData(){this.leaveRequestService.getAllLeaveRequests().subscribe({next:e=>{this.dataSource.data=e,this.isLoading=!1,this.refreshTable(),this.dataSource.filterPredicate=(o,a)=>Object.values(o).some(m=>m.toString().toLowerCase().includes(a))},error:e=>console.error(e)})}showNotification(e,o,a,m){this.snackBar.open(o,"",{duration:2e3,verticalPosition:a,horizontalPosition:m,panelClass:e})}exportExcel(){let e=this.dataSource.data.map(o=>({"Request ID":o.requestId,"Employee ID":o.employeeId,"Employee Name":o.employeeName,"Leave Type":o.leaveType,"Start Date":o.startDate,"End Date":o.endDate,Status:o.status,Reason:o.reason,"Apply Date":o.applyDate,"Day Type":o.dayType}));vt.exportToExcel(e,"excel")}onContextMenu(e,o){e.preventDefault(),this.contextMenuPosition.x=`${e.clientX}px`,this.contextMenuPosition.y=`${e.clientY}px`,this.contextMenu&&(this.contextMenu.menuData={item:o},this.contextMenu.menu?.focusFirstItem("mouse"),this.contextMenu.openMenu())}static{this.\u0275fac=function(o){return new(o||t)(g(Tt),g(F),g(Ft))}}static{this.\u0275cmp=w({type:t,selectors:[["app-leave-request"]],viewQuery:function(o,a){if(o&1&&(D(T,5),D(L,5),D(ai,5),D(G,5)),o&2){let m;q(m=E())&&(a.paginator=m.first),q(m=E())&&(a.sort=m.first),q(m=E())&&(a.filter=m.first),q(m=E())&&(a.contextMenu=m.first)}},decls:77,vars:17,consts:[["filter",""],["select",""],["contextMenu","matMenu"],["nestedmenu","matMenu"],["paginator",""],[1,"table-header-toolbar"],[1,"row"],[1,"col-sm-8"],[1,"table-header"],["appearance","outline",1,"search-box"],[1,"search-label"],["matInput","","type","text",3,"keyup"],["matSuffix",""],[1,"col-sm-4"],[1,"right-side-btn"],["mat-icon-button","","matTooltip","Delete",1,"tbl-header-btn","text-red",3,"click","hidden"],["mat-icon-button","","matTooltip","Show/Hide Column",1,"text-indigo",3,"click"],[1,"column-filter",2,"width","200px","display","table",3,"ngModelChange","ngModel"],[1,"table-column-label"],["mat-icon-button","","matTooltip","Add",1,"tbl-header-btn","text-green",3,"click"],["mat-icon-button","","matTooltip","Refresh",1,"tbl-header-btn","text-dark-grey",3,"click"],["mat-icon-button","","matTooltip","Xlsx Download",1,"tbl-header-btn","text-blue",3,"click"],[1,"material-icons-outlined"],[1,"overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",1,"mat-cell","advance-table",3,"dataSource"],["matColumnDef","select"],[3,"ngClass",4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","actions"],["class","pr-0",4,"matHeaderCellDef"],["class","pr-0",4,"matCellDef"],[4,"matHeaderRowDef"],["matRipple","",3,"cursor","click",4,"matRowDef","matRowDefColumns"],[1,"tbl-spinner"],[2,"visibility","hidden","position","fixed",3,"matMenuTriggerFor"],["matMenuContent",""],["mat-menu-item",""],[1,"no-results",3,"display"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["color","primary",3,"click","ngModelChange","ngModel"],[3,"ngClass"],["color","primary",3,"change","checked","indeterminate","ngClass"],["color","primary",3,"click","change","checked","ngClass"],[3,"matColumnDef"],["mat-sort-header","",4,"matHeaderCellDef"],[3,"contextmenu",4,"matCellDef"],["mat-sort-header",""],[1,"truncate-text"],[3,"contextmenu"],[1,"mobile-label"],["mat-cell","",3,"contextmenu",4,"matCellDef"],["mat-cell","",3,"contextmenu"],[1,"badge","badge-solid-green"],[1,"badge","badge-solid-blue"],[1,"badge","badge-solid-orange"],[1,"pr-0"],["mat-icon-button","","color","accent",1,"tbl-action-btn",3,"click"],[3,"icon"],["matRipple","",3,"click"],["color","primary","mode","indeterminate",3,"diameter"],["mat-menu-item","",3,"click"],["mat-menu-item","","disabled",""],["mat-menu-item","",3,"matMenuTriggerFor"],[1,"no-results"]],template:function(o,a){if(o&1){let m=b();C(0,"app-page-header"),i(1,"mat-card")(2,"mat-card-header")(3,"div",5)(4,"div",6)(5,"div",7)(6,"span",8),r(7,"Leave Requests"),n(),i(8,"mat-form-field",9)(9,"mat-label",10),r(10,"Search..."),n(),i(11,"input",11,0),_("keyup",function(y){return p(m),u(a.applyFilter(y))}),n(),i(13,"mat-icon",12),r(14,"search"),n()()(),i(15,"div",13)(16,"div",14)(17,"button",15),_("click",function(){return p(m),u(a.removeSelectedRows())}),i(18,"mat-icon"),r(19,"delete_outline"),n()(),i(20,"button",16),_("click",function(){p(m);let y=R(24);return u(y.open())}),i(21,"mat-icon"),r(22,"filter_list"),n(),i(23,"mat-select",17,1),Ne("ngModelChange",function(y){p(m);let V=R(12);return Ae(V.value,y)||(V.value=y),u(y)}),i(25,"span",18),r(26,"Show/Hide Column"),n(),Fe(27,ri,4,2,"div",null,Ie),n()(),i(29,"button",19),_("click",function(){return p(m),u(a.addNew())}),i(30,"mat-icon"),r(31,"add_circle_outline"),n()(),i(32,"button",20),_("click",function(){return p(m),u(a.refresh())}),i(33,"mat-icon"),r(34,"refresh"),n()(),i(35,"button",21),_("click",function(){return p(m),u(a.exportExcel())}),i(36,"mat-icon",22),r(37,"file_download"),n()()()()()()(),i(38,"mat-card-content")(39,"div",23)(40,"div",24)(41,"table",25),S(42,26),f(43,li,2,4,"mat-header-cell",27)(44,mi,2,3,"mat-cell",28),M(),Fe(45,Mi,2,1,null,null,Ie),S(47,29),f(48,Ri,2,0,"mat-header-cell",30)(49,wi,5,6,"mat-cell",31),M(),f(50,Di,1,0,"mat-header-row",32)(51,qi,1,3,"mat-row",33),n()(),f(52,Ei,2,1,"div",34),C(53,"div",35),i(54,"mat-menu",null,2),f(56,Ti,30,1,"ng-template",36),n(),i(57,"mat-menu",null,3)(59,"button",37)(60,"mat-icon"),r(61,"mail_outline"),n(),i(62,"span"),r(63,"Item 1"),n()(),i(64,"button",37)(65,"mat-icon"),r(66,"turned_in_not"),n(),i(67,"span"),r(68,"Item 2"),n()(),i(69,"button",37)(70,"mat-icon",22),r(71,"sms"),n(),i(72,"span"),r(73,"Item 3"),n()()(),f(74,Li,2,2,"div",38),C(75,"mat-paginator",39,4),n()()()}if(o&2){let m=R(12),v=R(55);l(17),c("hidden",!a.selection.hasValue()),l(6),Pe("ngModel",m.value),l(4),Ve(a.columnDefinitions),l(14),c("dataSource",a.dataSource),l(4),Ve(a.columnDefinitions),l(5),c("matHeaderRowDef",a.getDisplayedColumns()),l(),c("matRowDefColumns",a.getDisplayedColumns()),l(),x(a.isLoading?52:-1),l(),B("left",a.contextMenuPosition.x)("top",a.contextMenuPosition.y),c("matMenuTriggerFor",v),l(21),x(a.isLoading?74:-1),l(),c("length",a.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",O(16,oi))}},dependencies:[ue,pe,se,ce,de,ne,Y,W,X,me,le,Q,j,I,z,tt,et,oe,ae,te,ee,K,Z,ct,Je,Xe,Ye,ie,wt,Rt,Me,_e,ve,xe,Ce,fe,be,he,ge,ye,Se,De,L,we,Dt,Ze,Ke,qe,Et,ot,at,it,nt,G,re,T],styles:["[_nghost-%COMP%]     .search-box .mat-mdc-text-field-wrapper{height:40px!important}[_nghost-%COMP%]     .search-box .mat-mdc-form-field-flex{margin-top:-7px!important}[_nghost-%COMP%]     .search-box .mat-mdc-floating-label{height:32px}[_nghost-%COMP%]     .search-box .mat-mdc-input-element{font-size:13px!important}[_nghost-%COMP%]     .search-box .search-label{font-size:13px;top:-4px;position:relative}[_nghost-%COMP%]     .column-filter .mat-mdc-select-arrow{display:none}[_nghost-%COMP%]     .advance-table .mat-mdc-header-cell{font-weight:500}"],data:{animation:[Ct]}})}}return t})();var Ot=(()=>{class t{constructor(e){this.http=e,this.API_URL="assets/data/emp-leave-balance.json"}getEmployeeData(){return this.http.get(this.API_URL)}static{this.\u0275fac=function(o){return new(o||t)($(H))}}static{this.\u0275prov=N({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var Ii=()=>[5,10,25,100];function Fi(t,s){t&1&&(i(0,"th",16),r(1," Leave Type "),n())}function Vi(t,s){if(t&1&&(i(0,"td",17),r(1),n()),t&2){let e=s.$implicit;l(),h(" ",e.leaveType," ")}}function Pi(t,s){t&1&&(i(0,"th",16),r(1," Total Leave "),n())}function Ai(t,s){if(t&1&&(i(0,"td",17),r(1),n()),t&2){let e=s.$implicit;l(),h(" ",e.totalLeave," ")}}function Ni(t,s){t&1&&(i(0,"th",16),r(1," Remaining Leave "),n())}function $i(t,s){if(t&1&&(i(0,"td",17),r(1),n()),t&2){let e=s.$implicit;l(),h(" ",e.remainingLeave," ")}}function Bi(t,s){t&1&&C(0,"tr",18)}function Oi(t,s){t&1&&C(0,"tr",19)}var Ht=(()=>{class t{constructor(e){this.leaveService=e,this.displayedColumns=["leaveType","totalLeave","remainingLeave"],this.dataSource=new Re}ngOnInit(){this.leaveService.getEmployeeData().subscribe(e=>{this.dataSource.data=e.leaveBalances,this.sort&&(this.dataSource.sort=this.sort),this.paginator&&(this.dataSource.paginator=this.paginator)})}static{this.\u0275fac=function(o){return new(o||t)(g(Ot))}}static{this.\u0275cmp=w({type:t,selectors:[["app-leave-balance"]],viewQuery:function(o,a){if(o&1&&(D(L,5),D(T,5)),o&2){let m;q(m=E())&&(a.sort=m.first),q(m=E())&&(a.paginator=m.first)}},decls:25,vars:8,consts:[["paginator",""],[1,"table-header-toolbar"],[1,"row"],[1,"col-sm-8"],[1,"table-header"],[1,"overflow-auto"],[1,"responsive_table"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","leaveType"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","totalLeave"],["matColumnDef","remainingLeave"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"length","pageIndex","pageSize","pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(o,a){o&1&&(C(0,"app-page-header"),i(1,"mat-card")(2,"mat-card-header")(3,"div",1)(4,"div",2)(5,"div",3)(6,"span",4),r(7,"Leave Balance"),n()()()()(),i(8,"mat-card-content")(9,"div",5)(10,"div",6)(11,"table",7),S(12,8),f(13,Fi,2,0,"th",9)(14,Vi,2,1,"td",10),M(),S(15,11),f(16,Pi,2,0,"th",9)(17,Ai,2,1,"td",10),M(),S(18,12),f(19,Ni,2,0,"th",9)(20,$i,2,1,"td",10),M(),f(21,Bi,1,0,"tr",13)(22,Oi,1,0,"tr",14),n()(),C(23,"mat-paginator",15,0),n()()()),o&2&&(l(11),c("dataSource",a.dataSource),l(10),c("matHeaderRowDef",a.displayedColumns),l(),c("matRowDefColumns",a.displayedColumns),l(),c("length",a.dataSource.filteredData.length)("pageIndex",0)("pageSize",10)("pageSizeOptions",O(7,Ii)))},dependencies:[ue,Me,_e,ve,xe,Ce,fe,be,he,ge,ye,Se,De,L,we,pe,se,ce,de,qe,re,T],encapsulation:2})}}return t})();var Yn=[{path:"",redirectTo:"leave-request",pathMatch:"full"},{path:"leave-request",component:Bt},{path:"leave-balance",component:Ht},{path:"**",component:qt}];export{Yn as EMP_LEAVES_ROUTE};
